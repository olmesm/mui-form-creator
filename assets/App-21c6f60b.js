import{g as qn,c as be,r as ue,j as Me}from"./index-f5ff87bc.js";var Qt={exports:{}};(function(L,v){Object.defineProperty(v,"__esModule",{value:!0});function c(C){return typeof C=="object"&&!("toString"in C)?Object.prototype.toString.call(C).slice(8,-1):C}var p=typeof process=="object"&&!0;function k(C,$){if(!C)throw p?new Error("Invariant failed"):new Error($())}v.invariant=k;var d=Object.prototype.hasOwnProperty,S=Array.prototype.splice,w=Object.prototype.toString;function s(C){return w.call(C).slice(8,-1)}var a=Object.assign||function(C,$){return t($).forEach(function(T){d.call($,T)&&(C[T]=$[T])}),C},t=typeof Object.getOwnPropertySymbols=="function"?function(C){return Object.keys(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.keys(C)};function e(C){return Array.isArray(C)?a(C.constructor(C.length),C):s(C)==="Map"?new Map(C):s(C)==="Set"?new Set(C):C&&typeof C=="object"?a(Object.create(Object.getPrototypeOf(C)),C):C}var n=function(){function C(){this.commands=a({},i),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function($,T){return $===T},this.update.newContext=function(){return new C().update}}return Object.defineProperty(C.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function($){this.update.isEquals=$},enumerable:!0,configurable:!0}),C.prototype.extend=function($,T){this.commands[$]=T},C.prototype.update=function($,T){var b=this,g=typeof T=="function"?{$apply:T}:T;Array.isArray($)&&Array.isArray(g)||k(!Array.isArray(g),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),k(typeof g=="object"&&g!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(b.commands).join(", ")+".")});var M=$;return t(g).forEach(function(E){if(d.call(b.commands,E)){var y=$===M;M=b.commands[E](g[E],M,g,$),y&&b.isEquals(M,$)&&(M=$)}else{var x=s($)==="Map"?b.update($.get(E),g[E]):b.update($[E],g[E]),R=s(M)==="Map"?M.get(E):M[E];(!b.isEquals(x,R)||typeof x>"u"&&!d.call($,E))&&(M===$&&(M=e($)),s(M)==="Map"?M.set(E,x):M[E]=x)}}),M},C}();v.Context=n;var i={$push:function(C,$,T){return o($,T,"$push"),C.length?$.concat(C):$},$unshift:function(C,$,T){return o($,T,"$unshift"),C.length?C.concat($):$},$splice:function(C,$,T,b){return m($,T),C.forEach(function(g){u(g),$===b&&g.length&&($=e(b)),S.apply($,g)}),$},$set:function(C,$,T){return A(T),C},$toggle:function(C,$){l(C,"$toggle");var T=C.length?e($):$;return C.forEach(function(b){T[b]=!$[b]}),T},$unset:function(C,$,T,b){return l(C,"$unset"),C.forEach(function(g){Object.hasOwnProperty.call($,g)&&($===b&&($=e(b)),delete $[g])}),$},$add:function(C,$,T,b){return h($,"$add"),l(C,"$add"),s($)==="Map"?C.forEach(function(g){var M=g[0],E=g[1];$===b&&$.get(M)!==E&&($=e(b)),$.set(M,E)}):C.forEach(function(g){$===b&&!$.has(g)&&($=e(b)),$.add(g)}),$},$remove:function(C,$,T,b){return h($,"$remove"),l(C,"$remove"),C.forEach(function(g){$===b&&$.has(g)&&($=e(b)),$.delete(g)}),$},$merge:function(C,$,T,b){return f($,C),t(C).forEach(function(g){C[g]!==$[g]&&($===b&&($=e(b)),$[g]=C[g])}),$},$apply:function(C,$){return _(C),C($)}},r=new n;v.isEquals=r.update.isEquals,v.extend=r.extend,v.default=r.update,v.default.default=L.exports=a(v.default,v);function o(C,$,T){k(Array.isArray(C),function(){return"update(): expected target of "+c(T)+" to be an array; got "+c(C)+"."}),l($[T],T)}function l(C,$){k(Array.isArray(C),function(){return"update(): expected spec of "+c($)+" to be an array; got "+c(C)+". Did you forget to wrap your parameter in an array?"})}function m(C,$){k(Array.isArray(C),function(){return"Expected $splice target to be an array; got "+c(C)}),u($.$splice)}function u(C){k(Array.isArray(C),function(){return"update(): expected spec of $splice to be an array of arrays; got "+c(C)+". Did you forget to wrap your parameters in an array?"})}function _(C){k(typeof C=="function",function(){return"update(): expected spec of $apply to be a function; got "+c(C)+"."})}function A(C){k(Object.keys(C).length===1,function(){return"Cannot have more than one key in an object with $set"})}function f(C,$){k($&&typeof $=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+c($)}),k(C&&typeof C=="object",function(){return"update(): $merge expects a target of type 'object'; got "+c(C)})}function h(C,$){var T=s(C);k(T==="Map"||T==="Set",function(){return"update(): "+c($)+" expects a target of type Set or Map; got "+c(T)})}})(Qt,Qt.exports);var xr=Qt.exports;const kr=qn(xr);var rt={},on={},ei={exports:{}};(function(L,v){(function(){var c="ace",p=function(){return this}();!p&&typeof window<"u"&&(p=window);var k=function(t,e,n){if(typeof t!="string"){k.original?k.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(n=e),k.modules[t]||(k.payloads[t]=n,k.modules[t]=null)};k.modules={},k.payloads={};var d=function(t,e,n){if(typeof e=="string"){var i=s(t,e);if(i!=null)return n&&n(),i}else if(Object.prototype.toString.call(e)==="[object Array]"){for(var r=[],o=0,l=e.length;o<l;++o){var m=s(t,e[o]);if(m==null&&S.original)return;r.push(m)}return n&&n.apply(null,r)||!0}},S=function(t,e){var n=d("",t,e);return n==null&&S.original?S.original.apply(this,arguments):n},w=function(t,e){if(e.indexOf("!")!==-1){var n=e.split("!");return w(t,n[0])+"!"+w(t,n[1])}if(e.charAt(0)=="."){var i=t.split("/").slice(0,-1).join("/");for(e=i+"/"+e;e.indexOf(".")!==-1&&r!=e;){var r=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},s=function(t,e){e=w(t,e);var n=k.modules[e];if(!n){if(n=k.payloads[e],typeof n=="function"){var i={},r={id:e,uri:"",exports:i,packaged:!0},o=function(m,u){return d(e,m,u)},l=n(o,i,r);i=l||r.exports,k.modules[e]=i,delete k.payloads[e]}n=k.modules[e]=i||n}return n};function a(t){var e=p;t&&(p[t]||(p[t]={}),e=p[t]),(!e.define||!e.define.packaged)&&(k.original=e.define,e.define=k,e.define.packaged=!0),(!e.require||!e.require.packaged)&&(S.original=e.require,e.require=S,e.require.packaged=!0)}a(c)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(c,p,k){function d(S,w,s){Object.defineProperty(S,w,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||d(String.prototype,"startsWith",function(S,w){return w=w||0,this.lastIndexOf(S,w)===w}),String.prototype.endsWith||d(String.prototype,"endsWith",function(S,w){var s=this;(w===void 0||w>s.length)&&(w=s.length),w-=S.length;var a=s.indexOf(S,w);return a!==-1&&a===w}),String.prototype.repeat||d(String.prototype,"repeat",function(S){for(var w="",s=this;S>0;)S&1&&(w+=s),(S>>=1)&&(s+=s);return w}),String.prototype.includes||d(String.prototype,"includes",function(S,w){return this.indexOf(S,w)!=-1}),Object.assign||(Object.assign=function(S){if(S==null)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(S),s=1;s<arguments.length;s++){var a=arguments[s];a!=null&&Object.keys(a).forEach(function(t){w[t]=a[t]})}return w}),Object.values||(Object.values=function(S){return Object.keys(S).map(function(w){return S[w]})}),Array.prototype.find||d(Array.prototype,"find",function(S){for(var w=this.length,s=arguments[1],a=0;a<w;a++){var t=this[a];if(S.call(s,t,a,this))return t}}),Array.prototype.findIndex||d(Array.prototype,"findIndex",function(S){for(var w=this.length,s=arguments[1],a=0;a<w;a++){var t=this[a];if(S.call(s,t,a,this))return a}}),Array.prototype.includes||d(Array.prototype,"includes",function(S,w){return this.indexOf(S,w)!=-1}),Array.prototype.fill||d(Array.prototype,"fill",function(S){for(var w=this,s=w.length>>>0,a=arguments[1],t=a>>0,e=t<0?Math.max(s+t,0):Math.min(t,s),n=arguments[2],i=n===void 0?s:n>>0,r=i<0?Math.max(s+i,0):Math.min(i,s);e<r;)w[e]=S,e++;return w}),Array.of||d(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(c,p,k){c("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(c,p,k){p.last=function(w){return w[w.length-1]},p.stringReverse=function(w){return w.split("").reverse().join("")},p.stringRepeat=function(w,s){for(var a="";s>0;)s&1&&(a+=w),(s>>=1)&&(w+=w);return a};var d=/^\s\s*/,S=/\s\s*$/;p.stringTrimLeft=function(w){return w.replace(d,"")},p.stringTrimRight=function(w){return w.replace(S,"")},p.copyObject=function(w){var s={};for(var a in w)s[a]=w[a];return s},p.copyArray=function(w){for(var s=[],a=0,t=w.length;a<t;a++)w[a]&&typeof w[a]=="object"?s[a]=this.copyObject(w[a]):s[a]=w[a];return s},p.deepCopy=function w(s){if(typeof s!="object"||!s)return s;var a;if(Array.isArray(s)){a=[];for(var t=0;t<s.length;t++)a[t]=w(s[t]);return a}if(Object.prototype.toString.call(s)!=="[object Object]")return s;a={};for(var t in s)a[t]=w(s[t]);return a},p.arrayToMap=function(w){for(var s={},a=0;a<w.length;a++)s[w[a]]=1;return s},p.createMap=function(w){var s=Object.create(null);for(var a in w)s[a]=w[a];return s},p.arrayRemove=function(w,s){for(var a=0;a<=w.length;a++)s===w[a]&&w.splice(a,1)},p.escapeRegExp=function(w){return w.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},p.escapeHTML=function(w){return(""+w).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},p.getMatchOffsets=function(w,s){var a=[];return w.replace(s,function(t){a.push({offset:arguments[arguments.length-2],length:t.length})}),a},p.deferredCall=function(w){var s=null,a=function(){s=null,w()},t=function(e){return t.cancel(),s=setTimeout(a,e||0),t};return t.schedule=t,t.call=function(){return this.cancel(),w(),t},t.cancel=function(){return clearTimeout(s),s=null,t},t.isPending=function(){return s},t},p.delayedCall=function(w,s){var a=null,t=function(){a=null,w()},e=function(n){a==null&&(a=setTimeout(t,n||s))};return e.delay=function(n){a&&clearTimeout(a),a=setTimeout(t,n||s)},e.schedule=e,e.call=function(){this.cancel(),w()},e.cancel=function(){a&&clearTimeout(a),a=null},e.isPending=function(){return a},e}}),ace.define("ace/lib/useragent",["require","exports","module"],function(c,p,k){p.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},p.getOS=function(){return p.isMac?p.OS.MAC:p.isLinux?p.OS.LINUX:p.OS.WINDOWS};var d=typeof navigator=="object"?navigator:{},S=(/mac|win|linux/i.exec(d.platform)||["other"])[0].toLowerCase(),w=d.userAgent||"",s=d.appName||"";p.isWin=S=="win",p.isMac=S=="mac",p.isLinux=S=="linux",p.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((w.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((w.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),p.isOldIE=p.isIE&&p.isIE<9,p.isGecko=p.isMozilla=w.match(/ Gecko\/\d+/),p.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",p.isWebKit=parseFloat(w.split("WebKit/")[1])||void 0,p.isChrome=parseFloat(w.split(" Chrome/")[1])||void 0,p.isEdge=parseFloat(w.split(" Edge/")[1])||void 0,p.isAIR=w.indexOf("AdobeAIR")>=0,p.isAndroid=w.indexOf("Android")>=0,p.isChromeOS=w.indexOf(" CrOS ")>=0,p.isIOS=/iPad|iPhone|iPod/.test(w)&&!window.MSStream,p.isIOS&&(p.isMac=!0),p.isMobile=p.isIOS||p.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(c,p,k){var d=c("./useragent"),S="http://www.w3.org/1999/xhtml";p.buildDom=function n(i,r,o){if(typeof i=="string"&&i){var l=document.createTextNode(i);return r&&r.appendChild(l),l}if(!Array.isArray(i))return i&&i.appendChild&&r&&r.appendChild(i),i;if(typeof i[0]!="string"||!i[0]){for(var m=[],u=0;u<i.length;u++){var _=n(i[u],r,o);_&&m.push(_)}return m}var A=document.createElement(i[0]),f=i[1],h=1;f&&typeof f=="object"&&!Array.isArray(f)&&(h=2);for(var u=h;u<i.length;u++)n(i[u],A,o);return h==2&&Object.keys(f).forEach(function(C){var $=f[C];C==="class"?A.className=Array.isArray($)?$.join(" "):$:typeof $=="function"||C=="value"||C[0]=="$"?A[C]=$:C==="ref"?o&&(o[$]=A):C==="style"?typeof $=="string"&&(A.style.cssText=$):$!=null&&A.setAttribute(C,$)}),r&&r.appendChild(A),A},p.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement},p.createElement=function(n,i){return document.createElementNS?document.createElementNS(i||S,n):document.createElement(n)},p.removeChildren=function(n){n.innerHTML=""},p.createTextNode=function(n,i){var r=i?i.ownerDocument:document;return r.createTextNode(n)},p.createFragment=function(n){var i=n?n.ownerDocument:document;return i.createDocumentFragment()},p.hasCssClass=function(n,i){var r=(n.className+"").split(/\s+/g);return r.indexOf(i)!==-1},p.addCssClass=function(n,i){p.hasCssClass(n,i)||(n.className+=" "+i)},p.removeCssClass=function(n,i){for(var r=n.className.split(/\s+/g);;){var o=r.indexOf(i);if(o==-1)break;r.splice(o,1)}n.className=r.join(" ")},p.toggleCssClass=function(n,i){for(var r=n.className.split(/\s+/g),o=!0;;){var l=r.indexOf(i);if(l==-1)break;o=!1,r.splice(l,1)}return o&&r.push(i),n.className=r.join(" "),o},p.setCssClass=function(n,i,r){r?p.addCssClass(n,i):p.removeCssClass(n,i)},p.hasCssString=function(n,i){var r=0,o;if(i=i||document,o=i.querySelectorAll("style")){for(;r<o.length;)if(o[r++].id===n)return!0}},p.removeElementById=function(n,i){i=i||document,i.getElementById(n)&&i.getElementById(n).remove()};var w,s=[];p.useStrictCSP=function(n){w=n,n==!1?a():s||(s=[])};function a(){var n=s;s=null,n&&n.forEach(function(i){t(i[0],i[1])})}function t(n,i,r){if(!(typeof document>"u")){if(s){if(r)a();else if(r===!1)return s.push([n,i])}if(!w){var o=r;!r||!r.getRootNode?o=document:(o=r.getRootNode(),(!o||o==r)&&(o=document));var l=o.ownerDocument||o;if(i&&p.hasCssString(i,o))return null;i&&(n+=`
/*# sourceURL=ace/css/`+i+" */");var m=p.createElement("style");m.appendChild(l.createTextNode(n)),i&&(m.id=i),o==l&&(o=p.getDocumentHead(l)),o.insertBefore(m,o.firstChild)}}}if(p.importCssString=t,p.importCssStylsheet=function(n,i){p.buildDom(["link",{rel:"stylesheet",href:n}],p.getDocumentHead(i))},p.scrollbarWidth=function(n){var i=p.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var r=p.createElement("ace_outer"),o=r.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",r.appendChild(i);var l=n&&n.documentElement||document&&document.documentElement;if(!l)return 0;l.appendChild(r);var m=i.offsetWidth;o.overflow="scroll";var u=i.offsetWidth;return m===u&&(u=r.clientWidth),l.removeChild(r),m-u},p.computedStyle=function(n,i){return window.getComputedStyle(n,"")||{}},p.setStyle=function(n,i,r){n[i]!==r&&(n[i]=r)},p.HAS_CSS_ANIMATION=!1,p.HAS_CSS_TRANSFORMS=!1,p.HI_DPI=d.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,d.isChromeOS&&(p.HI_DPI=!1),typeof document<"u"){var e=document.createElement("div");p.HI_DPI&&e.style.transform!==void 0&&(p.HAS_CSS_TRANSFORMS=!0),!d.isEdge&&typeof e.style.animationName<"u"&&(p.HAS_CSS_ANIMATION=!0),e=null}p.HAS_CSS_TRANSFORMS?p.translate=function(n,i,r){n.style.transform="translate("+Math.round(i)+"px, "+Math.round(r)+"px)"}:p.translate=function(n,i,r){n.style.top=Math.round(r)+"px",n.style.left=Math.round(i)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(c,p,k){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var d=c("./dom");p.get=function(S,w){var s=new XMLHttpRequest;s.open("GET",S,!0),s.onreadystatechange=function(){s.readyState===4&&w(s.responseText)},s.send(null)},p.loadScript=function(S,w){var s=d.getDocumentHead(),a=document.createElement("script");a.src=S,s.appendChild(a),a.onload=a.onreadystatechange=function(t,e){(e||!a.readyState||a.readyState=="loaded"||a.readyState=="complete")&&(a=a.onload=a.onreadystatechange=null,e||w())}},p.qualifyURL=function(S){var w=document.createElement("a");return w.href=S,w.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(c,p,k){p.inherits=function(d,S){d.super_=S,d.prototype=Object.create(S.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})},p.mixin=function(d,S){for(var w in S)d[w]=S[w];return d},p.implement=function(d,S){p.mixin(d,S)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(c,p,k){var d={},S=function(){this.propagationStopped=!0},w=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(s,a){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[s]||[],e=this._defaultHandlers[s];if(!(!t.length&&!e)){(typeof a!="object"||!a)&&(a={}),a.type||(a.type=s),a.stopPropagation||(a.stopPropagation=S),a.preventDefault||(a.preventDefault=w),t=t.slice();for(var n=0;n<t.length&&(t[n](a,this),!a.propagationStopped);n++);if(e&&!a.defaultPrevented)return e(a,this)}},d._signal=function(s,a){var t=(this._eventRegistry||{})[s];if(t){t=t.slice();for(var e=0;e<t.length;e++)t[e](a,this)}},d.once=function(s,a){var t=this;if(this.on(s,function e(){t.off(s,e),a.apply(null,arguments)}),!a)return new Promise(function(e){a=e})},d.setDefaultHandler=function(s,a){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[s]){var e=t[s],n=t._disabled_[s];n||(t._disabled_[s]=n=[]),n.push(e);var i=n.indexOf(a);i!=-1&&n.splice(i,1)}t[s]=a},d.removeDefaultHandler=function(s,a){var t=this._defaultHandlers;if(t){var e=t._disabled_[s];if(t[s]==a)e&&this.setDefaultHandler(s,e.pop());else if(e){var n=e.indexOf(a);n!=-1&&e.splice(n,1)}}},d.on=d.addEventListener=function(s,a,t){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[s];return e||(e=this._eventRegistry[s]=[]),e.indexOf(a)==-1&&e[t?"unshift":"push"](a),a},d.off=d.removeListener=d.removeEventListener=function(s,a){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[s];if(t){var e=t.indexOf(a);e!==-1&&t.splice(e,1)}},d.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},p.EventEmitter=d}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(c,p,k){"no use strict";var d=c("./oop"),S=c("./event_emitter").EventEmitter,w={setOptions:function(n){Object.keys(n).forEach(function(i){this.setOption(i,n[i])},this)},getOptions:function(n){var i={};if(n)Array.isArray(n)||(i=n,n=Object.keys(i));else{var r=this.$options;n=Object.keys(r).filter(function(o){return!r[o].hidden})}return n.forEach(function(o){i[o]=this.getOption(o)},this),i},setOption:function(n,i){if(this["$"+n]!==i){var r=this.$options[n];if(!r)return s('misspelled option "'+n+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(n,i);r.handlesSet||(this["$"+n]=i),r&&r.set&&r.set.call(this,i)}},getOption:function(n){var i=this.$options[n];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].getOption(n):i&&i.get?i.get.call(this):this["$"+n]:s('misspelled option "'+n+'"')}};function s(n){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function a(n,i){var r=new Error(n);r.data=i,typeof console=="object"&&console.error&&console.error(r),setTimeout(function(){throw r})}var t,e=function(){function n(){this.$defaultOptions={}}return n.prototype.defineOptions=function(i,r,o){return i.$options||(this.$defaultOptions[r]=i.$options={}),Object.keys(o).forEach(function(l){var m=o[l];typeof m=="string"&&(m={forwardTo:m}),m.name||(m.name=l),i.$options[m.name]=m,"initialValue"in m&&(i["$"+m.name]=m.initialValue)}),d.implement(i,w),this},n.prototype.resetOptions=function(i){Object.keys(i.$options).forEach(function(r){var o=i.$options[r];"value"in o&&i.setOption(r,o.value)})},n.prototype.setDefaultValue=function(i,r,o){if(!i){for(i in this.$defaultOptions)if(this.$defaultOptions[i][r])break;if(!this.$defaultOptions[i][r])return!1}var l=this.$defaultOptions[i]||(this.$defaultOptions[i]={});l[r]&&(l.forwardTo?this.setDefaultValue(l.forwardTo,r,o):l[r].value=o)},n.prototype.setDefaultValues=function(i,r){Object.keys(r).forEach(function(o){this.setDefaultValue(i,o,r[o])},this)},n.prototype.setMessages=function(i){t=i},n.prototype.nls=function(i,r){var o=t&&t[i]||i;return r&&(o=o.replace(/\$(\$|[\d]+)/g,function(l,m){return m=="$"?"$":r[m]})),o},n}();e.prototype.warn=s,e.prototype.reportError=a,d.implement(e.prototype,S),p.AppConfig=e}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(c,p,k){k.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(c,p,k){p.isDark=!1,p.cssClass="ace-tm",p.cssText=c("./textmate.css"),p.$id="ace/theme/textmate";var d=c("../lib/dom");d.importCssString(p.cssText,p.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(c,p,k){"no use strict";var d=c("./lib/lang"),S=c("./lib/net"),w=c("./lib/dom"),s=c("./lib/app_config").AppConfig;k.exports=p=new s;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};p.get=function(n){if(!a.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return a[n]},p.set=function(n,i){if(a.hasOwnProperty(n))a[n]=i;else if(this.setDefaultValue("",n,i)==!1)throw new Error("Unknown config key: "+n);n=="useStrictCSP"&&w.useStrictCSP(i)},p.all=function(){return d.copyObject(a)},p.$modes={},p.moduleUrl=function(n,i){if(a.$moduleUrls[n])return a.$moduleUrls[n];var r=n.split("/");i=i||r[r.length-2]||"";var o=i=="snippets"?"/":"-",l=r[r.length-1];if(i=="worker"&&o=="-"){var m=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");l=l.replace(m,"")}(!l||l==i)&&r.length>1&&(l=r[r.length-2]);var u=a[i+"Path"];return u==null?u=a.basePath:o=="/"&&(i=o=""),u&&u.slice(-1)!="/"&&(u+="/"),u+i+o+l+this.get("suffix")},p.setModuleUrl=function(n,i){return a.$moduleUrls[n]=i};var t=function(n,i){return n==="ace/theme/textmate"||n==="./theme/textmate"?i(null,c("./theme/textmate")):console.error("loader is not configured")};p.setLoader=function(n){t=n},p.dynamicModules=Object.create(null),p.$loading={},p.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);var l=function(m){if(m&&!p.$loading[n])return i&&i(m);if(p.$loading[n]||(p.$loading[n]=[]),p.$loading[n].push(i),!(p.$loading[n].length>1)){var u=function(){t(n,function(_,A){p._emit("load.module",{name:n,module:A});var f=p.$loading[n];p.$loading[n]=null,f.forEach(function(h){h&&h(A)})})};if(!p.get("packaged"))return u();S.loadScript(p.moduleUrl(n,o),u),e()}};if(p.dynamicModules[n])p.dynamicModules[n]().then(function(m){m.default?l(m.default):l(m)});else{try{r=c(n)}catch{}l(r)}},p.setModuleLoader=function(n,i){p.dynamicModules[n]=i};var e=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),e=function(){})};p.version="1.21.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(c,p,k){c("./lib/fixoldbrowsers");var d=c("./config");d.setLoader(function(a,t){c([a],function(e){t(null,e)})});var S=function(){return this||typeof window<"u"&&window}();k.exports=function(a){d.init=w,a.require=c},w(!0);function w(a){if(!(!S||!S.document)){d.set("packaged",a||c.packaged||k.packaged||S.define&&(void 0).packaged);var t={},e="",n=document.currentScript||document._currentScript,i=n&&n.ownerDocument||document;n&&n.src&&(e=n.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var r=i.getElementsByTagName("script"),o=0;o<r.length;o++){var l=r[o],m=l.src||l.getAttribute("src");if(m){for(var u=l.attributes,_=0,A=u.length;_<A;_++){var f=u[_];f.name.indexOf("data-ace-")===0&&(t[s(f.name.replace(/^data-ace-/,""))]=f.value)}var h=m.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);h&&(e=h[1])}}e&&(t.base=t.base||e,t.packaged=!0),t.basePath=t.base,t.workerPath=t.workerPath||t.base,t.modePath=t.modePath||t.base,t.themePath=t.themePath||t.base,delete t.base;for(var C in t)typeof t[C]<"u"&&d.set(C,t[C])}}function s(a){return a.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(c,p,k){var d=function(w,s){return w.row-s.row||w.column-s.column},S=function(){function w(s,a,t,e){this.start={row:s,column:a},this.end={row:t,column:e}}return w.prototype.isEqual=function(s){return this.start.row===s.start.row&&this.end.row===s.end.row&&this.start.column===s.start.column&&this.end.column===s.end.column},w.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},w.prototype.contains=function(s,a){return this.compare(s,a)==0},w.prototype.compareRange=function(s){var a,t=s.end,e=s.start;return a=this.compare(t.row,t.column),a==1?(a=this.compare(e.row,e.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(e.row,e.column),a==-1?-1:a==1?42:0)},w.prototype.comparePoint=function(s){return this.compare(s.row,s.column)},w.prototype.containsRange=function(s){return this.comparePoint(s.start)==0&&this.comparePoint(s.end)==0},w.prototype.intersects=function(s){var a=this.compareRange(s);return a==-1||a==0||a==1},w.prototype.isEnd=function(s,a){return this.end.row==s&&this.end.column==a},w.prototype.isStart=function(s,a){return this.start.row==s&&this.start.column==a},w.prototype.setStart=function(s,a){typeof s=="object"?(this.start.column=s.column,this.start.row=s.row):(this.start.row=s,this.start.column=a)},w.prototype.setEnd=function(s,a){typeof s=="object"?(this.end.column=s.column,this.end.row=s.row):(this.end.row=s,this.end.column=a)},w.prototype.inside=function(s,a){return this.compare(s,a)==0?!(this.isEnd(s,a)||this.isStart(s,a)):!1},w.prototype.insideStart=function(s,a){return this.compare(s,a)==0?!this.isEnd(s,a):!1},w.prototype.insideEnd=function(s,a){return this.compare(s,a)==0?!this.isStart(s,a):!1},w.prototype.compare=function(s,a){return!this.isMultiLine()&&s===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:s<this.start.row?-1:s>this.end.row?1:this.start.row===s?a>=this.start.column?0:-1:this.end.row===s?a<=this.end.column?0:1:0},w.prototype.compareStart=function(s,a){return this.start.row==s&&this.start.column==a?-1:this.compare(s,a)},w.prototype.compareEnd=function(s,a){return this.end.row==s&&this.end.column==a?1:this.compare(s,a)},w.prototype.compareInside=function(s,a){return this.end.row==s&&this.end.column==a?1:this.start.row==s&&this.start.column==a?-1:this.compare(s,a)},w.prototype.clipRows=function(s,a){if(this.end.row>a)var t={row:a+1,column:0};else if(this.end.row<s)var t={row:s,column:0};if(this.start.row>a)var e={row:a+1,column:0};else if(this.start.row<s)var e={row:s,column:0};return w.fromPoints(e||this.start,t||this.end)},w.prototype.extend=function(s,a){var t=this.compare(s,a);if(t==0)return this;if(t==-1)var e={row:s,column:a};else var n={row:s,column:a};return w.fromPoints(e||this.start,n||this.end)},w.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},w.prototype.isMultiLine=function(){return this.start.row!==this.end.row},w.prototype.clone=function(){return w.fromPoints(this.start,this.end)},w.prototype.collapseRows=function(){return this.end.column==0?new w(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new w(this.start.row,0,this.end.row,0)},w.prototype.toScreenRange=function(s){var a=s.documentToScreenPosition(this.start),t=s.documentToScreenPosition(this.end);return new w(a.row,a.column,t.row,t.column)},w.prototype.moveBy=function(s,a){this.start.row+=s,this.start.column+=a,this.end.row+=s,this.end.column+=a},w}();S.fromPoints=function(w,s){return new S(w.row,w.column,s.row,s.column)},S.comparePoints=d,S.comparePoints=function(w,s){return w.row-s.row||w.column-s.column},p.Range=S}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(c,p,k){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var d=c("./oop"),S=function(){var w={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};w.PRINTABLE_KEYS[173]="-";var s,a;for(a in w.FUNCTION_KEYS)s=w.FUNCTION_KEYS[a].toLowerCase(),w[s]=parseInt(a,10);for(a in w.PRINTABLE_KEYS)s=w.PRINTABLE_KEYS[a].toLowerCase(),w[s]=parseInt(a,10);return d.mixin(w,w.MODIFIER_KEYS),d.mixin(w,w.PRINTABLE_KEYS),d.mixin(w,w.FUNCTION_KEYS),w.enter=w.return,w.escape=w.esc,w.del=w.delete,function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)w.KEY_MODS[e]=t.filter(function(n){return e&w.KEY_MODS[n]}).join("-")+"-"}(),w.KEY_MODS[0]="",w.KEY_MODS[-1]="input-",w}();d.mixin(p,S),p.keyCodeToString=function(w){var s=S[w];return typeof s!="string"&&(s=String.fromCharCode(w)),s.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(c,p,k){var d=c("./keys"),S=c("./useragent"),w=null,s=0,a;function t(){a=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){a={passive:!1}}})}catch{}}function e(){return a==null&&t(),a}function n(_,A,f){this.elem=_,this.type=A,this.callback=f}n.prototype.destroy=function(){r(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var i=p.addListener=function(_,A,f,h){_.addEventListener(A,f,e()),h&&h.$toDestroy.push(new n(_,A,f))},r=p.removeListener=function(_,A,f){_.removeEventListener(A,f,e())};p.stopEvent=function(_){return p.stopPropagation(_),p.preventDefault(_),!1},p.stopPropagation=function(_){_.stopPropagation&&_.stopPropagation()},p.preventDefault=function(_){_.preventDefault&&_.preventDefault()},p.getButton=function(_){return _.type=="dblclick"?0:_.type=="contextmenu"||S.isMac&&_.ctrlKey&&!_.altKey&&!_.shiftKey?2:_.button},p.capture=function(_,A,f){var h=_&&_.ownerDocument||document;function C($){A&&A($),f&&f($),r(h,"mousemove",A),r(h,"mouseup",C),r(h,"dragstart",C)}return i(h,"mousemove",A),i(h,"mouseup",C),i(h,"dragstart",C),C},p.addMouseWheelListener=function(_,A,f){i(_,"wheel",function(h){var C=.15,$=h.deltaX||0,T=h.deltaY||0;switch(h.deltaMode){case h.DOM_DELTA_PIXEL:h.wheelX=$*C,h.wheelY=T*C;break;case h.DOM_DELTA_LINE:var b=15;h.wheelX=$*b,h.wheelY=T*b;break;case h.DOM_DELTA_PAGE:var g=150;h.wheelX=$*g,h.wheelY=T*g;break}A(h)},f)},p.addMultiMouseDownListener=function(_,A,f,h,C){var $=0,T,b,g,M={2:"dblclick",3:"tripleclick",4:"quadclick"};function E(y){if(p.getButton(y)!==0?$=0:y.detail>1?($++,$>4&&($=1)):$=1,S.isIE){var x=Math.abs(y.clientX-T)>5||Math.abs(y.clientY-b)>5;(!g||x)&&($=1),g&&clearTimeout(g),g=setTimeout(function(){g=null},A[$-1]||600),$==1&&(T=y.clientX,b=y.clientY)}if(y._clicks=$,f[h]("mousedown",y),$>4)$=0;else if($>1)return f[h](M[$],y)}Array.isArray(_)||(_=[_]),_.forEach(function(y){i(y,"mousedown",E,C)})};var o=function(_){return 0|(_.ctrlKey?1:0)|(_.altKey?2:0)|(_.shiftKey?4:0)|(_.metaKey?8:0)};p.getModifierString=function(_){return d.KEY_MODS[o(_)]};function l(_,A,f){var h=o(A);if(!S.isMac&&w){if(A.getModifierState&&(A.getModifierState("OS")||A.getModifierState("Win"))&&(h|=8),w.altGr)if((3&h)!=3)w.altGr=0;else return;if(f===18||f===17){var C="location"in A?A.location:A.keyLocation;if(f===17&&C===1)w[f]==1&&(s=A.timeStamp);else if(f===18&&h===3&&C===2){var $=A.timeStamp-s;$<50&&(w.altGr=!0)}}}if(f in d.MODIFIER_KEYS&&(f=-1),!h&&f===13){var C="location"in A?A.location:A.keyLocation;if(C===3&&(_(A,h,-f),A.defaultPrevented))return}if(S.isChromeOS&&h&8){if(_(A,h,f),A.defaultPrevented)return;h&=-9}return!h&&!(f in d.FUNCTION_KEYS)&&!(f in d.PRINTABLE_KEYS)?!1:_(A,h,f)}p.addCommandKeyListener=function(_,A,f){if(S.isOldGecko||S.isOpera&&!("KeyboardEvent"in window)){var h=null;i(_,"keydown",function($){h=$.keyCode},f),i(_,"keypress",function($){return l(A,$,h)},f)}else{var C=null;i(_,"keydown",function($){w[$.keyCode]=(w[$.keyCode]||0)+1;var T=l(A,$,$.keyCode);return C=$.defaultPrevented,T},f),i(_,"keypress",function($){C&&($.ctrlKey||$.altKey||$.shiftKey||$.metaKey)&&(p.stopEvent($),C=null)},f),i(_,"keyup",function($){w[$.keyCode]=null},f),w||(m(),i(window,"focus",m))}};function m(){w=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!S.isOldIE){var u=1;p.nextTick=function(_,A){A=A||window;var f="zero-timeout-message-"+u++,h=function(C){C.data==f&&(p.stopPropagation(C),r(A,"message",h),_())};i(A,"message",h),A.postMessage(f,"*")}}p.$idleBlocked=!1,p.onIdle=function(_,A){return setTimeout(function f(){p.$idleBlocked?setTimeout(f,100):_()},A)},p.$idleBlockId=null,p.blockIdle=function(_){p.$idleBlockId&&clearTimeout(p.$idleBlockId),p.$idleBlocked=!0,p.$idleBlockId=setTimeout(function(){p.$idleBlocked=!1},_||100)},p.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),p.nextFrame?p.nextFrame=p.nextFrame.bind(window):p.nextFrame=function(_){setTimeout(_,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(c,p,k){var d;k.exports={lineMode:!1,pasteCancelled:function(){return d&&d>Date.now()-50?!0:d=!1},cancel:function(){d=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(c,p,k){var d=c("../lib/event"),S=c("../config").nls,w=c("../lib/useragent"),s=c("../lib/dom"),a=c("../lib/lang"),t=c("../clipboard"),e=w.isChrome<18,n=w.isIE,i=w.isChrome>63,r=400,o=c("../lib/keys"),l=o.KEY_MODS,m=w.isIOS,u=m?/\s/:/\n/,_=w.isMobile,A=function(f,h){var C=s.createElement("textarea");C.className="ace_text-input",C.setAttribute("wrap","off"),C.setAttribute("autocorrect","off"),C.setAttribute("autocapitalize","off"),C.setAttribute("spellcheck",!1),C.style.opacity="0",f.insertBefore(C,f.firstChild);var $=!1,T=!1,b=!1,g=!1,M="";_||(C.style.fontSize="1px");var E=!1,y=!1,x="",R=0,I=0,O=0;try{var D=document.activeElement===C}catch{}this.setAriaOptions=function(G){G.activeDescendant?(C.setAttribute("aria-haspopup","true"),C.setAttribute("aria-autocomplete",G.inline?"both":"list"),C.setAttribute("aria-activedescendant",G.activeDescendant)):(C.setAttribute("aria-haspopup","false"),C.setAttribute("aria-autocomplete","both"),C.removeAttribute("aria-activedescendant")),G.role&&C.setAttribute("role",G.role)},this.setAriaLabel=function(){if(h.session&&h.renderer.enableKeyboardAccessibility){var G=h.session.selection.cursor.row;C.setAttribute("aria-roledescription",S("editor")),C.setAttribute("aria-label",S("Cursor at row $0",[G+1]))}else C.removeAttribute("aria-roledescription"),C.removeAttribute("aria-label")},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),d.addListener(C,"blur",function(G){y||(h.onBlur(G),D=!1,_&&!m&&document.removeEventListener("selectionchange",N))},h),d.addListener(C,"focus",function(G){if(!y){if(D=!0,w.isEdge)try{if(!document.hasFocus())return}catch{}h.onFocus(G),w.isEdge?setTimeout(F):F(),_&&!m&&document.addEventListener("selectionchange",N)}},h),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),M||i||this.$focusScroll=="browser")return C.focus({preventScroll:!0});var G=C.style.top;C.style.position="fixed",C.style.top="0px";try{var J=C.getBoundingClientRect().top!=0}catch{return}var ee=[];if(J)for(var se=C.parentElement;se&&se.nodeType==1;)ee.push(se),se.setAttribute("ace_nocontext",!0),!se.parentElement&&se.getRootNode?se=se.getRootNode().host:se=se.parentElement;C.focus({preventScroll:!0}),J&&ee.forEach(function(ae){ae.removeAttribute("ace_nocontext")}),setTimeout(function(){C.style.position="",C.style.top=="0px"&&(C.style.top=G)},0)},this.blur=function(){C.blur()},this.isFocused=function(){return D},h.on("beforeEndOperation",function(){var G=h.curOp,J=G&&G.command&&G.command.name;if(J!="insertstring"){var ee=J&&(G.docChanged||G.selectionChanged);b&&ee&&(x=C.value="",ge()),F()}});var F=m?function(G){if(!(!D||$&&!G||g)){G||(G="");var J=`
 ab`+G+`cde fg
`;J!=C.value&&(C.value=x=J);var ee=4,se=4+(G.length||(h.selection.isEmpty()?0:1));(R!=ee||I!=se)&&C.setSelectionRange(ee,se),R=ee,I=se}}:function(){if(!(b||g)&&!(!D&&!z)){b=!0;var G=0,J=0,ee="";if(h.session){var se=h.selection,ae=se.getRange(),de=se.cursor.row;if(G=ae.start.column,J=ae.end.column,ee=h.session.getLine(de),ae.start.row!=de){var me=h.session.getLine(de-1);G=ae.start.row<de-1?0:G,J+=me.length+1,ee=me+`
`+ee}else if(ae.end.row!=de){var le=h.session.getLine(de+1);J=ae.end.row>de+1?le.length:J,J+=ee.length+1,ee=ee+`
`+le}else _&&de>0&&(ee=`
`+ee,J+=1,G+=1);ee.length>r&&(G<r&&J<r?ee=ee.slice(0,r):(ee=`
`,G==J?G=J=0:(G=0,J=1)))}var fe=ee+`

`;if(fe!=x&&(C.value=x=fe,R=I=fe.length),z&&(R=C.selectionStart,I=C.selectionEnd),I!=J||R!=G||C.selectionEnd!=I)try{C.setSelectionRange(G,J),R=G,I=J}catch{}b=!1}};this.resetSelection=F,D&&h.onFocus();var W=function(G){return G.selectionStart===0&&G.selectionEnd>=x.length&&G.value===x&&x&&G.selectionEnd!==I},V=function(G){b||($?$=!1:W(C)?(h.selectAll(),F()):_&&C.selectionStart!=R&&F())};function N(G){if((!C||!C.parentNode)&&document.removeEventListener("selectionchange",N),!b&&C.selectionStart===C.selectionEnd){var J=C.selectionStart-R,ee=I-R;J>0?J=Math.max(J-ee,1):J===0&&ee&&(J=-1);for(var se=Math.abs(J),ae=J>0?o.right:o.left,de=0;de<se;de++)h.onCommandKey({},0,ae)}}var H=null;this.setInputHandler=function(G){H=G},this.getInputHandler=function(){return H};var z=!1,U=function(G,J){if(z&&(z=!1),T)return F(),G&&h.onPaste(G),T=!1,"";for(var ee=C.selectionStart,se=C.selectionEnd,ae=R,de=x.length-I,me=G,le=G.length-ee,fe=G.length-se,ce=0;ae>0&&x[ce]==G[ce];)ce++,ae--;for(me=me.slice(ce),ce=1;de>0&&x.length-ce>R-1&&x[x.length-ce]==G[G.length-ce];)ce++,de--;le-=ce-1,fe-=ce-1;var _e=me.length-ce+1;if(_e<0&&(ae=-_e,_e=0),me=me.slice(0,_e),!J&&!me&&!le&&!ae&&!de&&!fe)return"";g=!0;var Ue=!1;return w.isAndroid&&me==". "&&(me="  ",Ue=!0),me&&!ae&&!de&&!le&&!fe||E?h.onTextInput(me):h.onTextInput(me,{extendLeft:ae,extendRight:de,restoreStart:le,restoreEnd:fe}),g=!1,x=G,R=ee,I=se,O=fe,Ue?`
`:me},j=function(G){if(b)return ve();if(G&&G.inputType){if(G.inputType=="historyUndo")return h.execCommand("undo");if(G.inputType=="historyRedo")return h.execCommand("redo")}var J=C.value,ee=U(J,!0);(J.length>r+100||u.test(ee)||_&&R<1&&R==I)&&F()},K=function(G,J,ee){var se=G.clipboardData||window.clipboardData;if(!(!se||e)){var ae=n||ee?"Text":"text/plain";try{return J?se.setData(ae,J)!==!1:se.getData(ae)}catch(de){if(!ee)return K(de,J,!0)}}},X=function(G,J){var ee=h.getCopyText();if(!ee)return d.preventDefault(G);K(G,ee)?(m&&(F(ee),$=ee,setTimeout(function(){$=!1},10)),J?h.onCut():h.onCopy(),d.preventDefault(G)):($=!0,C.value=ee,C.select(),setTimeout(function(){$=!1,F(),J?h.onCut():h.onCopy()}))},Z=function(G){X(G,!0)},te=function(G){X(G,!1)},oe=function(G){var J=K(G);t.pasteCancelled()||(typeof J=="string"?(J&&h.onPaste(J,G),w.isIE&&setTimeout(F),d.preventDefault(G)):(C.value="",T=!0))};d.addCommandKeyListener(C,h.onCommandKey.bind(h),h),d.addListener(C,"select",V,h),d.addListener(C,"input",j,h),d.addListener(C,"cut",Z,h),d.addListener(C,"copy",te,h),d.addListener(C,"paste",oe,h),(!("oncut"in C)||!("oncopy"in C)||!("onpaste"in C))&&d.addListener(f,"keydown",function(G){if(!(w.isMac&&!G.metaKey||!G.ctrlKey))switch(G.keyCode){case 67:te(G);break;case 86:oe(G);break;case 88:Z(G);break}},h);var Se=function(G){if(!(b||!h.onCompositionStart||h.$readOnly)&&(b={},!E)){G.data&&(b.useTextareaForIME=!1),setTimeout(ve,0),h._signal("compositionStart"),h.on("mousedown",$e);var J=h.getSelectionRange();J.end.row=J.start.row,J.end.column=J.start.column,b.markerRange=J,b.selectionStart=R,h.onCompositionStart(b),b.useTextareaForIME?(x=C.value="",R=0,I=0):(C.msGetInputContext&&(b.context=C.msGetInputContext()),C.getInputContext&&(b.context=C.getInputContext()))}},ve=function(){if(!(!b||!h.onCompositionUpdate||h.$readOnly)){if(E)return $e();if(b.useTextareaForIME)h.onCompositionUpdate(C.value);else{var G=C.value;U(G),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+I-b.selectionStart+O)}}},ge=function(G){!h.onCompositionEnd||h.$readOnly||(b=!1,h.onCompositionEnd(),h.off("mousedown",$e),G&&j())};function $e(){y=!0,C.blur(),C.focus(),y=!1}var ze=a.delayedCall(ve,50).schedule.bind(null,null);function Ne(G){G.keyCode==27&&C.value.length<C.selectionStart&&(b||(x=C.value),R=I=-1,F()),ze()}d.addListener(C,"compositionstart",Se,h),d.addListener(C,"compositionupdate",ve,h),d.addListener(C,"keyup",Ne,h),d.addListener(C,"keydown",ze,h),d.addListener(C,"compositionend",ge,h),this.getElement=function(){return C},this.setCommandMode=function(G){E=G,C.readOnly=!1},this.setReadOnly=function(G){E||(C.readOnly=G)},this.setCopyWithEmptySelection=function(G){},this.onContextMenu=function(G){z=!0,F(),h._emit("nativecontextmenu",{target:h,domEvent:G}),this.moveToMouse(G,!0)},this.moveToMouse=function(G,J){M||(M=C.style.cssText),C.style.cssText=(J?"z-index:100000;":"")+(w.isIE?"opacity:0.1;":"")+"text-indent: -"+(R+I)*h.renderer.characterWidth*.5+"px;";var ee=h.container.getBoundingClientRect(),se=s.computedStyle(h.container),ae=ee.top+(parseInt(se.borderTopWidth)||0),de=ee.left+(parseInt(ee.borderLeftWidth)||0),me=ee.bottom-ae-C.clientHeight-2,le=function(fe){s.translate(C,fe.clientX-de-2,Math.min(fe.clientY-ae-2,me))};le(G),G.type=="mousedown"&&(h.renderer.$isMousePressed=!0,clearTimeout(at),w.isWin&&d.capture(h.container,le,et))},this.onContextMenuClose=et;var at;function et(){clearTimeout(at),at=setTimeout(function(){M&&(C.style.cssText=M,M=""),h.renderer.$isMousePressed=!1,h.renderer.$keepTextAreaAtCursor&&h.renderer.$moveTextAreaToCursor()},0)}var lt=function(G){h.textInput.onContextMenu(G),et()};d.addListener(C,"mouseup",lt,h),d.addListener(C,"mousedown",function(G){G.preventDefault(),et()},h),d.addListener(h.renderer.scroller,"contextmenu",lt,h),d.addListener(C,"contextmenu",lt,h),m&&Ot(f,h,C);function Ot(G,J,ee){var se=null,ae=!1;ee.addEventListener("keydown",function(me){se&&clearTimeout(se),ae=!0},!0),ee.addEventListener("keyup",function(me){se=setTimeout(function(){ae=!1},100)},!0);var de=function(me){if(document.activeElement===ee&&!(ae||b||J.$mouseHandler.isMousePressed)&&!$){var le=ee.selectionStart,fe=ee.selectionEnd,ce=null,_e=0;if(le==0?ce=o.up:le==1?ce=o.home:fe>I&&x[fe]==`
`?ce=o.end:le<R&&x[le-1]==" "?(ce=o.left,_e=l.option):le<R||le==R&&I!=R&&le==fe?ce=o.left:fe>I&&x.slice(0,fe).split(`
`).length>2?ce=o.down:fe>I&&x[fe-1]==" "?(ce=o.right,_e=l.option):(fe>I||fe==I&&I!=R&&le==fe)&&(ce=o.right),le!==fe&&(_e|=l.shift),ce){var Ue=J.onCommandKey({},_e,ce);if(!Ue&&J.commands){ce=o.keyCodeToString(ce);var Ve=J.commands.findKeyCommand(_e,ce);Ve&&J.execCommand(Ve)}R=le,I=fe,F("")}}};document.addEventListener("selectionchange",de),J.on("destroy",function(){document.removeEventListener("selectionchange",de)})}this.destroy=function(){C.parentElement&&C.parentElement.removeChild(C)}};p.TextInput=A,p.$setUserAgentForTests=function(f,h){_=f,m=h}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(c,p,k){var d=c("../lib/useragent"),S=0,w=550,s=function(){function e(n){n.$clickSelection=null;var i=n.editor;i.setDefaultHandler("mousedown",this.onMouseDown.bind(n)),i.setDefaultHandler("dblclick",this.onDoubleClick.bind(n)),i.setDefaultHandler("tripleclick",this.onTripleClick.bind(n)),i.setDefaultHandler("quadclick",this.onQuadClick.bind(n)),i.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));var r=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];r.forEach(function(o){n[o]=this[o]},this),n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange"),n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}return e.prototype.onMouseDown=function(n){var i=n.inSelection(),r=n.getDocumentPosition();this.mousedownEvent=n;var o=this.editor,l=n.getButton();if(l!==0){var m=o.getSelectionRange(),u=m.isEmpty();(u||l==1)&&o.selection.moveToPosition(r),l==2&&(o.textInput.onContextMenu(n.domEvent),d.isMozilla||n.preventDefault());return}if(this.mousedownEvent.time=Date.now(),i&&!o.isFocused()&&(o.focus(),this.$focusTimeout&&!this.$clickSelection&&!o.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(n);return}return this.captureMouse(n),this.startSelect(r,n.domEvent._clicks>1),n.preventDefault()},e.prototype.startSelect=function(n,i){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var r=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?r.selection.selectToPosition(n):i||r.selection.moveToPosition(n),i||this.select(),r.setStyle("ace_selecting"),this.setState("select"))},e.prototype.select=function(){var n,i=this.editor,r=i.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(r);if(o==-1)n=this.$clickSelection.end;else if(o==1)n=this.$clickSelection.start;else{var l=t(this.$clickSelection,r);r=l.cursor,n=l.anchor}i.selection.setSelectionAnchor(n.row,n.column)}i.selection.selectToPosition(r),i.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(n){var i,r=this.editor,o=r.renderer.screenToTextCoordinates(this.x,this.y),l=r.selection[n](o.row,o.column);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(l.start),u=this.$clickSelection.comparePoint(l.end);if(m==-1&&u<=0)i=this.$clickSelection.end,(l.end.row!=o.row||l.end.column!=o.column)&&(o=l.start);else if(u==1&&m>=0)i=this.$clickSelection.start,(l.start.row!=o.row||l.start.column!=o.column)&&(o=l.end);else if(m==-1&&u==1)o=l.end,i=l.start;else{var _=t(this.$clickSelection,o);o=_.cursor,i=_.anchor}r.selection.setSelectionAnchor(i.row,i.column)}r.selection.selectToPosition(o),r.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},e.prototype.focusWait=function(){var n=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),i=Date.now();(n>S||i-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(n){var i=n.getDocumentPosition(),r=this.editor,o=r.session,l=o.getBracketRange(i);l?(l.isEmpty()&&(l.start.column--,l.end.column++),this.setState("select")):(l=r.selection.getWordRange(i.row,i.column),this.setState("selectByWords")),this.$clickSelection=l,this.select()},e.prototype.onTripleClick=function(n){var i=n.getDocumentPosition(),r=this.editor;this.setState("selectByLines");var o=r.getSelectionRange();o.isMultiLine()&&o.contains(i.row,i.column)?(this.$clickSelection=r.selection.getLineRange(o.start.row),this.$clickSelection.end=r.selection.getLineRange(o.end.row).end):this.$clickSelection=r.selection.getLineRange(i.row),this.select()},e.prototype.onQuadClick=function(n){var i=this.editor;i.selectAll(),this.$clickSelection=i.getSelectionRange(),this.setState("selectAll")},e.prototype.onMouseWheel=function(n){if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);var i=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var r=this.$lastScroll,o=n.domEvent.timeStamp,l=o-r.t,m=l?n.wheelX/l:r.vx,u=l?n.wheelY/l:r.vy;l<w&&(m=(m+r.vx)/2,u=(u+r.vy)/2);var _=Math.abs(m/u),A=!1;if(_>=1&&i.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(A=!0),_<=1&&i.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(A=!0),A)r.allowed=o;else if(o-r.allowed<w){var f=Math.abs(m)<=1.5*Math.abs(r.vx)&&Math.abs(u)<=1.5*Math.abs(r.vy);f?(A=!0,r.allowed=o):r.allowed=0}if(r.t=o,r.vx=m,r.vy=u,A)return i.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()}},e}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,p.DefaultHandlers=s;function a(e,n,i,r){return Math.sqrt(Math.pow(i-e,2)+Math.pow(r-n,2))}function t(e,n){if(e.start.row==e.end.row)var i=2*n.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var i=n.column-4;else var i=2*n.row-e.start.row-e.end.row;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(c,p,k){var d=this&&this.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var _ in u)Object.prototype.hasOwnProperty.call(u,_)&&(m[_]=u[_])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function m(){this.constructor=o}o.prototype=l===null?Object.create(l):(m.prototype=l.prototype,new m)}}(),S=this&&this.__values||function(r){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&r[o],m=0;if(l)return l.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&m>=r.length&&(r=void 0),{value:r&&r[m++],done:!r}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},w=c("./lib/dom"),s=c("./range").Range,a="ace_tooltip",t=function(){function r(o){this.isOpen=!1,this.$element=null,this.$parentNode=o}return r.prototype.$init=function(){return this.$element=w.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},r.prototype.getElement=function(){return this.$element||this.$init()},r.prototype.setText=function(o){this.getElement().textContent=o},r.prototype.setHtml=function(o){this.getElement().innerHTML=o},r.prototype.setPosition=function(o,l){this.getElement().style.left=o+"px",this.getElement().style.top=l+"px"},r.prototype.setClassName=function(o){w.addCssClass(this.getElement(),o)},r.prototype.setTheme=function(o){this.$element.className=a+" "+(o.isDark?"ace_dark ":"")+(o.cssClass||"")},r.prototype.show=function(o,l,m){o!=null&&this.setText(o),l!=null&&m!=null&&this.setPosition(l,m),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},r.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},r.prototype.getHeight=function(){return this.getElement().offsetHeight},r.prototype.getWidth=function(){return this.getElement().offsetWidth},r.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},r}(),e=function(){function r(){this.popups=[]}return r.prototype.addPopup=function(o){this.popups.push(o),this.updatePopups()},r.prototype.removePopup=function(o){var l=this.popups.indexOf(o);l!==-1&&(this.popups.splice(l,1),this.updatePopups())},r.prototype.updatePopups=function(){var o,l,m,u;this.popups.sort(function(g,M){return M.priority-g.priority});var _=[];try{for(var A=S(this.popups),f=A.next();!f.done;f=A.next()){var h=f.value,C=!0;try{for(var $=(m=void 0,S(_)),T=$.next();!T.done;T=$.next()){var b=T.value;if(this.doPopupsOverlap(b,h)){C=!1;break}}}catch(g){m={error:g}}finally{try{T&&!T.done&&(u=$.return)&&u.call($)}finally{if(m)throw m.error}}C?_.push(h):h.hide()}}catch(g){o={error:g}}finally{try{f&&!f.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}},r.prototype.doPopupsOverlap=function(o,l){var m=o.getElement().getBoundingClientRect(),u=l.getElement().getBoundingClientRect();return m.left<u.right&&m.right>u.left&&m.top<u.bottom&&m.bottom>u.top},r}(),n=new e;p.popupManager=n,p.Tooltip=t;var i=function(r){d(o,r);function o(l){l===void 0&&(l=document.body);var m=r.call(this,l)||this;m.timeout=void 0,m.lastT=0,m.idleTime=350,m.lastEvent=void 0,m.onMouseOut=m.onMouseOut.bind(m),m.onMouseMove=m.onMouseMove.bind(m),m.waitForHover=m.waitForHover.bind(m),m.hide=m.hide.bind(m);var u=m.getElement();return u.style.whiteSpace="pre-wrap",u.style.pointerEvents="auto",u.addEventListener("mouseout",m.onMouseOut),u.tabIndex=-1,u.addEventListener("blur",function(){u.contains(document.activeElement)||this.hide()}.bind(m)),m}return o.prototype.addToEditor=function(l){l.on("mousemove",this.onMouseMove),l.on("mousedown",this.hide),l.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},o.prototype.removeFromEditor=function(l){l.off("mousemove",this.onMouseMove),l.off("mousedown",this.hide),l.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},o.prototype.onMouseMove=function(l,m){this.lastEvent=l,this.lastT=Date.now();var u=m.$mouseHandler.isMousePressed;if(this.isOpen){var _=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(_.row,_.column)||u||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||u||(this.lastEvent=l,this.timeout=setTimeout(this.waitForHover,this.idleTime))},o.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var l=Date.now()-this.lastT;if(this.idleTime-l>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-l);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},o.prototype.isOutsideOfText=function(l){var m=l.editor,u=l.getDocumentPosition(),_=m.session.getLine(u.row);if(u.column==_.length){var A=m.renderer.pixelToScreenCoordinates(l.clientX,l.clientY),f=m.session.documentToScreenPosition(u.row,u.column);if(f.column!=A.column||f.row!=A.row)return!0}return!1},o.prototype.setDataProvider=function(l){this.$gatherData=l},o.prototype.showForRange=function(l,m,u,_){if(!(_&&_!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var A=l.renderer;this.isOpen||(n.addPopup(this),this.$registerCloseEvents(),this.setTheme(A.theme)),this.isOpen=!0,this.addMarker(m,l.session),this.range=s.fromPoints(m.start,m.end);var f=this.getElement();f.innerHTML="",f.appendChild(u),f.style.display="block";var h=A.textToScreenCoordinates(m.start.row,m.start.column),C=l.getCursorPosition(),$=f.clientHeight,T=A.scroller.getBoundingClientRect(),b=!0;this.row>C.row?b=!0:this.row<C.row&&(b=!1),h.pageY-$+A.lineHeight<T.top?b=!0:h.pageY+$>T.bottom&&(b=!1),b?h.pageY+=A.lineHeight:h.pageY-=$,f.style.maxWidth=T.width-(h.pageX-T.left)+"px",this.setPosition(h.pageX,h.pageY)}},o.prototype.addMarker=function(l,m){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=m,this.marker=m&&m.addMarker(l,"ace_highlight-marker","text")},o.prototype.hide=function(l){!l&&document.activeElement==this.getElement()||l&&l.target&&(l.type!="keydown"||l.ctrlKey||l.metaKey)&&this.$element.contains(l.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,n.removePopup(this)))},o.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},o.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},o.prototype.onMouseOut=function(l){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!l.relatedTarget||l.relatedTarget==this.getElement()||l&&l.currentTarget.contains(l.relatedTarget)||l.relatedTarget.classList.contains("ace_content")||this.hide())},o}(t);p.HoverTooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(c,p,k){var d=this&&this.__extends||function(){var i=function(r,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(l[u]=m[u])},i(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(r,o);function l(){this.constructor=r}r.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}(),S=this&&this.__values||function(i){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&i[r],l=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},w=c("../lib/dom"),s=c("../lib/event"),a=c("../tooltip").Tooltip,t=c("../config").nls;function e(i){var r=i.editor,o=r.renderer.$gutterLayer,l=new n(r);i.editor.setDefaultHandler("guttermousedown",function(h){if(!(!r.isFocused()||h.getButton()!=0)){var C=o.getRegion(h);if(C!="foldWidgets"){var $=h.getDocumentPosition().row,T=r.session.selection;if(h.getShiftKey())T.selectTo($,0);else{if(h.domEvent.detail==2)return r.selectAll(),h.preventDefault();i.$clickSelection=r.selection.getLineRange($)}return i.setState("selectByLines"),i.captureMouse(h),h.preventDefault()}}});var m,u;function _(){var h=u.getDocumentPosition().row,C=r.session.getLength();if(h==C){var $=r.renderer.pixelToScreenCoordinates(0,u.y).row,T=u.$pos;if($>r.session.documentToScreenRow(T.row,T.column))return A()}if(l.showTooltip(h),!!l.isOpen)if(r.on("mousewheel",A),i.$tooltipFollowsMouse)f(u);else{var b=o.$lines.cells[h].element.querySelector("[class*=ace_icon]"),g=b.getBoundingClientRect(),M=l.getElement().style;M.left=g.right+"px",M.top=g.bottom+"px"}}function A(){m&&(m=clearTimeout(m)),l.isOpen&&(l.hide(),r._signal("hideGutterTooltip",l),r.off("mousewheel",A))}function f(h){l.setPosition(h.x,h.y)}i.editor.setDefaultHandler("guttermousemove",function(h){var C=h.domEvent.target||h.domEvent.srcElement;if(w.hasCssClass(C,"ace_fold-widget"))return A();l.isOpen&&i.$tooltipFollowsMouse&&f(h),u=h,!m&&(m=setTimeout(function(){m=null,u&&!i.isMousePressed?_():A()},50))}),s.addListener(r.renderer.$gutter,"mouseout",function(h){u=null,!(!l.isOpen||m)&&(m=setTimeout(function(){m=null,A()},50))},r),r.on("changeSession",A),r.on("input",A)}p.GutterHandler=e;var n=function(i){d(r,i);function r(o){var l=i.call(this,o.container)||this;return l.editor=o,l}return r.prototype.setPosition=function(o,l){var m=window.innerWidth||document.documentElement.clientWidth,u=window.innerHeight||document.documentElement.clientHeight,_=this.getWidth(),A=this.getHeight();o+=15,l+=15,o+_>m&&(o-=o+_-m),l+A>u&&(l-=20+A),a.prototype.setPosition.call(this,o,l)},Object.defineProperty(r,"annotationLabels",{get:function(){return{error:{singular:t("error"),plural:t("errors")},warning:{singular:t("warning"),plural:t("warnings")},info:{singular:t("information message"),plural:t("information messages")}}},enumerable:!1,configurable:!0}),r.prototype.showTooltip=function(o){var l=this.editor.renderer.$gutterLayer,m=l.$annotations[o],u;m?u={text:Array.from(m.text),type:Array.from(m.type)}:u={text:[],type:[]};var _=l.session.getFoldLine(o);if(_&&l.$showFoldedAnnotations){for(var A={error:[],warning:[],info:[]},f,h=o+1;h<=_.end.row;h++)if(l.$annotations[h])for(var C=0;C<l.$annotations[h].text.length;C++){var $=l.$annotations[h].type[C];if(A[$].push(l.$annotations[h].text[C]),$==="error"){f="error_fold";continue}if($==="warning"){f="warning_fold";continue}}if(f==="error_fold"||f==="warning_fold"){var T="".concat(r.annotationsToSummaryString(A)," in folded code.");u.text.push(T),u.type.push(f)}}if(u.text.length===0)return this.hide();for(var b={error:[],warning:[],info:[]},g=l.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",h=0;h<u.text.length;h++){var M="<span class='ace_".concat(u.type[h]," ").concat(g,"' aria-label='").concat(r.annotationLabels[u.type[h].replace("_fold","")].singular,"' role=img> </span> ").concat(u.text[h]);b[u.type[h].replace("_fold","")].push(M)}var E=[].concat(b.error,b.warning,b.info).join("<br>");this.setHtml(E),this.setClassName("ace_gutter-tooltip"),this.$element.setAttribute("aria-live","polite"),this.isOpen||this.setTheme(this.editor.renderer.theme),this.editor._signal("showGutterTooltip",this),this.show()},r.annotationsToSummaryString=function(o){var l,m,u=[],_=["error","warning","info"];try{for(var A=S(_),f=A.next();!f.done;f=A.next()){var h=f.value;if(o[h].length){var C=o[h].length===1?r.annotationLabels[h].singular:r.annotationLabels[h].plural;u.push("".concat(o[h].length," ").concat(C))}}}catch($){l={error:$}}finally{try{f&&!f.done&&(m=A.return)&&m.call(A)}finally{if(l)throw l.error}}return u.join(", ")},r}(a);p.GutterTooltip=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(c,p,k){var d=c("../lib/event"),S=c("../lib/useragent"),w=function(){function s(a,t){this.domEvent=a,this.editor=t,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){d.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){d.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var a=this.editor,t=a.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},s.prototype.getButton=function(){return d.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return S.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();p.MouseEvent=w}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(c,p,k){var d=c("../lib/dom"),S=c("../lib/event"),w=c("../lib/useragent"),s=200,a=200,t=5;function e(i){var r=i.editor,o=d.createElement("div");o.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",o.textContent="";var l=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];l.forEach(function(N){i[N]=this[N]},this),r.on("mousedown",this.onMouseDown.bind(i));var m=r.container,u,_,A,f,h,C,$=0,T,b,g,M,E;this.onDragStart=function(N){if(this.cancelDrag||!m.draggable){var H=this;return setTimeout(function(){H.startSelect(),H.captureMouse(N)},0),N.preventDefault()}h=r.getSelectionRange();var z=N.dataTransfer;z.effectAllowed=r.getReadOnly()?"copy":"copyMove",r.container.appendChild(o),z.setDragImage&&z.setDragImage(o,0,0),setTimeout(function(){r.container.removeChild(o)}),z.clearData(),z.setData("Text",r.session.getTextRange()),b=!0,this.setState("drag")},this.onDragEnd=function(N){if(m.draggable=!1,b=!1,this.setState(null),!r.getReadOnly()){var H=N.dataTransfer.dropEffect;!T&&H=="move"&&r.session.remove(r.getSelectionRange()),r.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(N){if(!(r.getReadOnly()||!W(N.dataTransfer)))return _=N.clientX,A=N.clientY,u||I(),$++,N.dataTransfer.dropEffect=T=V(N),S.preventDefault(N)},this.onDragOver=function(N){if(!(r.getReadOnly()||!W(N.dataTransfer)))return _=N.clientX,A=N.clientY,u||(I(),$++),D!==null&&(D=null),N.dataTransfer.dropEffect=T=V(N),S.preventDefault(N)},this.onDragLeave=function(N){if($--,$<=0&&u)return O(),T=null,S.preventDefault(N)},this.onDrop=function(N){if(C){var H=N.dataTransfer;if(b)switch(T){case"move":h.contains(C.row,C.column)?h={start:C,end:C}:h=r.moveText(h,C);break;case"copy":h=r.moveText(h,C,!0);break}else{var z=H.getData("Text");h={start:C,end:r.session.insert(C,z)},r.focus(),T=null}return O(),S.preventDefault(N)}},S.addListener(m,"dragstart",this.onDragStart.bind(i),r),S.addListener(m,"dragend",this.onDragEnd.bind(i),r),S.addListener(m,"dragenter",this.onDragEnter.bind(i),r),S.addListener(m,"dragover",this.onDragOver.bind(i),r),S.addListener(m,"dragleave",this.onDragLeave.bind(i),r),S.addListener(m,"drop",this.onDrop.bind(i),r);function y(N,H){var z=Date.now(),U=!H||N.row!=H.row,j=!H||N.column!=H.column;if(!M||U||j)r.moveCursorToPosition(N),M=z,E={x:_,y:A};else{var K=n(E.x,E.y,_,A);K>t?M=null:z-M>=a&&(r.renderer.scrollCursorIntoView(),M=null)}}function x(N,H){var z=Date.now(),U=r.renderer.layerConfig.lineHeight,j=r.renderer.layerConfig.characterWidth,K=r.renderer.scroller.getBoundingClientRect(),X={x:{left:_-K.left,right:K.right-_},y:{top:A-K.top,bottom:K.bottom-A}},Z=Math.min(X.x.left,X.x.right),te=Math.min(X.y.top,X.y.bottom),oe={row:N.row,column:N.column};Z/j<=2&&(oe.column+=X.x.left<X.x.right?-3:2),te/U<=1&&(oe.row+=X.y.top<X.y.bottom?-1:1);var Se=N.row!=oe.row,ve=N.column!=oe.column,ge=!H||N.row!=H.row;Se||ve&&!ge?g?z-g>=s&&r.renderer.scrollCursorIntoView(oe):g=z:g=null}function R(){var N=C;C=r.renderer.screenToTextCoordinates(_,A),y(C,N),x(C,N)}function I(){h=r.selection.toOrientedRange(),u=r.session.addMarker(h,"ace_selection",r.getSelectionStyle()),r.clearSelection(),r.isFocused()&&r.renderer.$cursorLayer.setBlinking(!1),clearInterval(f),R(),f=setInterval(R,20),$=0,S.addListener(document,"mousemove",F)}function O(){clearInterval(f),r.session.removeMarker(u),u=null,r.selection.fromOrientedRange(h),r.isFocused()&&!b&&r.$resetCursorStyle(),h=null,C=null,$=0,g=null,M=null,S.removeListener(document,"mousemove",F)}var D=null;function F(){D==null&&(D=setTimeout(function(){D!=null&&u&&O()},20))}function W(N){var H=N.types;return!H||Array.prototype.some.call(H,function(z){return z=="text/plain"||z=="Text"})}function V(N){var H=["copy","copymove","all","uninitialized"],z=["move","copymove","linkmove","all","uninitialized"],U=w.isMac?N.altKey:N.ctrlKey,j="uninitialized";try{j=N.dataTransfer.effectAllowed.toLowerCase()}catch{}var K="none";return U&&H.indexOf(j)>=0?K="copy":z.indexOf(j)>=0?K="move":H.indexOf(j)>=0&&(K="copy"),K}}(function(){this.dragWait=function(){var i=Date.now()-this.mousedownEvent.time;i>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var i=this.editor.container;i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(i){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var i=this.editor,r=i.container;r.draggable=!0,i.renderer.$cursorLayer.setBlinking(!1),i.setStyle("ace_dragging");var o=w.isWin?"default":"move";i.renderer.setCursorStyle(o),this.setState("dragReady")},this.onMouseDrag=function(i){var r=this.editor.container;if(w.isIE&&this.state=="dragReady"){var o=n(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);o>3&&r.dragDrop()}if(this.state==="dragWait"){var o=n(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);o>0&&(r.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(i){if(this.$dragEnabled){this.mousedownEvent=i;var r=this.editor,o=i.inSelection(),l=i.getButton(),m=i.domEvent.detail||1;if(m===1&&l===0&&o){if(i.editor.inMultiSelectMode&&(i.getAccelKey()||i.getShiftKey()))return;this.mousedownEvent.time=Date.now();var u=i.domEvent.target||i.domEvent.srcElement;if("unselectable"in u&&(u.unselectable="on"),r.getDragDelay()){if(w.isWebKit){this.cancelDrag=!0;var _=r.container;_.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(i,this.onMouseDrag.bind(this)),i.defaultPrevented=!0}}}}).call(e.prototype);function n(i,r,o,l){return Math.sqrt(Math.pow(o-i,2)+Math.pow(l-r,2))}p.DragdropHandler=e}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(c,p,k){var d=c("./mouse_event").MouseEvent,S=c("../lib/event"),w=c("../lib/dom");p.addTouchListeners=function(s,a){var t="scroll",e,n,i,r,o,l,m=0,u,_=0,A=0,f=0,h,C;function $(){var y=window.navigator&&window.navigator.clipboard,x=!1,R=function(){var O=a.getCopyText(),D=a.session.getUndoManager().hasUndo();C.replaceChild(w.buildDom(x?["span",!O&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],O&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],O&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],y&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],D&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),C.firstChild)},I=function(O){var D=O.target.getAttribute("action");if(D=="more"||!x)return x=!x,R();D=="paste"?y.readText().then(function(F){a.execCommand(D,F)}):D&&((D=="cut"||D=="copy")&&(y?y.writeText(a.getCopyText()):document.execCommand("copy")),a.execCommand(D)),C.firstChild.style.display="none",x=!1,D!="openCommandPallete"&&a.focus()};C=w.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(O){t="menu",O.stopPropagation(),O.preventDefault(),a.textInput.focus()},ontouchend:function(O){O.stopPropagation(),O.preventDefault(),I(O)},onclick:I},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],a.container)}function T(){C||$();var y=a.selection.cursor,x=a.renderer.textToScreenCoordinates(y.row,y.column),R=a.renderer.textToScreenCoordinates(0,0).pageX,I=a.renderer.scrollLeft,O=a.container.getBoundingClientRect();C.style.top=x.pageY-O.top-3+"px",x.pageX-O.left<O.width-70?(C.style.left="",C.style.right="10px"):(C.style.right="",C.style.left=R+I-O.left+"px"),C.style.display="",C.firstChild.style.display="none",a.on("input",b)}function b(y){C&&(C.style.display="none"),a.off("input",b)}function g(){o=null,clearTimeout(o);var y=a.selection.getRange(),x=y.contains(u.row,u.column);(y.isEmpty()||!x)&&(a.selection.moveToPosition(u),a.selection.selectWord()),t="wait",T()}function M(){o=null,clearTimeout(o),a.selection.moveToPosition(u);var y=_>=2?a.selection.getLineRange(u.row):a.session.getBracketRange(u);y&&!y.isEmpty()?a.selection.setRange(y):a.selection.selectWord(),t="wait"}S.addListener(s,"contextmenu",function(y){if(h){var x=a.textInput.getElement();x.focus()}},a),S.addListener(s,"touchstart",function(y){var x=y.touches;if(o||x.length>1){clearTimeout(o),o=null,i=-1,t="zoom";return}h=a.$mouseHandler.isMousePressed=!0;var R=a.renderer.layerConfig.lineHeight,I=a.renderer.layerConfig.lineHeight,O=y.timeStamp;r=O;var D=x[0],F=D.clientX,W=D.clientY;Math.abs(e-F)+Math.abs(n-W)>R&&(i=-1),e=y.clientX=F,n=y.clientY=W,A=f=0;var V=new d(y,a);if(u=V.getDocumentPosition(),O-i<500&&x.length==1&&!m)_++,y.preventDefault(),y.button=0,M();else{_=0;var N=a.selection.cursor,H=a.selection.isEmpty()?N:a.selection.anchor,z=a.renderer.$cursorLayer.getPixelPosition(N,!0),U=a.renderer.$cursorLayer.getPixelPosition(H,!0),j=a.renderer.scroller.getBoundingClientRect(),K=a.renderer.layerConfig.offset,X=a.renderer.scrollLeft,Z=function(Se,ve){return Se=Se/I,ve=ve/R-.75,Se*Se+ve*ve};if(y.clientX<j.left){t="zoom";return}var te=Z(y.clientX-j.left-z.left+X,y.clientY-j.top-z.top+K),oe=Z(y.clientX-j.left-U.left+X,y.clientY-j.top-U.top+K);te<3.5&&oe<3.5&&(t=te>oe?"cursor":"anchor"),oe<3.5?t="anchor":te<3.5?t="cursor":t="scroll",o=setTimeout(g,450)}i=O},a),S.addListener(s,"touchend",function(y){h=a.$mouseHandler.isMousePressed=!1,l&&clearInterval(l),t=="zoom"?(t="",m=0):o?(a.selection.moveToPosition(u),m=0,T()):t=="scroll"?(E(),b()):T(),clearTimeout(o),o=null},a),S.addListener(s,"touchmove",function(y){o&&(clearTimeout(o),o=null);var x=y.touches;if(!(x.length>1||t=="zoom")){var R=x[0],I=e-R.clientX,O=n-R.clientY;if(t=="wait")if(I*I+O*O>4)t="cursor";else return y.preventDefault();e=R.clientX,n=R.clientY,y.clientX=R.clientX,y.clientY=R.clientY;var D=y.timeStamp,F=D-r;if(r=D,t=="scroll"){var W=new d(y,a);W.speed=1,W.wheelX=I,W.wheelY=O,10*Math.abs(I)<Math.abs(O)&&(I=0),10*Math.abs(O)<Math.abs(I)&&(O=0),F!=0&&(A=I/F,f=O/F),a._emit("mousewheel",W),W.propagationStopped||(A=f=0)}else{var V=new d(y,a),N=V.getDocumentPosition();t=="cursor"?a.selection.moveCursorToPosition(N):t=="anchor"&&a.selection.setSelectionAnchor(N.row,N.column),a.renderer.scrollCursorIntoView(N),y.preventDefault()}}},a);function E(){m+=60,l=setInterval(function(){m--<=0&&(clearInterval(l),l=null),Math.abs(A)<.01&&(A=0),Math.abs(f)<.01&&(f=0),m<20&&(A=.9*A),m<20&&(f=.9*f);var y=a.session.getScrollTop();a.renderer.scrollBy(10*A,10*f),y==a.session.getScrollTop()&&(m=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(c,p,k){var d=c("../lib/event"),S=c("../lib/useragent"),w=c("./default_handlers").DefaultHandlers,s=c("./default_gutter_handler").GutterHandler,a=c("./mouse_event").MouseEvent,t=c("./dragdrop_handler").DragdropHandler,e=c("./touch_handler").addTouchListeners,n=c("../config"),i=function(){function r(o){var l=this;this.editor=o,new w(this),new s(this),new t(this);var m=function(A){var f=!document.hasFocus||!document.hasFocus()||!o.isFocused()&&document.activeElement==(o.textInput&&o.textInput.getElement());f&&window.focus(),o.focus(),setTimeout(function(){o.isFocused()||o.focus()})},u=o.renderer.getMouseEventTarget();d.addListener(u,"click",this.onMouseEvent.bind(this,"click"),o),d.addListener(u,"mousemove",this.onMouseMove.bind(this,"mousemove"),o),d.addMultiMouseDownListener([u,o.renderer.scrollBarV&&o.renderer.scrollBarV.inner,o.renderer.scrollBarH&&o.renderer.scrollBarH.inner,o.textInput&&o.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",o),d.addMouseWheelListener(o.container,this.onMouseWheel.bind(this,"mousewheel"),o),e(o.container,o);var _=o.renderer.$gutter;d.addListener(_,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),o),d.addListener(_,"click",this.onMouseEvent.bind(this,"gutterclick"),o),d.addListener(_,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),o),d.addListener(_,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),o),d.addListener(u,"mousedown",m,o),d.addListener(_,"mousedown",m,o),S.isIE&&o.renderer.scrollBarV&&(d.addListener(o.renderer.scrollBarV.element,"mousedown",m,o),d.addListener(o.renderer.scrollBarH.element,"mousedown",m,o)),o.on("mousemove",function(A){if(!(l.state||l.$dragDelay||!l.$dragEnabled)){var f=o.renderer.screenToTextCoordinates(A.x,A.y),h=o.session.selection.getRange(),C=o.renderer;!h.isEmpty()&&h.insideStart(f.row,f.column)?C.setCursorStyle("default"):C.setCursorStyle("")}},o)}return r.prototype.onMouseEvent=function(o,l){this.editor.session&&this.editor._emit(o,new a(l,this.editor))},r.prototype.onMouseMove=function(o,l){var m=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!m||!m.length||this.editor._emit(o,new a(l,this.editor))},r.prototype.onMouseWheel=function(o,l){var m=new a(l,this.editor);m.speed=this.$scrollSpeed*2,m.wheelX=l.wheelX,m.wheelY=l.wheelY,this.editor._emit(o,m)},r.prototype.setState=function(o){this.state=o},r.prototype.captureMouse=function(o,l){this.x=o.x,this.y=o.y,this.isMousePressed=!0;var m=this.editor,u=this.editor.renderer;u.$isMousePressed=!0;var _=this,A=function(T){if(T){if(S.isWebKit&&!T.which&&_.releaseMouse)return _.releaseMouse();_.x=T.clientX,_.y=T.clientY,l&&l(T),_.mouseEvent=new a(T,_.editor),_.$mouseMoved=!0}},f=function(T){m.off("beforeEndOperation",C),clearInterval($),m.session&&h(),_[_.state+"End"]&&_[_.state+"End"](T),_.state="",_.isMousePressed=u.$isMousePressed=!1,u.$keepTextAreaAtCursor&&u.$moveTextAreaToCursor(),_.$onCaptureMouseMove=_.releaseMouse=null,T&&_.onMouseEvent("mouseup",T),m.endOperation()},h=function(){_[_.state]&&_[_.state](),_.$mouseMoved=!1};if(S.isOldIE&&o.domEvent.type=="dblclick")return setTimeout(function(){f(o)});var C=function(T){_.releaseMouse&&m.curOp.command.name&&m.curOp.selectionChanged&&(_[_.state+"End"]&&_[_.state+"End"](),_.state="",_.releaseMouse())};m.on("beforeEndOperation",C),m.startOperation({command:{name:"mouse"}}),_.$onCaptureMouseMove=A,_.releaseMouse=d.capture(this.editor.container,A,f);var $=setInterval(h,20)},r.prototype.cancelContextMenu=function(){var o=function(l){l&&l.domEvent&&l.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",o),l&&l.domEvent&&d.stopEvent(l.domEvent))}.bind(this);setTimeout(o,10),this.editor.on("nativecontextmenu",o)},r.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},r}();i.prototype.releaseMouse=null,n.defineOptions(i.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:S.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),p.MouseHandler=i}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(c,p,k){var d=c("../lib/dom"),S=function(){function w(s){s.on("click",function(a){var t=a.getDocumentPosition(),e=s.session,n=e.getFoldAt(t.row,t.column,1);n&&(a.getAccelKey()?e.removeFold(n):e.expandFold(n),a.stop());var i=a.domEvent&&a.domEvent.target;i&&d.hasCssClass(i,"ace_inline_button")&&d.hasCssClass(i,"ace_toggle_wrap")&&(e.setOption("wrap",!e.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(a){var t=s.renderer.$gutterLayer.getRegion(a);if(t=="foldWidgets"){var e=a.getDocumentPosition().row,n=s.session;n.foldWidgets&&n.foldWidgets[e]&&s.session.onFoldWidgetClick(e,a),s.isFocused()||s.focus(),a.stop()}}),s.on("gutterdblclick",function(a){var t=s.renderer.$gutterLayer.getRegion(a);if(t=="foldWidgets"){var e=a.getDocumentPosition().row,n=s.session,i=n.getParentFoldRangeData(e,!0),r=i.range||i.firstRange;if(r){e=r.start.row;var o=n.getFoldAt(e,n.getLine(e).length,1);o?n.removeFold(o):(n.addFold("...",r),s.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}a.stop()}})}return w}();p.FoldHandler=S}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(c,p,k){var d=c("../lib/keys"),S=c("../lib/event"),w=function(){function s(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)}return s.prototype.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},s.prototype.setKeyboardHandler=function(a){var t=this.$handlers;if(t[t.length-1]!=a){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(a,1)}},s.prototype.addKeyboardHandler=function(a,t){if(a){typeof a=="function"&&!a.handleKeyboard&&(a.handleKeyboard=a);var e=this.$handlers.indexOf(a);e!=-1&&this.$handlers.splice(e,1),t==null?this.$handlers.push(a):this.$handlers.splice(t,0,a),e==-1&&a.attach&&a.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(a){var t=this.$handlers.indexOf(a);return t==-1?!1:(this.$handlers.splice(t,1),a.detach&&a.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var a=this.$data,t=a.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(t,a)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(a,t,e,n){for(var i,r=!1,o=this.$editor.commands,l=this.$handlers.length;l--&&(i=this.$handlers[l].handleKeyboard(this.$data,a,t,e,n),!(!(!i||!i.command)&&(i.command=="null"?r=!0:r=o.exec(i.command,this.$editor,i.args,n),r&&n&&a!=-1&&i.passEvent!=!0&&i.command.passEvent!=!0&&S.stopEvent(n),r))););return!r&&a==-1&&(i={command:"insertstring"},r=o.exec("insertstring",this.$editor,t)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",i),r},s.prototype.onCommandKey=function(a,t,e){var n=d.keyCodeToString(e);return this.$callKeyboardHandlers(t,n,e,a)},s.prototype.onTextInput=function(a){return this.$callKeyboardHandlers(-1,a)},s}();p.KeyBinding=w}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(c,p,k){var d=0,S=0,w=!1,s=!1,a=!1,t=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=0,i=1,r=0,o=1,l=2,m=3,u=4,_=5,A=6,f=7,h=8,C=9,$=10,T=11,b=12,g=13,M=14,E=15,y=16,x=17,R=18,I=[R,R,R,R,R,R,R,R,R,A,_,A,h,_,R,R,R,R,R,R,R,R,R,R,R,R,R,R,_,_,_,A,h,u,u,T,T,T,u,u,u,u,u,$,C,$,C,C,l,l,l,l,l,l,l,l,l,l,C,u,u,u,u,u,u,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,u,u,u,u,u,u,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,u,u,u,u,R,R,R,R,R,R,_,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,C,u,T,T,T,T,u,u,u,u,r,u,u,R,u,u,T,T,l,l,u,r,u,u,u,l,r,u,u,u,u,u],O=[h,h,h,h,h,h,h,h,h,h,h,R,R,R,r,o,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,_,g,M,E,y,x,C,T,T,T,T,T,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,C,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h];function D(N,H,z,U){var j=d?e:t,K=null,X=null,Z=null,te=0,oe=null,Se=null,ve=-1,ge=null,$e=null,ze=[];if(!U)for(ge=0,U=[];ge<z;ge++)U[ge]=V(N[ge]);for(S=d,w=!1,s=!1,a=!1,$e=0;$e<z;$e++){if(K=te,ze[$e]=X=W(N,U,ze,$e),te=j[K][X],oe=te&240,te&=15,H[$e]=Z=j[te][5],oe>0)if(oe==16){for(ge=ve;ge<$e;ge++)H[ge]=1;ve=-1}else ve=-1;if(Se=j[te][6],Se)ve==-1&&(ve=$e);else if(ve>-1){for(ge=ve;ge<$e;ge++)H[ge]=Z;ve=-1}U[$e]==_&&(H[$e]=0),S|=Z}if(a){for(ge=0;ge<z;ge++)if(U[ge]==A){H[ge]=d;for(var Ne=ge-1;Ne>=0&&U[Ne]==h;Ne--)H[Ne]=d}}}function F(N,H,z){if(!(S<N)){if(N==1&&d==i&&!s){z.reverse();return}for(var U=z.length,j=0,K,X,Z,te;j<U;){if(H[j]>=N){for(K=j+1;K<U&&H[K]>=N;)K++;for(X=j,Z=K-1;X<Z;X++,Z--)te=z[X],z[X]=z[Z],z[Z]=te;j=K}j++}}}function W(N,H,z,U){var j=H[U],K,X,Z,te;switch(j){case r:case o:w=!1;case u:case m:return j;case l:return w?m:l;case f:return w=!0,o;case h:return u;case C:return U<1||U+1>=H.length||(K=z[U-1])!=l&&K!=m||(X=H[U+1])!=l&&X!=m?u:(w&&(X=m),X==K?X:u);case $:return K=U>0?z[U-1]:_,K==l&&U+1<H.length&&H[U+1]==l?l:u;case T:if(U>0&&z[U-1]==l)return l;if(w)return u;for(te=U+1,Z=H.length;te<Z&&H[te]==T;)te++;return te<Z&&H[te]==l?l:u;case b:for(Z=H.length,te=U+1;te<Z&&H[te]==b;)te++;if(te<Z){var oe=N[U],Se=oe>=1425&&oe<=2303||oe==64286;if(K=H[te],Se&&(K==o||K==f))return o}return U<1||(K=H[U-1])==_?u:z[U-1];case _:return w=!1,s=!0,d;case A:return a=!0,u;case g:case M:case y:case x:case E:w=!1;case R:return u}}function V(N){var H=N.charCodeAt(0),z=H>>8;return z==0?H>191?r:I[H]:z==5?/[\u0591-\u05f4]/.test(N)?o:r:z==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(N)?b:/[\u0660-\u0669\u066b-\u066c]/.test(N)?m:H==1642?T:/[\u06f0-\u06f9]/.test(N)?l:f:z==32&&H<=8287?O[H&255]:z==254&&H>=65136?f:u}p.L=r,p.R=o,p.EN=l,p.ON_R=3,p.AN=4,p.R_H=5,p.B=6,p.RLE=7,p.DOT="",p.doBidiReorder=function(N,H,z){if(N.length<2)return{};var U=N.split(""),j=new Array(U.length),K=new Array(U.length),X=[];d=z?i:n,D(U,X,U.length,H);for(var Z=0;Z<j.length;j[Z]=Z,Z++);F(2,X,j),F(1,X,j);for(var Z=0;Z<j.length-1;Z++)H[Z]===m?X[Z]=p.AN:X[Z]===o&&(H[Z]>f&&H[Z]<g||H[Z]===u||H[Z]===R)?X[Z]=p.ON_R:Z>0&&U[Z-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(U[Z])&&(X[Z-1]=X[Z]=p.R_H,Z++);U[U.length-1]===p.DOT&&(X[U.length-1]=p.B),U[0]===""&&(X[0]=p.RLE);for(var Z=0;Z<j.length;Z++)K[Z]=X[j[Z]];return{logicalFromVisual:j,bidiLevels:K}},p.hasBidiCharacters=function(N,H){for(var z=!1,U=0;U<N.length;U++)H[U]=V(N.charAt(U)),!z&&(H[U]==o||H[U]==f||H[U]==m)&&(z=!0);return z},p.getVisualFromLogicalIdx=function(N,H){for(var z=0;z<H.logicalFromVisual.length;z++)if(H.logicalFromVisual[z]==N)return z;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(c,p,k){var d=c("./lib/bidiutil"),S=c("./lib/lang"),w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function a(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=d,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=w.test(t.getValue())}return a.prototype.isBidiRow=function(t,e,n){return this.seenBidi?(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,n),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},a.prototype.onChange=function(t){this.seenBidi?this.currentRow=null:t.action=="insert"&&w.test(t.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},a.prototype.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var n=this.session.$getRowCacheIndex(e,this.currentRow);n>=0&&(t=this.session.$docRowCache[n])}return t},a.prototype.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var n,i=this.session.$getRowCacheIndex(e,this.currentRow);this.currentRow-t>0&&(n=this.session.$getRowCacheIndex(e,this.currentRow-t-1),n===i);)i=n,t++;else t=this.currentRow;return t},a.prototype.updateRowLine=function(t,e){t===void 0&&(t=this.getDocumentRow());var n=t===this.session.getLength()-1,i=n?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var r=this.session.$wrapData[t];r&&(e===void 0&&(e=this.getSplitIndex()),e>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[d.L],this.line=e<r.length?this.line.substring(r[e-1],r[e]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[e]),e==r.length&&(this.line+=this.showInvisibles?i:d.DOT))}else this.line+=this.showInvisibles?i:d.DOT;var o=this.session,l=0,m;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(u,_){return u==="	"||o.isFullWidth(u.charCodeAt(0))?(m=u==="	"?o.getScreenTabSize(_+l):2,l+=m-1,S.stringRepeat(d.DOT,m)):u}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==d.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},a.prototype.updateBidiMap=function(){var t=[];d.hasBidiCharacters(this.line,t)||this.isRtlDir?this.bidiMap=d.doBidiReorder(this.line,t,this.isRtlDir):this.bidiMap={}},a.prototype.markAsDirty=function(){this.currentRow=null},a.prototype.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var e=this.characterWidth=t.$characterSize.width,n=t.$measureCharWidth("");this.charWidths[d.L]=this.charWidths[d.EN]=this.charWidths[d.ON_R]=e,this.charWidths[d.R]=this.charWidths[d.AN]=n,this.charWidths[d.R_H]=n*.45,this.charWidths[d.B]=this.charWidths[d.RLE]=0,this.currentRow=null}},a.prototype.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},a.prototype.setEolChar=function(t){this.EOL=t},a.prototype.setContentWidth=function(t){this.contentWidth=t},a.prototype.isRtlLine=function(t){return this.$isRtl?!0:t!=null?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir},a.prototype.setRtlDirection=function(t,e){for(var n=t.getCursorPosition(),i=t.selection.getSelectionAnchor().row;i<=n.row;i++)!e&&t.session.getLine(i).charAt(0)===t.session.$bidiHandler.RLE?t.session.doc.removeInLine(i,0,1):e&&t.session.getLine(i).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:i},t.session.$bidiHandler.RLE)},a.prototype.getPosLeft=function(t){t-=this.wrapIndent;var e=this.line.charAt(0)===this.RLE?1:0,n=t>e?this.session.getOverwrite()?t:t-1:e,i=d.getVisualFromLogicalIdx(n,this.bidiMap),r=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&t<=e&&r[i]%2!==0&&i++;for(var l=0;l<i;l++)o+=this.charWidths[r[l]];return!this.session.getOverwrite()&&t>e&&r[i]%2===0&&(o+=this.charWidths[r[i]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},a.prototype.getSelections=function(t,e){var n=this.bidiMap,i=n.bidiLevels,r,o=[],l=0,m=Math.min(t,e)-this.wrapIndent,u=Math.max(t,e)-this.wrapIndent,_=!1,A=!1,f=0;this.wrapIndent&&(l+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,C=0;C<i.length;C++)h=n.logicalFromVisual[C],r=i[C],_=h>=m&&h<u,_&&!A?f=l:!_&&A&&o.push({left:f,width:l-f}),l+=this.charWidths[r],A=_;if(_&&C===i.length&&o.push({left:f,width:l-f}),this.isRtlDir)for(var $=0;$<o.length;$++)o[$].left+=this.rtlLineOffset;return o},a.prototype.offsetToCol=function(n){this.isRtlDir&&(n-=this.rtlLineOffset);var e=0,n=Math.max(n,0),i=0,r=0,o=this.bidiMap.bidiLevels,l=this.charWidths[o[r]];for(this.wrapIndent&&(n-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);n>i+l/2;){if(i+=l,r===o.length-1){l=0;break}l=this.charWidths[o[++r]]}return r>0&&o[r-1]%2!==0&&o[r]%2===0?(n<i&&r--,e=this.bidiMap.logicalFromVisual[r]):r>0&&o[r-1]%2===0&&o[r]%2!==0?e=1+(n>i?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===o.length-1&&l===0&&o[r-1]%2===0||!this.isRtlDir&&r===0&&o[r]%2!==0?e=1+this.bidiMap.logicalFromVisual[r]:(r>0&&o[r-1]%2!==0&&l!==0&&r--,e=this.bidiMap.logicalFromVisual[r]),e===0&&this.isRtlDir&&e++,e+this.wrapIndent},a}();p.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(c,p,k){var d=c("./lib/oop"),S=c("./lib/lang"),w=c("./lib/event_emitter").EventEmitter,s=c("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(n){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),!e.$isEmpty&&!e.$silent&&e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,!e.$isEmpty&&!e.$silent&&e._emit("changeSelection")})};(function(){d.implement(this,w),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var n=e?t.end:t.start,i=e?t.start:t.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(t,e,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(n,i),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(typeof e>"u"){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n=typeof t=="number"?t:this.lead.row,i,r=this.session.getFoldLine(n);return r?(n=r.start.row,i=r.end.row):i=n,e===!0?new s(n,0,i,this.session.getLine(i).length):new s(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,n){var i=t.column,r=t.column+e;return n<0&&(i=t.column-e,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(i,r).split(" ").length-1==e},this.moveCursorLeft=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column),o=r.match(/^\s*/);o[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(i.column+=o[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);i>0&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);if(r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(i)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(e)),e>=n.length){this.moveCursorTo(t,n.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(i)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.moveCursorLongWordLeft=function(){var t=this.lead.row,e=this.lead.column,n;if(n=this.session.getFoldAt(t,e,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var i=this.session.getFoldStringAt(t,e,-1);i==null&&(i=this.doc.getLine(t).substring(0,e));var r=S.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(e-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),e<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(r)&&(e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.$shortWordEndIndex=function(t){var e=0,n,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))e=this.session.tokenRe.lastIndex;else{for(;(n=t[e])&&i.test(n);)e++;if(e<1){for(r.lastIndex=0;(n=t[e])&&!r.test(n);)if(r.lastIndex=0,e++,i.test(n))if(e>2){e--;break}else{for(;(n=t[e])&&i.test(n);)e++;if(e>2)break}}}return r.lastIndex=0,e},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){var o=this.doc.getLength();do t++,i=this.doc.getLine(t);while(t<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),e=0}var l=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+l)},this.moveCursorShortWordLeft=function(){var t=this.lead.row,e=this.lead.column,n;if(n=this.session.getFoldAt(t,e,-1))return this.moveCursorTo(n.start.row,n.start.column);var i=this.session.getLine(t).substring(0,e);if(e===0){do t--,i=this.doc.getLine(t);while(t>0&&/^\s*$/.test(i));e=i.length,/\s+$/.test(i)||(i="")}var r=S.stringReverse(i),o=this.$shortWordEndIndex(r);return this.moveCursorTo(t,e-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),i;if(e===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];t<0?t-=r.rowsAbove||0:t>0&&(t+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(n.row+t,n.column,i);t!==0&&e===0&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+e,e===0)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e=e-1:e=e+1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return s.fromPoints(e,n)}catch{return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(e){var n=e.clone();return n.isBackwards=e.cursor==e.start,n});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(t.start==null)if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}else t=t[0];this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),p.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(c,p,k){var d=c("./config"),S=2e3,w=function(){function s(a){this.states=a,this.regExps={},this.matchMappings={};for(var t in this.states){for(var e=this.states[t],n=[],i=0,r=this.matchMappings[t]={defaultToken:"text"},o="g",l=[],m=0;m<e.length;m++){var u=e[m];if(u.defaultToken&&(r.defaultToken=u.defaultToken),u.caseInsensitive&&o.indexOf("i")===-1&&(o+="i"),u.unicode&&o.indexOf("u")===-1&&(o+="u"),u.regex!=null){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var _=u.regex,A=new RegExp("(?:("+_+")|(.))").exec("a").length-2;Array.isArray(u.token)?u.token.length==1||A==1?u.token=u.token[0]:A-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:A-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):typeof u.token=="function"&&!u.onMatch&&(A>1?u.onMatch=this.$applyToken:u.onMatch=u.token),A>1&&(/\\\d/.test(u.regex)?_=u.regex.replace(/\\([0-9]+)/g,function(f,h){return"\\"+(parseInt(h,10)+i+1)}):(A=1,_=this.removeCapturingGroups(u.regex)),!u.splitRegex&&typeof u.token!="string"&&l.push(u)),r[i]=m,i+=A,n.push(_),u.onMatch||(u.onMatch=null)}}n.length||(r[0]=0,n.push("$")),l.forEach(function(f){f.splitRegex=this.createSplitterRegexp(f.regex,o)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",o)}}return s.prototype.$setMaxTokenCount=function(a){S=a|0},s.prototype.$applyToken=function(a){var t=this.splitRegex.exec(a).slice(1),e=this.token.apply(this,t);if(typeof e=="string")return[{type:e,value:a}];for(var n=[],i=0,r=e.length;i<r;i++)t[i]&&(n[n.length]={type:e[i],value:t[i]});return n},s.prototype.$arrayTokens=function(a){if(!a)return[];var t=this.splitRegex.exec(a);if(!t)return"text";for(var e=[],n=this.tokenArray,i=0,r=n.length;i<r;i++)t[i+1]&&(e[e.length]={type:n[i],value:t[i+1]});return e},s.prototype.removeCapturingGroups=function(a){var t=a.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(e,n){return n?"(?:":e});return t},s.prototype.createSplitterRegexp=function(a,t){if(a.indexOf("(?=")!=-1){var e=0,n=!1,i={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(r,o,l,m,u,_){return n?n=u!="]":u?n=!0:m?(e==i.stack&&(i.end=_+1,i.stack=-1),e--):l&&(e++,l.length!=1&&(i.stack=e,i.start=_)),r}),i.end!=null&&/^\)*$/.test(a.substr(i.end))&&(a=a.substring(0,i.start)+a.substr(i.end))}return a.charAt(0)!="^"&&(a="^"+a),a.charAt(a.length-1)!="$"&&(a+="$"),new RegExp(a,(t||"").replace("g",""))},s.prototype.getLineTokens=function(a,t){if(t&&typeof t!="string"){var e=t.slice(0);t=e[0],t==="#tmp"&&(e.shift(),t=e.shift())}else var e=[];var n=t||"start",i=this.states[n];i||(n="start",i=this.states[n]);var r=this.matchMappings[n],o=this.regExps[n];o.lastIndex=0;for(var l,m=[],u=0,_=0,A={type:null,value:""};l=o.exec(a);){var f=r.defaultToken,h=null,C=l[0],$=o.lastIndex;if($-C.length>u){var T=a.substring(u,$-C.length);A.type==f?A.value+=T:(A.type&&m.push(A),A={type:f,value:T})}for(var b=0;b<l.length-2;b++)if(l[b+1]!==void 0){h=i[r[b]],h.onMatch?f=h.onMatch(C,n,e,a):f=h.token,h.next&&(typeof h.next=="string"?n=h.next:n=h.next(n,e),i=this.states[n],i||(this.reportError("state doesn't exist",n),n="start",i=this.states[n]),r=this.matchMappings[n],u=$,o=this.regExps[n],o.lastIndex=$),h.consumeLineEnd&&(u=$);break}if(C){if(typeof f=="string")(!h||h.merge!==!1)&&A.type===f?A.value+=C:(A.type&&m.push(A),A={type:f,value:C});else if(f){A.type&&m.push(A),A={type:null,value:""};for(var b=0;b<f.length;b++)m.push(f[b])}}if(u==a.length)break;if(u=$,_++>S){for(_>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:a});u<a.length;)A.type&&m.push(A),A={value:a.substring(u,u+=500),type:"overflow"};n="start",e=[];break}}return A.type&&m.push(A),e.length>1&&e[0]!==n&&e.unshift("#tmp",n),{tokens:m,state:e.length?e:n}},s}();w.prototype.reportError=d.reportError,p.Tokenizer=w}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(c,p,k){var d=c("../lib/lang"),S=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,t){if(!t){for(var e in a)this.$rules[e]=a[e];return}for(var e in a){for(var n=a[e],i=0;i<n.length;i++){var r=n[i];(r.next||r.onMatch)&&(typeof r.next=="string"&&r.next.indexOf(t)!==0&&(r.next=t+r.next),r.nextState&&r.nextState.indexOf(t)!==0&&(r.nextState=t+r.nextState))}this.$rules[t+e]=n}},this.getRules=function(){return this.$rules},this.embedRules=function(a,t,e,n,i){var r=typeof a=="function"?new a().getRules():a;if(n)for(var o=0;o<n.length;o++)n[o]=t+n[o];else{n=[];for(var l in r)n.push(t+l)}if(this.addRules(r,t),e)for(var m=Array.prototype[i?"push":"unshift"],o=0;o<n.length;o++)m.apply(this.$rules[n[o]],d.deepCopy(e));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var w=function(a,t){return(a!="start"||t.length)&&t.unshift(this.nextState,a),this.nextState},s=function(a,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var a=0,t=this.$rules;function e(n){var i=t[n];i.processed=!0;for(var r=0;r<i.length;r++){var o=i[r],l=null;Array.isArray(o)&&(l=o,o={}),!o.regex&&o.start&&(o.regex=o.start,o.next||(o.next=[]),o.next.push({defaultToken:o.token},{token:o.token+".end",regex:o.end||o.start,next:"pop"}),o.token=o.token+".start",o.push=!0);var m=o.next||o.push;if(m&&Array.isArray(m)){var u=o.stateName;u||(u=o.token,typeof u!="string"&&(u=u[0]||""),t[u]&&(u+=a++)),t[u]=m,o.next=u,e(u)}else m=="pop"&&(o.next=s);if(o.push&&(o.nextState=o.next||o.push,o.next=w,delete o.push),o.rules)for(var _ in o.rules)t[_]?t[_].push&&t[_].push.apply(t[_],o.rules[_]):t[_]=o.rules[_];var A=typeof o=="string"?o:o.include;if(A&&(A==="$self"&&(A="start"),Array.isArray(A)?l=A.map(function(h){return t[h]}):l=t[A]),l){var f=[r,1].concat(l);o.noEscape&&(f=f.filter(function(h){return!h.next})),i.splice.apply(i,f),r--}o.keywordMap&&(o.token=this.createKeywordMapper(o.keywordMap,o.defaultToken||"text",o.caseInsensitive),delete o.defaultToken)}}Object.keys(t).forEach(e,this)},this.createKeywordMapper=function(a,t,e,n){var i=Object.create(null);return this.$keywordList=[],Object.keys(a).forEach(function(r){for(var o=a[r],l=o.split(n||"|"),m=l.length;m--;){var u=l[m];this.$keywordList.push(u),e&&(u=u.toLowerCase()),i[u]=r}},this),a=null,e?function(r){return i[r.toLowerCase()]||t}:function(r){return i[r]||t}},this.getKeywords=function(){return this.$keywords}}).call(S.prototype),p.TextHighlightRules=S}),ace.define("ace/mode/behaviour",["require","exports","module"],function(c,p,k){var d=function(){this.$behaviours={}};(function(){this.add=function(S,w,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[S]:this.$behaviours[S]={}}this.$behaviours[S][w]=s},this.addBehaviours=function(S){for(var w in S)for(var s in S[w])this.add(w,s,S[w][s])},this.remove=function(S){this.$behaviours&&this.$behaviours[S]&&delete this.$behaviours[S]},this.inherit=function(S,w){if(typeof S=="function")var s=new S().getBehaviours(w);else var s=S.getBehaviours(w);this.addBehaviours(s)},this.getBehaviours=function(S){if(S){for(var w={},s=0;s<S.length;s++)this.$behaviours[S[s]]&&(w[S[s]]=this.$behaviours[S[s]]);return w}else return this.$behaviours}}).call(d.prototype),p.Behaviour=d}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(c,p,k){var d=c("./range").Range,S=function(){function w(s,a,t){this.$session=s,this.$row=a,this.$rowTokens=s.getTokens(a);var e=s.getTokenAt(a,t);this.$tokenIndex=e?e.index:-1}return w.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},w.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},w.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},w.prototype.getCurrentTokenRow=function(){return this.$row},w.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,a=this.$tokenIndex,t=s[a].start;if(t!==void 0)return t;for(t=0;a>0;)a-=1,t+=s[a].value.length;return t},w.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},w.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],a=this.getCurrentTokenColumn();return new d(this.$row,a,this.$row,a+s.value.length)},w}();p.TokenIterator=S}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(c,p,k){var d=c("../../lib/oop"),S=c("../behaviour").Behaviour,w=c("../../token_iterator").TokenIterator,s=c("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],t=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],e,n={},i={'"':'"',"'":"'"},r=function(m){var u=-1;if(m.multiSelect&&(u=m.selection.index,n.rangeCount!=m.multiSelect.rangeCount&&(n={rangeCount:m.multiSelect.rangeCount})),n[u])return e=n[u];e=n[u]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},o=function(m,u,_,A){var f=m.end.row-m.start.row;return{text:_+u+A,selection:[0,m.start.column+1,f,m.end.column+(f?0:1)]}},l=function(m){m=m||{},this.add("braces","insertion",function(u,_,A,f,h){var C=A.getCursorPosition(),$=f.doc.getLine(C.row);if(h=="{"){r(A);var T=A.getSelectionRange(),b=f.doc.getTextRange(T);if(b!==""&&b!=="{"&&A.getWrapBehavioursEnabled())return o(T,b,"{","}");if(l.isSaneInsertion(A,f))return/[\]\}\)]/.test($[C.column])||A.inMultiSelectMode||m.braces?(l.recordAutoInsert(A,f,"}"),{text:"{}",selection:[1,1]}):(l.recordMaybeInsert(A,f,"{"),{text:"{",selection:[1,1]})}else if(h=="}"){r(A);var g=$.substring(C.column,C.column+1);if(g=="}"){var M=f.$findOpeningBracket("}",{column:C.column+1,row:C.row});if(M!==null&&l.isAutoInsertedClosing(C,$,h))return l.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(h==`
`||h==`\r
`){r(A);var E="";l.isMaybeInsertedClosing(C,$)&&(E=s.stringRepeat("}",e.maybeInsertedBrackets),l.clearMaybeInsertedClosing());var g=$.substring(C.column,C.column+1);if(g==="}"){var y=f.findMatchingBracket({row:C.row,column:C.column+1},"}");if(!y)return null;var x=this.$getIndent(f.getLine(y.row))}else if(E)var x=this.$getIndent($);else{l.clearMaybeInsertedClosing();return}var R=x+f.getTabString();return{text:`
`+R+`
`+x+E,selection:[1,R.length,1,R.length]}}else l.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(u,_,A,f,h){var C=f.doc.getTextRange(h);if(!h.isMultiLine()&&C=="{"){r(A);var $=f.doc.getLine(h.start.row),T=$.substring(h.end.column,h.end.column+1);if(T=="}")return h.end.column++,h;e.maybeInsertedBrackets--}}),this.add("parens","insertion",function(u,_,A,f,h){if(h=="("){r(A);var C=A.getSelectionRange(),$=f.doc.getTextRange(C);if($!==""&&A.getWrapBehavioursEnabled())return o(C,$,"(",")");if(l.isSaneInsertion(A,f))return l.recordAutoInsert(A,f,")"),{text:"()",selection:[1,1]}}else if(h==")"){r(A);var T=A.getCursorPosition(),b=f.doc.getLine(T.row),g=b.substring(T.column,T.column+1);if(g==")"){var M=f.$findOpeningBracket(")",{column:T.column+1,row:T.row});if(M!==null&&l.isAutoInsertedClosing(T,b,h))return l.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(u,_,A,f,h){var C=f.doc.getTextRange(h);if(!h.isMultiLine()&&C=="("){r(A);var $=f.doc.getLine(h.start.row),T=$.substring(h.start.column+1,h.start.column+2);if(T==")")return h.end.column++,h}}),this.add("brackets","insertion",function(u,_,A,f,h){if(h=="["){r(A);var C=A.getSelectionRange(),$=f.doc.getTextRange(C);if($!==""&&A.getWrapBehavioursEnabled())return o(C,$,"[","]");if(l.isSaneInsertion(A,f))return l.recordAutoInsert(A,f,"]"),{text:"[]",selection:[1,1]}}else if(h=="]"){r(A);var T=A.getCursorPosition(),b=f.doc.getLine(T.row),g=b.substring(T.column,T.column+1);if(g=="]"){var M=f.$findOpeningBracket("]",{column:T.column+1,row:T.row});if(M!==null&&l.isAutoInsertedClosing(T,b,h))return l.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(u,_,A,f,h){var C=f.doc.getTextRange(h);if(!h.isMultiLine()&&C=="["){r(A);var $=f.doc.getLine(h.start.row),T=$.substring(h.start.column+1,h.start.column+2);if(T=="]")return h.end.column++,h}}),this.add("string_dquotes","insertion",function(u,_,A,f,h){var C=f.$mode.$quotes||i;if(h.length==1&&C[h]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(h)!=-1)return;r(A);var $=h,T=A.getSelectionRange(),b=f.doc.getTextRange(T);if(b!==""&&(b.length!=1||!C[b])&&A.getWrapBehavioursEnabled())return o(T,b,$,$);if(!b){var g=A.getCursorPosition(),M=f.doc.getLine(g.row),E=M.substring(g.column-1,g.column),y=M.substring(g.column,g.column+1),x=f.getTokenAt(g.row,g.column),R=f.getTokenAt(g.row,g.column+1);if(E=="\\"&&x&&/escape/.test(x.type))return null;var I=x&&/string|escape/.test(x.type),O=!R||/string|escape/.test(R.type),D;if(y==$)D=I!==O,D&&/string\.end/.test(R.type)&&(D=!1);else{if(I&&!O||I&&O)return null;var F=f.$mode.tokenRe;F.lastIndex=0;var W=F.test(E);F.lastIndex=0;var V=F.test(y),N=f.$mode.$pairQuotesAfter,H=N&&N[$]&&N[$].test(E);if(!H&&W||V||y&&!/[\s;,.})\]\\]/.test(y))return null;var z=M[g.column-2];if(E==$&&(z==$||F.test(z)))return null;D=!0}return{text:D?$+$:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(u,_,A,f,h){var C=f.$mode.$quotes||i,$=f.doc.getTextRange(h);if(!h.isMultiLine()&&C.hasOwnProperty($)){r(A);var T=f.doc.getLine(h.start.row),b=T.substring(h.start.column+1,h.start.column+2);if(b==$)return h.end.column++,h}}),m.closeDocComment!==!1&&this.add("doc comment end","insertion",function(u,_,A,f,h){if(u==="doc-start"&&(h===`
`||h===`\r
`)&&A.selection.isEmpty()){var C=A.getCursorPosition(),$=f.doc.getLine(C.row),T=f.doc.getLine(C.row+1),b=this.$getIndent($);if(/\s*\*/.test(T))return/^\s*\*/.test($)?{text:h+b+"* ",selection:[1,3+b.length,1,3+b.length]}:{text:h+b+" * ",selection:[1,3+b.length,1,3+b.length]};if(/\/\*\*/.test($.substring(0,C.column)))return{text:h+b+" * "+h+" "+b+"*/",selection:[1,4+b.length,1,4+b.length]}}})};l.isSaneInsertion=function(m,u){var _=m.getCursorPosition(),A=new w(u,_.row,_.column);if(!this.$matchTokenType(A.getCurrentToken()||"text",a)){if(/[)}\]]/.test(m.session.getLine(_.row)[_.column]))return!0;var f=new w(u,_.row,_.column+1);if(!this.$matchTokenType(f.getCurrentToken()||"text",a))return!1}return A.stepForward(),A.getCurrentTokenRow()!==_.row||this.$matchTokenType(A.getCurrentToken()||"text",t)},l.$matchTokenType=function(m,u){return u.indexOf(m.type||m)>-1},l.recordAutoInsert=function(m,u,_){var A=m.getCursorPosition(),f=u.doc.getLine(A.row);this.isAutoInsertedClosing(A,f,e.autoInsertedLineEnd[0])||(e.autoInsertedBrackets=0),e.autoInsertedRow=A.row,e.autoInsertedLineEnd=_+f.substr(A.column),e.autoInsertedBrackets++},l.recordMaybeInsert=function(m,u,_){var A=m.getCursorPosition(),f=u.doc.getLine(A.row);this.isMaybeInsertedClosing(A,f)||(e.maybeInsertedBrackets=0),e.maybeInsertedRow=A.row,e.maybeInsertedLineStart=f.substr(0,A.column)+_,e.maybeInsertedLineEnd=f.substr(A.column),e.maybeInsertedBrackets++},l.isAutoInsertedClosing=function(m,u,_){return e.autoInsertedBrackets>0&&m.row===e.autoInsertedRow&&_===e.autoInsertedLineEnd[0]&&u.substr(m.column)===e.autoInsertedLineEnd},l.isMaybeInsertedClosing=function(m,u){return e.maybeInsertedBrackets>0&&m.row===e.maybeInsertedRow&&u.substr(m.column)===e.maybeInsertedLineEnd&&u.substr(0,m.column)==e.maybeInsertedLineStart},l.popAutoInsertedClosing=function(){e.autoInsertedLineEnd=e.autoInsertedLineEnd.substr(1),e.autoInsertedBrackets--},l.clearMaybeInsertedClosing=function(){e&&(e.maybeInsertedBrackets=0,e.maybeInsertedRow=-1)},d.inherits(l,S),p.CstyleBehaviour=l}),ace.define("ace/unicode",["require","exports","module"],function(c,p,k){for(var d=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],S=0,w=[],s=0;s<d.length;s+=2)w.push(S+=d[s]),d[s+1]&&w.push(45,S+=d[s+1]);p.wordChars=String.fromCharCode.apply(null,w)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(c,p,k){var d=c("../config"),S=c("../tokenizer").Tokenizer,w=c("./text_highlight_rules").TextHighlightRules,s=c("./behaviour/cstyle").CstyleBehaviour,a=c("../unicode"),t=c("../lib/lang"),e=c("../token_iterator").TokenIterator,n=c("../range").Range,i=function(){this.HighlightRules=w};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new S(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(r,o,l,m){var u=o.doc,_=!0,A=!0,f=1/0,h=o.getTabSize(),C=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var b=this.lineCommentStart.map(t.escapeRegExp).join("|"),$=this.lineCommentStart[0];else var b=t.escapeRegExp(this.lineCommentStart),$=this.lineCommentStart;b=new RegExp("^(\\s*)(?:"+b+") ?"),C=o.getUseSoftTabs();var E=function(V,N){var H=V.match(b);if(H){var z=H[1].length,U=H[0].length;!R(V,z,U)&&H[0][U-1]==" "&&U--,u.removeInLine(N,z,U)}},x=$+" ",M=function(V,N){(!_||/\S/.test(V))&&(R(V,f,f)?u.insertInLine({row:N,column:f},x):u.insertInLine({row:N,column:f},$))},y=function(V,N){return b.test(V)},R=function(V,N,H){for(var z=0;N--&&V.charAt(N)==" ";)z++;if(z%h!=0)return!1;for(var z=0;V.charAt(H++)==" ";)z++;return h>2?z%h!=h-1:z%h==0}}else{if(!this.blockComment)return!1;var $=this.blockComment.start,T=this.blockComment.end,b=new RegExp("^(\\s*)(?:"+t.escapeRegExp($)+")"),g=new RegExp("(?:"+t.escapeRegExp(T)+")\\s*$"),M=function(D,F){y(D,F)||(!_||/\S/.test(D))&&(u.insertInLine({row:F,column:D.length},T),u.insertInLine({row:F,column:f},$))},E=function(D,F){var W;(W=D.match(g))&&u.removeInLine(F,D.length-W[0].length,D.length),(W=D.match(b))&&u.removeInLine(F,W[1].length,W[0].length)},y=function(D,F){if(b.test(D))return!0;for(var W=o.getTokens(F),V=0;V<W.length;V++)if(W[V].type==="comment")return!0}}function I(D){for(var F=l;F<=m;F++)D(u.getLine(F),F)}var O=1/0;I(function(D,F){var W=D.search(/\S/);W!==-1?(W<f&&(f=W),A&&!y(D,F)&&(A=!1)):O>D.length&&(O=D.length)}),f==1/0&&(f=O,_=!1,A=!1),C&&f%h!=0&&(f=Math.floor(f/h)*h),I(A?E:M)},this.toggleBlockComment=function(r,o,l,m){var u=this.blockComment;if(u){!u.start&&u[0]&&(u=u[0]);var _=new e(o,m.row,m.column),A=_.getCurrentToken();o.selection;var f=o.selection.toOrientedRange(),h,C;if(A&&/comment/.test(A.type)){for(var $,T;A&&/comment/.test(A.type);){var b=A.value.indexOf(u.start);if(b!=-1){var g=_.getCurrentTokenRow(),M=_.getCurrentTokenColumn()+b;$=new n(g,M,g,M+u.start.length);break}A=_.stepBackward()}for(var _=new e(o,m.row,m.column),A=_.getCurrentToken();A&&/comment/.test(A.type);){var b=A.value.indexOf(u.end);if(b!=-1){var g=_.getCurrentTokenRow(),M=_.getCurrentTokenColumn()+b;T=new n(g,M,g,M+u.end.length);break}A=_.stepForward()}T&&o.remove(T),$&&(o.remove($),h=$.start.row,C=-u.start.length)}else C=u.start.length,h=l.start.row,o.insert(l.end,u.end),o.insert(l.start,u.start);f.start.row==h&&(f.start.column+=C),f.end.row==h&&(f.end.column+=C),o.selection.fromOrientedRange(f)}},this.getNextLineIndent=function(r,o,l){return this.$getIndent(o)},this.checkOutdent=function(r,o,l){return!1},this.autoOutdent=function(r,o,l){},this.$getIndent=function(r){return r.match(/^\s*/)[0]},this.createWorker=function(r){return null},this.createModeDelegates=function(r){this.$embeds=[],this.$modes={};for(var o in r)if(r[o]){var l=r[o],m=l.prototype.$id,u=d.$modes[m];u||(d.$modes[m]=u=new l),d.$modes[o]||(d.$modes[o]=u),this.$embeds.push(o),this.$modes[o]=u}for(var _=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],o=0;o<_.length;o++)(function(f){var h=_[o],C=f[h];f[_[o]]=function(){return this.$delegator(h,arguments,C)}})(this)},this.$delegator=function(r,o,l){var m=o[0]||"start";if(typeof m!="string"){if(Array.isArray(m[2])){var u=m[2][m[2].length-1],_=this.$modes[u];if(_)return _[r].apply(_,[m[1]].concat([].slice.call(o,1)))}m=m[0]||"start"}for(var A=0;A<this.$embeds.length;A++)if(this.$modes[this.$embeds[A]]){var f=m.split(this.$embeds[A]);if(!f[0]&&f[1]){o[0]=f[1];var _=this.$modes[this.$embeds[A]];return _[r].apply(_,o)}}var h=l.apply(this,o);return l?h:void 0},this.transformAction=function(r,o,l,m,u){if(this.$behaviour){var _=this.$behaviour.getBehaviours();for(var A in _)if(_[A][o]){var f=_[A][o].apply(this,arguments);if(f)return f}}},this.getKeywords=function(r){if(!this.completionKeywords){var o=this.$tokenizer.rules,l=[];for(var m in o)for(var u=o[m],_=0,A=u.length;_<A;_++)if(typeof u[_].token=="string")/keyword|support|storage/.test(u[_].token)&&l.push(u[_].regex);else if(typeof u[_].token=="object"){for(var f=0,h=u[_].token.length;f<h;f++)if(/keyword|support|storage/.test(u[_].token[f])){var m=u[_].regex.match(/\(.+?\)/g)[f];l.push(m.substr(1,m.length-2))}}this.completionKeywords=l}return r?l.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(r,o,l,m){var u=this.$keywordList||this.$createKeywordList();return u.map(function(_){return{name:_,value:_,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(i.prototype),p.Mode=i}),ace.define("ace/apply_delta",["require","exports","module"],function(c,p,k){p.applyDelta=function(d,S,w){var s=S.start.row,a=S.start.column,t=d[s]||"";switch(S.action){case"insert":var e=S.lines;if(e.length===1)d[s]=t.substring(0,a)+S.lines[0]+t.substring(a);else{var n=[s,1].concat(S.lines);d.splice.apply(d,n),d[s]=t.substring(0,a)+d[s],d[s+S.lines.length-1]+=t.substring(a)}break;case"remove":var i=S.end.column,r=S.end.row;s===r?d[s]=t.substring(0,a)+t.substring(i):d.splice(s,r-s+1,t.substring(0,a)+d[r].substring(i));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(c,p,k){var d=c("./lib/oop"),S=c("./lib/event_emitter").EventEmitter,w=function(){function t(e,n,i){this.$onChange=this.onChange.bind(this),this.attach(e),typeof i>"u"?this.setPosition(n.row,n.column):this.setPosition(n,i)}return t.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},t.prototype.getDocument=function(){return this.document},t.prototype.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row)&&!(e.start.row>this.row)){var n=a(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},t.prototype.setPosition=function(e,n,i){var r;if(i?r={row:e,column:n}:r=this.$clipPositionToDocument(e,n),!(this.row==r.row&&this.column==r.column)){var o={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:o,value:r})}},t.prototype.detach=function(){this.document.off("change",this.$onChange)},t.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},t.prototype.$clipPositionToDocument=function(e,n){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,n))),n<0&&(i.column=0),i},t}();w.prototype.$insertRight=!1,d.implement(w.prototype,S);function s(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}function a(t,e,n){var i=t.action=="insert",r=(i?1:-1)*(t.end.row-t.start.row),o=(i?1:-1)*(t.end.column-t.start.column),l=t.start,m=i?l:t.end;return s(e,l,n)?{row:e.row,column:e.column}:s(m,e,!n)?{row:e.row+r,column:e.column+(e.row==m.row?o:0)}:{row:l.row,column:l.column}}p.Anchor=w}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(c,p,k){var d=c("./lib/oop"),S=c("./apply_delta").applyDelta,w=c("./lib/event_emitter").EventEmitter,s=c("./range").Range,a=c("./anchor").Anchor,t=function(){function e(n){this.$lines=[""],n.length===0?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)}return e.prototype.setValue=function(n){var i=this.getLength()-1;this.remove(new s(0,0,i,this.getLine(i).length)),this.insert({row:0,column:0},n||"")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(n,i){return new a(this,n,i)},e.prototype.$detectNewLine=function(n){var i=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=i?i[1]:`
`,this._signal("changeNewLineMode")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},e.prototype.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(n){return n==`\r
`||n=="\r"||n==`
`},e.prototype.getLine=function(n){return this.$lines[n]||""},e.prototype.getLines=function(n,i){return this.$lines.slice(n,i+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(n){var i;if(n.start.row===n.end.row)i=[this.getLine(n.start.row).substring(n.start.column,n.end.column)];else{i=this.getLines(n.start.row,n.end.row),i[0]=(i[0]||"").substring(n.start.column);var r=i.length-1;n.end.row-n.start.row==r&&(i[r]=i[r].substring(0,n.end.column))}return i},e.prototype.insertLines=function(n,i){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,i)},e.prototype.removeLines=function(n,i){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,i)},e.prototype.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])},e.prototype.insert=function(n,i){return this.getLength()<=1&&this.$detectNewLine(i),this.insertMergedLines(n,this.$split(i))},e.prototype.insertInLine=function(n,i){var r=this.clippedPos(n.row,n.column),o=this.pos(n.row,n.column+i.length);return this.applyDelta({start:r,end:o,action:"insert",lines:[i]},!0),this.clonePos(o)},e.prototype.clippedPos=function(n,i){var r=this.getLength();n===void 0?n=r:n<0?n=0:n>=r&&(n=r-1,i=void 0);var o=this.getLine(n);return i==null&&(i=o.length),i=Math.min(Math.max(i,0),o.length),{row:n,column:i}},e.prototype.clonePos=function(n){return{row:n.row,column:n.column}},e.prototype.pos=function(n,i){return{row:n,column:i}},e.prototype.$clipPosition=function(n){var i=this.getLength();return n.row>=i?(n.row=Math.max(0,i-1),n.column=this.getLine(i-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n},e.prototype.insertFullLines=function(n,i){n=Math.min(Math.max(n,0),this.getLength());var r=0;n<this.getLength()?(i=i.concat([""]),r=0):(i=[""].concat(i),n--,r=this.$lines[n].length),this.insertMergedLines({row:n,column:r},i)},e.prototype.insertMergedLines=function(n,i){var r=this.clippedPos(n.row,n.column),o={row:r.row+i.length-1,column:(i.length==1?r.column:0)+i[i.length-1].length};return this.applyDelta({start:r,end:o,action:"insert",lines:i}),this.clonePos(o)},e.prototype.remove=function(n){var i=this.clippedPos(n.start.row,n.start.column),r=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})}),this.clonePos(i)},e.prototype.removeInLine=function(n,i,r){var o=this.clippedPos(n,i),l=this.clippedPos(n,r);return this.applyDelta({start:o,end:l,action:"remove",lines:this.getLinesForRange({start:o,end:l})},!0),this.clonePos(o)},e.prototype.removeFullLines=function(n,i){n=Math.min(Math.max(0,n),this.getLength()-1),i=Math.min(Math.max(0,i),this.getLength()-1);var r=i==this.getLength()-1&&n>0,o=i<this.getLength()-1,l=r?n-1:n,m=r?this.getLine(l).length:0,u=o?i+1:i,_=o?0:this.getLine(u).length,A=new s(l,m,u,_),f=this.$lines.slice(n,i+1);return this.applyDelta({start:A.start,end:A.end,action:"remove",lines:this.getLinesForRange(A)}),f},e.prototype.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})},e.prototype.replace=function(n,i){if(n instanceof s||(n=s.fromPoints(n.start,n.end)),i.length===0&&n.isEmpty())return n.start;if(i==this.getTextRange(n))return n.end;this.remove(n);var r;return i?r=this.insert(n.start,i):r=n.start,r},e.prototype.applyDeltas=function(n){for(var i=0;i<n.length;i++)this.applyDelta(n[i])},e.prototype.revertDeltas=function(n){for(var i=n.length-1;i>=0;i--)this.revertDelta(n[i])},e.prototype.applyDelta=function(n,i){var r=n.action=="insert";(r?n.lines.length<=1&&!n.lines[0]:!s.comparePoints(n.start,n.end))||(r&&n.lines.length>2e4?this.$splitAndapplyLargeDelta(n,2e4):(S(this.$lines,n,i),this._signal("change",n)))},e.prototype.$safeApplyDelta=function(n){var i=this.$lines.length;(n.action=="remove"&&n.start.row<i&&n.end.row<i||n.action=="insert"&&n.start.row<=i)&&this.applyDelta(n)},e.prototype.$splitAndapplyLargeDelta=function(n,i){for(var r=n.lines,o=r.length-i+1,l=n.start.row,m=n.start.column,u=0,_=0;u<o;u=_){_+=i-1;var A=r.slice(u,_);A.push(""),this.applyDelta({start:this.pos(l+u,m),end:this.pos(l+_,m=0),action:n.action,lines:A},!0)}n.lines=r.slice(u),n.start.row=l+u,n.start.column=m,this.applyDelta(n,!0)},e.prototype.revertDelta=function(n){this.$safeApplyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:n.action=="insert"?"remove":"insert",lines:n.lines.slice()})},e.prototype.indexToPosition=function(n,i){for(var r=this.$lines||this.getAllLines(),o=this.getNewLineCharacter().length,l=i||0,m=r.length;l<m;l++)if(n-=r[l].length+o,n<0)return{row:l,column:n+r[l].length+o};return{row:m-1,column:n+r[m-1].length+o}},e.prototype.positionToIndex=function(n,i){for(var r=this.$lines||this.getAllLines(),o=this.getNewLineCharacter().length,l=0,m=Math.min(n.row,r.length),u=i||0;u<m;++u)l+=r[u].length+o;return l+n.column},e.prototype.$split=function(n){return n.split(/\r\n|\r|\n/)},e}();t.prototype.$autoNewLine="",t.prototype.$newLineMode="auto",d.implement(t.prototype,w),p.Document=t}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(c,p,k){var d=c("./lib/oop"),S=c("./lib/event_emitter").EventEmitter,w=function(){function s(a,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var e=this;this.$worker=function(){if(e.running){for(var n=new Date,i=e.currentLine,r=-1,o=e.doc,l=i;e.lines[i];)i++;var m=o.getLength(),u=0;for(e.running=!1;i<m;){e.$tokenizeRow(i),r=i;do i++;while(e.lines[i]);if(u++,u%5===0&&new Date-n>20){e.running=setTimeout(e.$worker,20);break}}e.currentLine=i,r==-1&&(r=i),l<=r&&e.fireUpdateEvent(l,r)}}}return s.prototype.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(a,t){var e={first:a,last:t};this._signal("update",{data:e})},s.prototype.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(a){var t=a.start.row,e=a.end.row-t;if(e===0)this.lines[t]=null;else if(a.action=="remove")this.lines.splice(t,e+1,null),this.states.splice(t,e+1,null);else{var n=Array(e+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},s.prototype.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},s.prototype.$tokenizeRow=function(a){var t=this.doc.getLine(a),e=this.states[a-1],n=this.tokenizer.getLineTokens(t,e,a);return this.states[a]+""!=n.state+""?(this.states[a]=n.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=n.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();d.implement(w.prototype,S),p.BackgroundTokenizer=w}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(c,p,k){var d=c("./lib/lang"),S=c("./range").Range,w=function(){function s(a,t,e){e===void 0&&(e="text"),this.setRegexp(a),this.clazz=t,this.type=e}return s.prototype.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])},s.prototype.update=function(a,t,e,n){if(this.regExp)for(var i=n.firstRow,r=n.lastRow,o={},l=i;l<=r;l++){var m=this.cache[l];m==null&&(m=d.getMatchOffsets(e.getLine(l),this.regExp),m.length>this.MAX_RANGES&&(m=m.slice(0,this.MAX_RANGES)),m=m.map(function(f){return new S(l,f.offset,l,f.offset+f.length)}),this.cache[l]=m.length?m:"");for(var u=m.length;u--;){var _=m[u].toScreenRange(e),A=_.toString();o[A]||(o[A]=!0,t.drawSingleLineMarker(a,_,this.clazz,n))}}},s}();w.prototype.MAX_RANGES=500,p.SearchHighlight=w}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(c,p,k){var d=c("../range").Range,S=function(){function w(s,a){this.foldData=s,Array.isArray(a)?this.folds=a:a=this.folds=[a];var t=a[a.length-1];this.range=new d(a[0].start.row,a[0].start.column,t.end.row,t.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}return w.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(a){a.start.row+=s,a.end.row+=s})},w.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(a,t){return-a.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},w.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},w.prototype.walk=function(s,a,t){var e=0,n=this.folds,i,r,o,l=!0;a==null&&(a=this.end.row,t=this.end.column);for(var m=0;m<n.length;m++){if(i=n[m],r=i.range.compareStart(a,t),r==-1){s(null,a,t,e,l);return}if(o=s(null,i.start.row,i.start.column,e,l),o=!o&&s(i.placeholder,i.start.row,i.start.column,e),o||r===0)return;l=!i.sameRow,e=i.end.column}s(null,a,t,e,l)},w.prototype.getNextFoldTo=function(s,a){for(var t,e,n=0;n<this.folds.length;n++){if(t=this.folds[n],e=t.range.compareEnd(s,a),e==-1)return{fold:t,kind:"after"};if(e===0)return{fold:t,kind:"inside"}}return null},w.prototype.addRemoveChars=function(s,a,t){var e=this.getNextFoldTo(s,a),n,i;if(e){if(n=e.fold,e.kind=="inside"&&n.start.column!=a&&n.start.row!=s)window.console&&window.console.log(s,a,n);else if(n.start.row==s){i=this.folds;var r=i.indexOf(n);for(r===0&&(this.start.column+=t),r;r<i.length;r++){if(n=i[r],n.start.column+=t,!n.sameRow)return;n.end.column+=t}this.end.column+=t}}},w.prototype.split=function(s,a){var t=this.getNextFoldTo(s,a);if(!t||t.kind=="inside")return null;var e=t.fold,n=this.folds,i=this.foldData,r=n.indexOf(e),o=n[r-1];this.end.row=o.end.row,this.end.column=o.end.column,n=n.splice(r,n.length-r);var l=new w(i,n);return i.splice(i.indexOf(this)+1,0,l),l},w.prototype.merge=function(s){for(var a=s.folds,t=0;t<a.length;t++)this.addFold(a[t]);var e=this.foldData;e.splice(e.indexOf(s),1)},w.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(a){s.push("  "+a.toString())}),s.push("]"),s.join(`
`)},w.prototype.idxToPosition=function(s){for(var a=0,t=0;t<this.folds.length;t++){var e=this.folds[t];if(s-=e.start.column-a,s<0)return{row:e.start.row,column:e.start.column+s};if(s-=e.placeholder.length,s<0)return e.start;a=e.end.column}return{row:this.end.row,column:this.end.column+s}},w}();p.FoldLine=S}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(c,p,k){var d=c("./range").Range,S=d.comparePoints,w=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(a,t,e){for(var n=this.ranges,i=e||0;i<n.length;i++){var r=n[i],o=S(a,r.end);if(!(o>0)){var l=S(a,r.start);return o===0?t&&l!==0?-i-2:i:l>0||l===0&&!t?i:-i-1}}return-i-1},s.prototype.add=function(a){var t=!a.isEmpty(),e=this.pointIndex(a.start,t);e<0&&(e=-e-1);var n=this.pointIndex(a.end,t,e);return n<0?n=-n-1:n++,this.ranges.splice(e,n-e,a)},s.prototype.addList=function(a){for(var t=[],e=a.length;e--;)t.push.apply(t,this.add(a[e]));return t},s.prototype.substractPoint=function(a){var t=this.pointIndex(a);if(t>=0)return this.ranges.splice(t,1)},s.prototype.merge=function(){var a=[],t=this.ranges;t=t.sort(function(o,l){return S(o.start,l.start)});for(var e=t[0],n,i=1;i<t.length;i++){n=e,e=t[i];var r=S(n.end,e.start);r<0||r==0&&!n.isEmpty()&&!e.isEmpty()||(S(n.end,e.end)<0&&(n.end.row=e.end.row,n.end.column=e.end.column),t.splice(i,1),a.push(e),e=n,i--)}return this.ranges=t,a},s.prototype.contains=function(a,t){return this.pointIndex({row:a,column:t})>=0},s.prototype.containsPoint=function(a){return this.pointIndex(a)>=0},s.prototype.rangeAtPoint=function(a){var t=this.pointIndex(a);if(t>=0)return this.ranges[t]},s.prototype.clipRows=function(a,t){var e=this.ranges;if(e[0].start.row>t||e[e.length-1].start.row<a)return[];var n=this.pointIndex({row:a,column:0});n<0&&(n=-n-1);var i=this.pointIndex({row:t,column:0},n);i<0&&(i=-i-1);for(var r=[],o=n;o<i;o++)r.push(e[o]);return r},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(a){for(var t=a.start,e=a.end,n=t.row,i=e.row,r=this.ranges,o=0,l=r.length;o<l;o++){var m=r[o];if(m.end.row>=n)break}if(a.action=="insert")for(var u=i-n,_=-t.column+e.column;o<l;o++){var m=r[o];if(m.start.row>n)break;if(m.start.row==n&&m.start.column>=t.column&&(m.start.column==t.column&&this.$bias<=0||(m.start.column+=_,m.start.row+=u)),m.end.row==n&&m.end.column>=t.column){if(m.end.column==t.column&&this.$bias<0)continue;m.end.column==t.column&&_>0&&o<l-1&&m.end.column>m.start.column&&m.end.column==r[o+1].start.column&&(m.end.column-=_),m.end.column+=_,m.end.row+=u}}else for(var u=n-i,_=t.column-e.column;o<l;o++){var m=r[o];if(m.start.row>i)break;m.end.row<i&&(n<m.end.row||n==m.end.row&&t.column<m.end.column)?(m.end.row=n,m.end.column=t.column):m.end.row==i?m.end.column<=e.column?(u||m.end.column>t.column)&&(m.end.column=t.column,m.end.row=t.row):(m.end.column+=_,m.end.row+=u):m.end.row>i&&(m.end.row+=u),m.start.row<i&&(n<m.start.row||n==m.start.row&&t.column<m.start.column)?(m.start.row=n,m.start.column=t.column):m.start.row==i?m.start.column<=e.column?(u||m.start.column>t.column)&&(m.start.column=t.column,m.start.row=t.row):(m.start.column+=_,m.start.row+=u):m.start.row>i&&(m.start.row+=u)}if(u!=0&&o<l)for(;o<l;o++){var m=r[o];m.start.row+=u,m.end.row+=u}},s}();w.prototype.comparePoints=S,p.RangeList=w}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(c,p,k){var d=this&&this.__extends||function(){var n=function(i,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])},n(i,r)};return function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(i,r);function o(){this.constructor=i}i.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),S=c("../range_list").RangeList,w=function(n){d(i,n);function i(r,o){var l=n.call(this)||this;return l.foldLine=null,l.placeholder=o,l.range=r,l.start=r.start,l.end=r.end,l.sameRow=r.start.row==r.end.row,l.subFolds=l.ranges=[],l}return i.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},i.prototype.setFoldLine=function(r){this.foldLine=r,this.subFolds.forEach(function(o){o.setFoldLine(r)})},i.prototype.clone=function(){var r=this.range.clone(),o=new i(r,this.placeholder);return this.subFolds.forEach(function(l){o.subFolds.push(l.clone())}),o.collapseChildren=this.collapseChildren,o},i.prototype.addSubFold=function(r){if(!this.range.isEqual(r)){a(r,this.start);for(var _=r.start.row,A=r.start.column,o=0,l=-1;o<this.subFolds.length&&(l=this.subFolds[o].range.compare(_,A),l==1);o++);var m=this.subFolds[o],u=0;if(l==0){if(m.range.containsRange(r))return m.addSubFold(r);u=1}for(var _=r.range.end.row,A=r.range.end.column,f=o,l=-1;f<this.subFolds.length&&(l=this.subFolds[f].range.compare(_,A),l==1);f++);l==0&&f++;for(var h=this.subFolds.splice(o,f-o,r),C=l==0?h.length-1:h.length,$=u;$<C;$++)r.addSubFold(h[$]);return r.setFoldLine(this.foldLine),r}},i.prototype.restoreRange=function(r){return e(r,this.start)},i}(S);function s(n,i){n.row-=i.row,n.row==0&&(n.column-=i.column)}function a(n,i){s(n.start,i),s(n.end,i)}function t(n,i){n.row==0&&(n.column+=i.column),n.row+=i.row}function e(n,i){t(n.start,i),t(n.end,i)}p.Fold=w}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(c,p,k){var d=c("../range").Range,S=c("./fold_line").FoldLine,w=c("./fold").Fold,s=c("../token_iterator").TokenIterator,a=c("../mouse/mouse_event").MouseEvent;function t(){this.getFoldAt=function(e,n,i){var r=this.getFoldLine(e);if(!r)return null;for(var o=r.folds,l=0;l<o.length;l++){var m=o[l].range;if(m.contains(e,n)){if(i==1&&m.isEnd(e,n)&&!m.isEmpty())continue;if(i==-1&&m.isStart(e,n)&&!m.isEmpty())continue;return o[l]}}},this.getFoldsInRange=function(e){var n=e.start,i=e.end,r=this.$foldData,o=[];n.column+=1,i.column-=1;for(var l=0;l<r.length;l++){var m=r[l].range.compareRange(e);if(m!=2){if(m==-2)break;for(var u=r[l].folds,_=0;_<u.length;_++){var A=u[_];if(m=A.range.compareRange(e),m==-2)break;if(m==2)continue;if(m==42)break;o.push(A)}}}return n.column-=1,i.column+=1,o},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){n=n.concat(this.getFoldsInRange(i))},this)}else var n=this.getFoldsInRange(e);return n},this.getAllFolds=function(){for(var e=[],n=this.$foldData,i=0;i<n.length;i++)for(var r=0;r<n[i].folds.length;r++)e.push(n[i].folds[r]);return e},this.getFoldStringAt=function(e,n,i,r){if(r=r||this.getFoldLine(e),!r)return null;for(var o={end:{column:0}},l,m,u=0;u<r.folds.length;u++){m=r.folds[u];var _=m.range.compareEnd(e,n);if(_==-1){l=this.getLine(m.start.row).substring(o.end.column,m.start.column);break}else if(_===0)return null;o=m}return l||(l=this.getLine(m.start.row).substring(o.end.column)),i==-1?l.substring(0,n-o.end.column):i==1?l.substring(n-o.end.column):l},this.getFoldLine=function(e,n){var i=this.$foldData,r=0;for(n&&(r=i.indexOf(n)),r==-1&&(r=0),r;r<i.length;r++){var o=i[r];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,n){var i=this.$foldData,r=0;for(n&&(r=i.indexOf(n)),r==-1&&(r=0),r;r<i.length;r++){var o=i[r];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,n){for(var i=this.$foldData,r=n-e+1,o=0;o<i.length;o++){var l=i[o],m=l.end.row,u=l.start.row;if(m>=n){u<n&&(u>=e?r-=n-u:r=0);break}else m>=e&&(u>=e?r-=m-u:r-=m-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(n,i){return n.start.row-i.start.row}),e},this.addFold=function(e,n){var i=this.$foldData,r=!1,o;e instanceof w?o=e:(o=new w(n,e),o.collapseChildren=n.collapseChildren),this.$clipRangeToDocument(o.range);var l=o.start.row,m=o.start.column,u=o.end.row,_=o.end.column,A=this.getFoldAt(l,m,1),f=this.getFoldAt(u,_,-1);if(A&&f==A)return A.addSubFold(o);A&&!A.range.isStart(l,m)&&this.removeFold(A),f&&!f.range.isEnd(u,_)&&this.removeFold(f);var h=this.getFoldsInRange(o.range);h.length>0&&(this.removeFolds(h),o.collapseChildren||h.forEach(function(b){o.addSubFold(b)}));for(var C=0;C<i.length;C++){var $=i[C];if(u==$.start.row){$.addFold(o),r=!0;break}else if(l==$.end.row){if($.addFold(o),r=!0,!o.sameRow){var T=i[C+1];if(T&&T.start.row==u){$.merge(T);break}}break}else if(u<=$.start.row)break}return r||($=this.$addFoldLine(new S(this.$foldData,o))),this.$useWrapMode?this.$updateWrapData($.start.row,$.start.row):this.$updateRowLengthCache($.start.row,$.start.row),this.$modified=!0,this._signal("changeFold",{data:o,action:"add"}),o},this.addFolds=function(e){e.forEach(function(n){this.addFold(n)},this)},this.removeFold=function(e){var n=e.foldLine,i=n.start.row,r=n.end.row,o=this.$foldData,l=n.folds;if(l.length==1)o.splice(o.indexOf(n),1);else if(n.range.isEnd(e.end.row,e.end.column))l.pop(),n.end.row=l[l.length-1].end.row,n.end.column=l[l.length-1].end.column;else if(n.range.isStart(e.start.row,e.start.column))l.shift(),n.start.row=l[0].start.row,n.start.column=l[0].start.column;else if(e.sameRow)l.splice(l.indexOf(e),1);else{var m=n.split(e.start.row,e.start.column);l=m.folds,l.shift(),m.start.row=l[0].start.row,m.start.column=l[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,r):this.$updateRowLengthCache(i,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var n=[],i=0;i<e.length;i++)n.push(e[i]);n.forEach(function(r){this.removeFold(r)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(n){e.restoreRange(n),this.addFold(n)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(n){this.expandFold(n)},this)},this.unfold=function(e,n){var i,r;if(e==null)i=new d(0,0,this.getLength(),0),n==null&&(n=!0);else if(typeof e=="number")i=new d(e,0,e,this.getLine(e).length);else if("row"in e)i=d.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach(function(l){r=r.concat(this.unfold(l))},this),r;i=e}r=this.getFoldsInRangeList(i);for(var o=r;r.length==1&&d.comparePoints(r[0].start,i.start)<0&&d.comparePoints(r[0].end,i.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(i);if(n!=!1?this.removeFolds(r):this.expandFolds(r),o.length)return o},this.isRowFolded=function(e,n){return!!this.getFoldLine(e,n)},this.getRowFoldEnd=function(e,n){var i=this.getFoldLine(e,n);return i?i.end.row:e},this.getRowFoldStart=function(e,n){var i=this.getFoldLine(e,n);return i?i.start.row:e},this.getFoldDisplayLine=function(e,n,i,r,o){r==null&&(r=e.start.row),o==null&&(o=0),n==null&&(n=e.end.row),i==null&&(i=this.getLine(n).length);var l=this.doc,m="";return e.walk(function(u,_,A,f){if(!(_<r)){if(_==r){if(A<o)return;f=Math.max(o,f)}u!=null?m+=u:m+=l.getLine(_).substring(f,A)}},n,i),m},this.getDisplayLine=function(e,n,i,r){var o=this.getFoldLine(e);if(o)return this.getFoldDisplayLine(o,e,n,i,r);var l;return l=this.doc.getLine(e),l.substring(r||0,n||l.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(n){var i=n.folds.map(function(r){return r.clone()});return new S(e,i)}),e},this.toggleFold=function(e){var n=this.selection,i=n.getRange(),r,o;if(i.isEmpty()){var l=i.start;if(r=this.getFoldAt(l.row,l.column),r){this.expandFold(r);return}else(o=this.findMatchingBracket(l))?i.comparePoint(o)==1?i.end=o:(i.start=o,i.start.column++,i.end.column--):(o=this.findMatchingBracket({row:l.row,column:l.column+1}))?(i.comparePoint(o)==1?i.end=o:i.start=o,i.start.column++):i=this.getCommentFoldRange(l.row,l.column)||i}else{var m=this.getFoldsInRange(i);if(e&&m.length){this.expandFolds(m);return}else m.length==1&&(r=m[0])}if(r||(r=this.getFoldAt(i.start.row,i.start.column)),r&&r.range.toString()==i.toString()){this.expandFold(r);return}var u="...";if(!i.isMultiLine()){if(u=this.getTextRange(i),u.length<4)return;u=u.trim().substring(0,2)+".."}this.addFold(u,i)},this.getCommentFoldRange=function(e,n,i){var r=new s(this,e,n),o=r.getCurrentToken(),l=o&&o.type;if(o&&/^comment|string/.test(l)){l=l.match(/comment|string/)[0],l=="comment"&&(l+="|doc-start");var m=new RegExp(l),u=new d;if(i!=1){do o=r.stepBackward();while(o&&m.test(o.type)&&!/^comment.end/.test(o.type));o=r.stepForward()}if(u.start.row=r.getCurrentTokenRow(),u.start.column=r.getCurrentTokenColumn()+(/^comment.start/.test(o.type)?o.value.length:2),r=new s(this,e,n),i!=-1){var _=-1;do if(o=r.stepForward(),_==-1){var A=this.getState(r.$row);m.test(A)||(_=r.$row)}else if(r.$row>_)break;while(o&&m.test(o.type)&&!/^comment.start/.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return u.end.row=r.getCurrentTokenRow(),u.end.column=r.getCurrentTokenColumn(),/^comment.end/.test(o.type)||(u.end.column+=o.value.length-2),u}},this.foldAll=function(e,n,i,r){i==null&&(i=1e5);var o=this.foldWidgets;if(o){n=n||this.getLength(),e=e||0;for(var l=e;l<n;l++)if(o[l]==null&&(o[l]=this.getFoldWidget(l)),o[l]=="start"&&!(r&&!r(l))){var m=this.getFoldWidgetRange(l);m&&m.isMultiLine()&&m.end.row<=n&&m.start.row>=e&&(l=m.end.row,m.collapseChildren=i,this.addFold("...",m))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,function(n){for(var i=e.getTokens(n),r=0;r<i.length;r++){var o=i[r];if(!(o.type=="text"&&/^\s+$/.test(o.value)))return!!/comment/.test(o.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,e=="manual"&&this.unfold();var n=this.$foldMode;this.$setFolding(null),this.$setFolding(n)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,n){var i=this.foldWidgets;if(!i||n&&i[e])return{};for(var r=e-1,o;r>=0;){var l=i[r];if(l==null&&(l=i[r]=this.getFoldWidget(r)),l=="start"){var m=this.getFoldWidgetRange(r);if(o||(o=m),m&&m.end.row>=e)break}r--}return{range:r!==-1&&m,firstRange:o}},this.onFoldWidgetClick=function(e,n){n instanceof a&&(n=n.domEvent);var i={children:n.shiftKey,all:n.ctrlKey||n.metaKey,siblings:n.altKey},r=this.$toggleFoldWidget(e,i);if(!r){var o=n.target||n.srcElement;o&&/ace_fold-widget/.test(o.className)&&(o.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,n){if(this.getFoldWidget){var i=this.getFoldWidget(e),r=this.getLine(e),o=i==="end"?-1:1,l=this.getFoldAt(e,o===-1?0:r.length,o);if(l)return n.children||n.all?this.removeFold(l):this.expandFold(l),l;var m=this.getFoldWidgetRange(e,!0);if(m&&!m.isMultiLine()&&(l=this.getFoldAt(m.start.row,m.start.column,1),l&&m.isEqual(l.range)))return this.removeFold(l),l;if(n.siblings){var u=this.getParentFoldRangeData(e);if(u.range)var _=u.range.start.row+1,A=u.range.end.row;this.foldAll(_,A,n.all?1e4:0)}else n.children?(A=m?m.end.row:this.getLength(),this.foldAll(e+1,A,n.all?1e4:0)):m&&(n.all&&(m.collapseChildren=1e4),this.addFold("...",m));return m}},this.toggleFoldWidget=function(e){var n=this.selection.getCursor().row;n=this.getRowFoldStart(n);var i=this.$toggleFoldWidget(n,{});if(!i){var r=this.getParentFoldRangeData(n,!0);if(i=r.range||r.firstRange,i){n=i.start.row;var o=this.getFoldAt(n,this.getLine(n).length,1);o?this.removeFold(o):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var n=e.start.row,i=e.end.row-n;if(i===0)this.foldWidgets[n]=null;else if(e.action=="remove")this.foldWidgets.splice(n,i+1,null);else{var r=Array(i+1);r.unshift(n,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var n=e.data;n.first!=n.last&&this.foldWidgets.length>n.first&&this.foldWidgets.splice(n.first,this.foldWidgets.length)}}p.Folding=t}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(c,p,k){var d=c("../token_iterator").TokenIterator,S=c("../range").Range;function w(){this.findMatchingBracket=function(s,a){if(s.column==0)return null;var t=a||this.getLine(s.row).charAt(s.column-1);if(t=="")return null;var e=t.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],s):this.$findOpeningBracket(e[2],s):null},this.getBracketRange=function(s){var a=this.getLine(s.row),t=!0,e,n=a.charAt(s.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=a.charAt(s.column),s={row:s.row,column:s.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/),t=!1),!i)return null;if(i[1]){var r=this.$findClosingBracket(i[1],s);if(!r)return null;e=S.fromPoints(s,r),t||(e.end.column++,e.start.column--),e.cursor=e.end}else{var r=this.$findOpeningBracket(i[2],s);if(!r)return null;e=S.fromPoints(r,s),t||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.getMatchingBracketRanges=function(s,a){var t=this.getLine(s.row),e=/([\(\[\{])|([\)\]\}])/,n=!a&&t.charAt(s.column-1),i=n&&n.match(e);if(i||(n=(a===void 0||a)&&t.charAt(s.column),s={row:s.row,column:s.column+1},i=n&&n.match(e)),!i)return null;var r=new S(s.row,s.column-1,s.row,s.column),o=i[1]?this.$findClosingBracket(i[1],s):this.$findOpeningBracket(i[2],s);if(!o)return[r];var l=new S(o.row,o.column,o.row,o.column+1);return[r,l]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,a,t){var e=this.$brackets[s],n=1,i=new d(this,a.row,a.column),r=i.getCurrentToken();if(r||(r=i.stepForward()),!!r){t||(t=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var o=a.column-i.getCurrentTokenColumn()-2,l=r.value;;){for(;o>=0;){var m=l.charAt(o);if(m==e){if(n-=1,n==0)return{row:i.getCurrentTokenRow(),column:o+i.getCurrentTokenColumn()}}else m==s&&(n+=1);o-=1}do r=i.stepBackward();while(r&&!t.test(r.type));if(r==null)break;l=r.value,o=l.length-1}return null}},this.$findClosingBracket=function(s,a,t){var e=this.$brackets[s],n=1,i=new d(this,a.row,a.column),r=i.getCurrentToken();if(r||(r=i.stepForward()),!!r){t||(t=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var o=a.column-i.getCurrentTokenColumn();;){for(var l=r.value,m=l.length;o<m;){var u=l.charAt(o);if(u==e){if(n-=1,n==0)return{row:i.getCurrentTokenRow(),column:o+i.getCurrentTokenColumn()}}else u==s&&(n+=1);o+=1}do r=i.stepForward();while(r&&!t.test(r.type));if(r==null)break;o=0}return null}},this.getMatchingTags=function(s){var a=new d(this,s.row,s.column),t=this.$findTagName(a);if(t){var e=a.stepBackward();return e.value==="<"?this.$findClosingTag(a,t):this.$findOpeningTag(a,t)}},this.$findTagName=function(s){var a=s.getCurrentToken(),t=!1,e=!1;if(a&&a.type.indexOf("tag-name")===-1)do e?a=s.stepBackward():a=s.stepForward(),a&&(a.value==="/>"?e=!0:a.type.indexOf("tag-name")!==-1&&(t=!0));while(a&&!t);return a},this.$findClosingTag=function(s,a){var t,e=a.value,n=a.value,i=0,r=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=s.stepForward();var o=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+a.value.length),l=!1;do if(t=a,a=s.stepForward(),a){if(a.value===">"&&!l){var m=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);l=!0}if(a.type.indexOf("tag-name")!==-1){if(e=a.value,n===e){if(t.value==="<")i++;else if(t.value==="</"&&(i--,i<0)){s.stepBackward();var u=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);a=s.stepForward();var _=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+a.value.length);if(a=s.stepForward(),a&&a.value===">")var A=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(n===e&&a.value==="/>"&&(i--,i<0))var u=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),_=u,A=_,m=new S(o.end.row,o.end.column,o.end.row,o.end.column+1)}while(a&&i>=0);if(r&&m&&u&&A&&o&&_)return{openTag:new S(r.start.row,r.start.column,m.end.row,m.end.column),closeTag:new S(u.start.row,u.start.column,A.end.row,A.end.column),openTagName:o,closeTagName:_}},this.$findOpeningTag=function(s,a){var t=s.getCurrentToken(),e=a.value,n=0,i=s.getCurrentTokenRow(),r=s.getCurrentTokenColumn(),o=r+2,l=new S(i,r,i,o);s.stepForward();var m=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+a.value.length);if(a=s.stepForward(),!(!a||a.value!==">")){var u=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(a=t,i=s.getCurrentTokenRow(),r=s.getCurrentTokenColumn(),o=r+a.value.length,t=s.stepBackward(),a){if(a.type.indexOf("tag-name")!==-1){if(e===a.value)if(t.value==="<"){if(n++,n>0){var _=new S(i,r,i,o),A=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do a=s.stepForward();while(a&&a.value!==">");var f=new S(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else t.value==="</"&&n--}else if(a.value==="/>"){for(var h=0,C=t;C;){if(C.type.indexOf("tag-name")!==-1&&C.value===e){n--;break}else if(C.value==="<")break;C=s.stepBackward(),h++}for(var $=0;$<h;$++)s.stepForward()}}while(t&&n<=0);if(A&&f&&l&&u&&_&&m)return{openTag:new S(A.start.row,A.start.column,f.end.row,f.end.column),closeTag:new S(l.start.row,l.start.column,u.end.row,u.end.column),openTagName:_,closeTagName:m}}}}p.BracketMatch=w}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(c,p,k){var d=c("./lib/oop"),S=c("./lib/lang"),w=c("./bidihandler").BidiHandler,s=c("./config"),a=c("./lib/event_emitter").EventEmitter,t=c("./selection").Selection,e=c("./mode/text").Mode,n=c("./range").Range,i=c("./document").Document,r=c("./background_tokenizer").BackgroundTokenizer,o=c("./search_highlight").SearchHighlight,l=function(){function b(g,M){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++b.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new r(new e().getTokenizer(),this);var E=this;this.bgTokenizer.on("update",function(y){E._signal("tokenizerUpdate",y)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof g!="object"||!g.getLine)&&(g=new i(g)),this.setDocument(g),this.selection=new t(this),this.$bidiHandler=new w(this),s.resetOptions(this),this.setMode(M),s._signal("session",this),this.destroyed=!1}return b.prototype.setDocument=function(g){this.doc&&this.doc.off("change",this.$onChange),this.doc=g,g.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},b.prototype.getDocument=function(){return this.doc},b.prototype.$resetRowCache=function(g){if(!g){this.$docRowCache=[],this.$screenRowCache=[];return}var M=this.$docRowCache.length,E=this.$getRowCacheIndex(this.$docRowCache,g)+1;M>E&&(this.$docRowCache.splice(E,M),this.$screenRowCache.splice(E,M))},b.prototype.$getRowCacheIndex=function(g,M){for(var E=0,y=g.length-1;E<=y;){var x=E+y>>1,R=g[x];if(M>R)E=x+1;else if(M<R)y=x-1;else return x}return E-1},b.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},b.prototype.onChangeFold=function(g){var M=g.data;this.$resetRowCache(M.start.row)},b.prototype.onChange=function(g){this.$modified=!0,this.$bidiHandler.onChange(g),this.$resetRowCache(g.start.row);var M=this.$updateInternalDataOnChange(g);!this.$fromUndo&&this.$undoManager&&(M&&M.length&&(this.$undoManager.add({action:"removeFolds",folds:M},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(g,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(g),this._signal("change",g)},b.prototype.setValue=function(g){this.doc.setValue(g),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},b.prototype.toString=function(){return this.doc.getValue()},b.prototype.getSelection=function(){return this.selection},b.prototype.getState=function(g){return this.bgTokenizer.getState(g)},b.prototype.getTokens=function(g){return this.bgTokenizer.getTokens(g)},b.prototype.getTokenAt=function(g,M){var E=this.bgTokenizer.getTokens(g),y,x=0;if(M==null){var R=E.length-1;x=this.getLine(g).length}else for(var R=0;R<E.length&&(x+=E[R].value.length,!(x>=M));R++);return y=E[R],y?(y.index=R,y.start=x-y.value.length,y):null},b.prototype.setUndoManager=function(g){if(this.$undoManager=g,this.$informUndoManager&&this.$informUndoManager.cancel(),g){var M=this;g.addSession(this),this.$syncInformUndoManager=function(){M.$informUndoManager.cancel(),M.mergeUndoDeltas=!1},this.$informUndoManager=S.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},b.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},b.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},b.prototype.getTabString=function(){return this.getUseSoftTabs()?S.stringRepeat(" ",this.getTabSize()):"	"},b.prototype.setUseSoftTabs=function(g){this.setOption("useSoftTabs",g)},b.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},b.prototype.setTabSize=function(g){this.setOption("tabSize",g)},b.prototype.getTabSize=function(){return this.$tabSize},b.prototype.isTabStop=function(g){return this.$useSoftTabs&&g.column%this.$tabSize===0},b.prototype.setNavigateWithinSoftTabs=function(g){this.setOption("navigateWithinSoftTabs",g)},b.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},b.prototype.setOverwrite=function(g){this.setOption("overwrite",g)},b.prototype.getOverwrite=function(){return this.$overwrite},b.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},b.prototype.addGutterDecoration=function(g,M){this.$decorations[g]||(this.$decorations[g]=""),this.$decorations[g]+=" "+M,this._signal("changeBreakpoint",{})},b.prototype.removeGutterDecoration=function(g,M){this.$decorations[g]=(this.$decorations[g]||"").replace(" "+M,""),this._signal("changeBreakpoint",{})},b.prototype.getBreakpoints=function(){return this.$breakpoints},b.prototype.setBreakpoints=function(g){this.$breakpoints=[];for(var M=0;M<g.length;M++)this.$breakpoints[g[M]]="ace_breakpoint";this._signal("changeBreakpoint",{})},b.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},b.prototype.setBreakpoint=function(g,M){M===void 0&&(M="ace_breakpoint"),M?this.$breakpoints[g]=M:delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},b.prototype.clearBreakpoint=function(g){delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},b.prototype.addMarker=function(g,M,E,y){var x=this.$markerId++,R={range:g,type:E||"line",renderer:typeof E=="function"?E:null,clazz:M,inFront:!!y,id:x};return y?(this.$frontMarkers[x]=R,this._signal("changeFrontMarker")):(this.$backMarkers[x]=R,this._signal("changeBackMarker")),x},b.prototype.addDynamicMarker=function(g,M){if(g.update){var E=this.$markerId++;return g.id=E,g.inFront=!!M,M?(this.$frontMarkers[E]=g,this._signal("changeFrontMarker")):(this.$backMarkers[E]=g,this._signal("changeBackMarker")),g}},b.prototype.removeMarker=function(g){var M=this.$frontMarkers[g]||this.$backMarkers[g];if(M){var E=M.inFront?this.$frontMarkers:this.$backMarkers;delete E[g],this._signal(M.inFront?"changeFrontMarker":"changeBackMarker")}},b.prototype.getMarkers=function(g){return g?this.$frontMarkers:this.$backMarkers},b.prototype.highlight=function(g){if(!this.$searchHighlight){var M=new o(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(M)}this.$searchHighlight.setRegexp(g)},b.prototype.highlightLines=function(g,M,E,y){typeof M!="number"&&(E=M,M=g),E||(E="ace_step");var x=new n(g,0,M,1/0);return x.id=this.addMarker(x,E,"fullLine",y),x},b.prototype.setAnnotations=function(g){this.$annotations=g,this._signal("changeAnnotation",{})},b.prototype.getAnnotations=function(){return this.$annotations||[]},b.prototype.clearAnnotations=function(){this.setAnnotations([])},b.prototype.$detectNewLine=function(g){var M=g.match(/^.*?(\r?\n)/m);M?this.$autoNewLine=M[1]:this.$autoNewLine=`
`},b.prototype.getWordRange=function(g,M){var E=this.getLine(g),y=!1;if(M>0&&(y=!!E.charAt(M-1).match(this.tokenRe)),y||(y=!!E.charAt(M).match(this.tokenRe)),y)var x=this.tokenRe;else if(/^\s+$/.test(E.slice(M-1,M+1)))var x=/\s/;else var x=this.nonTokenRe;var R=M;if(R>0){do R--;while(R>=0&&E.charAt(R).match(x));R++}for(var I=M;I<E.length&&E.charAt(I).match(x);)I++;return new n(g,R,g,I)},b.prototype.getAWordRange=function(g,M){for(var E=this.getWordRange(g,M),y=this.getLine(E.end.row);y.charAt(E.end.column).match(/[ \t]/);)E.end.column+=1;return E},b.prototype.setNewLineMode=function(g){this.doc.setNewLineMode(g)},b.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},b.prototype.setUseWorker=function(g){this.setOption("useWorker",g)},b.prototype.getUseWorker=function(){return this.$useWorker},b.prototype.onReloadTokenizer=function(g){var M=g.data;this.bgTokenizer.start(M.first),this._signal("tokenizerUpdate",g)},b.prototype.setMode=function(g,M){if(g&&typeof g=="object"){if(g.getTokenizer)return this.$onChangeMode(g);var E=g,y=E.path}else y=g||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new e),this.$modes[y]&&!E){this.$onChangeMode(this.$modes[y]),M&&M();return}this.$modeId=y,s.loadModule(["mode",y],function(x){if(this.$modeId!==y)return M&&M();this.$modes[y]&&!E?this.$onChangeMode(this.$modes[y]):x&&x.Mode&&(x=new x.Mode(E),E||(this.$modes[y]=x,x.$id=y),this.$onChangeMode(x)),M&&M()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},b.prototype.$onChangeMode=function(g,M){if(M||(this.$modeId=g.$id),this.$mode!==g){var E=this.$mode;this.$mode=g,this.$stopWorker(),this.$useWorker&&this.$startWorker();var y=g.getTokenizer();if(y.on!==void 0){var x=this.onReloadTokenizer.bind(this);y.on("update",x)}this.bgTokenizer.setTokenizer(y),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=g.tokenRe,this.nonTokenRe=g.nonTokenRe,M||(g.attachToSession&&g.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(g.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:E,mode:g}))}},b.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},b.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(g){s.warn("Could not load worker",g),this.$worker=null}},b.prototype.getMode=function(){return this.$mode},b.prototype.setScrollTop=function(g){this.$scrollTop===g||isNaN(g)||(this.$scrollTop=g,this._signal("changeScrollTop",g))},b.prototype.getScrollTop=function(){return this.$scrollTop},b.prototype.setScrollLeft=function(g){this.$scrollLeft===g||isNaN(g)||(this.$scrollLeft=g,this._signal("changeScrollLeft",g))},b.prototype.getScrollLeft=function(){return this.$scrollLeft},b.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},b.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var g=0;return this.lineWidgets.forEach(function(M){M&&M.screenWidth>g&&(g=M.screenWidth)}),this.lineWidgetWidth=g},b.prototype.$computeWidth=function(g){if(this.$modified||g){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var M=this.doc.getAllLines(),E=this.$rowLengthCache,y=0,x=0,R=this.$foldData[x],I=R?R.start.row:1/0,O=M.length,D=0;D<O;D++){if(D>I){if(D=R.end.row+1,D>=O)break;R=this.$foldData[x++],I=R?R.start.row:1/0}E[D]==null&&(E[D]=this.$getStringScreenWidth(M[D])[0]),E[D]>y&&(y=E[D])}this.screenWidth=y}},b.prototype.getLine=function(g){return this.doc.getLine(g)},b.prototype.getLines=function(g,M){return this.doc.getLines(g,M)},b.prototype.getLength=function(){return this.doc.getLength()},b.prototype.getTextRange=function(g){return this.doc.getTextRange(g||this.selection.getRange())},b.prototype.insert=function(g,M){return this.doc.insert(g,M)},b.prototype.remove=function(g){return this.doc.remove(g)},b.prototype.removeFullLines=function(g,M){return this.doc.removeFullLines(g,M)},b.prototype.undoChanges=function(g,M){if(g.length){this.$fromUndo=!0;for(var E=g.length-1;E!=-1;E--){var y=g[E];y.action=="insert"||y.action=="remove"?this.doc.revertDelta(y):y.folds&&this.addFolds(y.folds)}!M&&this.$undoSelect&&(g.selectionBefore?this.selection.fromJSON(g.selectionBefore):this.selection.setRange(this.$getUndoSelection(g,!0))),this.$fromUndo=!1}},b.prototype.redoChanges=function(g,M){if(g.length){this.$fromUndo=!0;for(var E=0;E<g.length;E++){var y=g[E];(y.action=="insert"||y.action=="remove")&&this.doc.$safeApplyDelta(y)}!M&&this.$undoSelect&&(g.selectionAfter?this.selection.fromJSON(g.selectionAfter):this.selection.setRange(this.$getUndoSelection(g,!1))),this.$fromUndo=!1}},b.prototype.setUndoSelect=function(g){this.$undoSelect=g},b.prototype.$getUndoSelection=function(g,M){function E(O){return M?O.action!=="insert":O.action==="insert"}for(var y,x,R=0;R<g.length;R++){var I=g[R];if(I.start){if(!y){E(I)?y=n.fromPoints(I.start,I.end):y=n.fromPoints(I.start,I.start);continue}E(I)?(x=I.start,y.compare(x.row,x.column)==-1&&y.setStart(x),x=I.end,y.compare(x.row,x.column)==1&&y.setEnd(x)):(x=I.start,y.compare(x.row,x.column)==-1&&(y=n.fromPoints(I.start,I.start)))}}return y},b.prototype.replace=function(g,M){return this.doc.replace(g,M)},b.prototype.moveText=function(g,M,E){var y=this.getTextRange(g),x=this.getFoldsInRange(g),R=n.fromPoints(M,M);if(!E){this.remove(g);var I=g.start.row-g.end.row,O=I?-g.end.column:g.start.column-g.end.column;O&&(R.start.row==g.end.row&&R.start.column>g.end.column&&(R.start.column+=O),R.end.row==g.end.row&&R.end.column>g.end.column&&(R.end.column+=O)),I&&R.start.row>=g.end.row&&(R.start.row+=I,R.end.row+=I)}if(R.end=this.insert(R.start,y),x.length){var D=g.start,F=R.start,I=F.row-D.row,O=F.column-D.column;this.addFolds(x.map(function(N){return N=N.clone(),N.start.row==D.row&&(N.start.column+=O),N.end.row==D.row&&(N.end.column+=O),N.start.row+=I,N.end.row+=I,N}))}return R},b.prototype.indentRows=function(g,M,E){E=E.replace(/\t/g,this.getTabString());for(var y=g;y<=M;y++)this.doc.insertInLine({row:y,column:0},E)},b.prototype.outdentRows=function(g){for(var M=g.collapseRows(),E=new n(0,0,0,0),y=this.getTabSize(),x=M.start.row;x<=M.end.row;++x){var R=this.getLine(x);E.start.row=x,E.end.row=x;for(var I=0;I<y&&R.charAt(I)==" ";++I);I<y&&R.charAt(I)=="	"?(E.start.column=I,E.end.column=I+1):(E.start.column=0,E.end.column=I),this.remove(E)}},b.prototype.$moveLines=function(g,M,E){if(g=this.getRowFoldStart(g),M=this.getRowFoldEnd(M),E<0){var y=this.getRowFoldStart(g+E);if(y<0)return 0;var x=y-g}else if(E>0){var y=this.getRowFoldEnd(M+E);if(y>this.doc.getLength()-1)return 0;var x=y-M}else{g=this.$clipRowToDocument(g),M=this.$clipRowToDocument(M);var x=M-g+1}var R=new n(g,0,M,Number.MAX_VALUE),I=this.getFoldsInRange(R).map(function(D){return D=D.clone(),D.start.row+=x,D.end.row+=x,D}),O=E==0?this.doc.getLines(g,M):this.doc.removeFullLines(g,M);return this.doc.insertFullLines(g+x,O),I.length&&this.addFolds(I),x},b.prototype.moveLinesUp=function(g,M){return this.$moveLines(g,M,-1)},b.prototype.moveLinesDown=function(g,M){return this.$moveLines(g,M,1)},b.prototype.duplicateLines=function(g,M){return this.$moveLines(g,M,0)},b.prototype.$clipRowToDocument=function(g){return Math.max(0,Math.min(g,this.doc.getLength()-1))},b.prototype.$clipColumnToRow=function(g,M){return M<0?0:Math.min(this.doc.getLine(g).length,M)},b.prototype.$clipPositionToDocument=function(g,M){if(M=Math.max(0,M),g<0)g=0,M=0;else{var E=this.doc.getLength();g>=E?(g=E-1,M=this.doc.getLine(E-1).length):M=Math.min(this.doc.getLine(g).length,M)}return{row:g,column:M}},b.prototype.$clipRangeToDocument=function(g){g.start.row<0?(g.start.row=0,g.start.column=0):g.start.column=this.$clipColumnToRow(g.start.row,g.start.column);var M=this.doc.getLength()-1;return g.end.row>M?(g.end.row=M,g.end.column=this.doc.getLine(M).length):g.end.column=this.$clipColumnToRow(g.end.row,g.end.column),g},b.prototype.setUseWrapMode=function(g){if(g!=this.$useWrapMode){if(this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0),g){var M=this.getLength();this.$wrapData=Array(M),this.$updateWrapData(0,M-1)}this._signal("changeWrapMode")}},b.prototype.getUseWrapMode=function(){return this.$useWrapMode},b.prototype.setWrapLimitRange=function(g,M){(this.$wrapLimitRange.min!==g||this.$wrapLimitRange.max!==M)&&(this.$wrapLimitRange={min:g,max:M},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},b.prototype.adjustWrapLimit=function(g,M){var E=this.$wrapLimitRange;E.max<0&&(E={min:M,max:M});var y=this.$constrainWrapLimit(g,E.min,E.max);return y!=this.$wrapLimit&&y>1?(this.$wrapLimit=y,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},b.prototype.$constrainWrapLimit=function(g,M,E){return M&&(g=Math.max(M,g)),E&&(g=Math.min(E,g)),g},b.prototype.getWrapLimit=function(){return this.$wrapLimit},b.prototype.setWrapLimit=function(g){this.setWrapLimitRange(g,g)},b.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},b.prototype.$updateInternalDataOnChange=function(g){var M=this.$useWrapMode,E=g.action,y=g.start,x=g.end,R=y.row,I=x.row,O=I-R,D=null;if(this.$updating=!0,O!=0)if(E==="remove"){this[M?"$wrapData":"$rowLengthCache"].splice(R,O);var F=this.$foldData;D=this.getFoldsInRange(g),this.removeFolds(D);var W=this.getFoldLine(x.row),V=0;if(W){W.addRemoveChars(x.row,x.column,y.column-x.column),W.shiftRow(-O);var N=this.getFoldLine(R);N&&N!==W&&(N.merge(W),W=N),V=F.indexOf(W)+1}for(V;V<F.length;V++){var W=F[V];W.start.row>=x.row&&W.shiftRow(-O)}I=R}else{var H=Array(O);H.unshift(R,0);var z=M?this.$wrapData:this.$rowLengthCache;z.splice.apply(z,H);var F=this.$foldData,W=this.getFoldLine(R),V=0;if(W){var U=W.range.compareInside(y.row,y.column);U==0?(W=W.split(y.row,y.column),W&&(W.shiftRow(O),W.addRemoveChars(I,0,x.column-y.column))):U==-1&&(W.addRemoveChars(R,0,x.column-y.column),W.shiftRow(O)),V=F.indexOf(W)+1}for(V;V<F.length;V++){var W=F[V];W.start.row>=R&&W.shiftRow(O)}}else{O=Math.abs(g.start.column-g.end.column),E==="remove"&&(D=this.getFoldsInRange(g),this.removeFolds(D),O=-O);var W=this.getFoldLine(R);W&&W.addRemoveChars(R,y.column,O)}return M&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,M?this.$updateWrapData(R,I):this.$updateRowLengthCache(R,I),D},b.prototype.$updateRowLengthCache=function(g,M,E){this.$rowLengthCache[g]=null,this.$rowLengthCache[M]=null},b.prototype.$updateWrapData=function(g,M){var E=this.doc.getAllLines(),y=this.getTabSize(),x=this.$wrapData,R=this.$wrapLimit,I,O,D=g;for(M=Math.min(M,E.length-1);D<=M;)O=this.getFoldLine(D,O),O?(I=[],O.walk(function(F,W,V,N){var H;if(F!=null){H=this.$getDisplayTokens(F,I.length),H[0]=_;for(var z=1;z<H.length;z++)H[z]=A}else H=this.$getDisplayTokens(E[W].substring(N,V),I.length);I=I.concat(H)}.bind(this),O.end.row,E[O.end.row].length+1),x[O.start.row]=this.$computeWrapSplits(I,R,y),D=O.end.row+1):(I=this.$getDisplayTokens(E[D]),x[D]=this.$computeWrapSplits(I,R,y),D++)},b.prototype.$computeWrapSplits=function(g,M,E){if(g.length==0)return[];var y=[],x=g.length,R=0,I=0,O=this.$wrapAsCode,D=this.$indentedSoftWrap,F=M<=Math.max(2*E,8)||D===!1?0:Math.floor(M/2);function W(){var U=0;if(F===0)return U;if(D)for(var j=0;j<g.length;j++){var K=g[j];if(K==h)U+=1;else if(K==C)U+=E;else{if(K==$)continue;break}}return O&&D!==!1&&(U+=E),Math.min(U,F)}function V(U){for(var j=U-R,K=R;K<U;K++){var X=g[K];(X===12||X===2)&&(j-=1)}y.length||(N=W(),y.indent=N),I+=j,y.push(I),R=U}for(var N=0;x-R>M-N;){var H=R+M-N;if(g[H-1]>=h&&g[H]>=h){V(H);continue}if(g[H]==_||g[H]==A){for(H;H!=R-1&&g[H]!=_;H--);if(H>R){V(H);continue}for(H=R+M,H;H<g.length&&g[H]==A;H++);if(H==g.length)break;V(H);continue}for(var z=Math.max(H-(M-(M>>2)),R-1);H>z&&g[H]<_;)H--;if(O){for(;H>z&&g[H]<_;)H--;for(;H>z&&g[H]==f;)H--}else for(;H>z&&g[H]<h;)H--;if(H>z){V(++H);continue}H=R+M,g[H]==u&&H--,V(H-N)}return y},b.prototype.$getDisplayTokens=function(g,M){var E=[],y;M=M||0;for(var x=0;x<g.length;x++){var R=g.charCodeAt(x);if(R==9){y=this.getScreenTabSize(E.length+M),E.push(C);for(var I=1;I<y;I++)E.push($)}else R==32?E.push(h):R>39&&R<48||R>57&&R<64?E.push(f):R>=4352&&T(R)?E.push(m,u):E.push(m)}return E},b.prototype.$getStringScreenWidth=function(g,M,E){if(M==0)return[0,0];M==null&&(M=1/0),E=E||0;var y,x;for(x=0;x<g.length&&(y=g.charCodeAt(x),y==9?E+=this.getScreenTabSize(E):y>=4352&&T(y)?E+=2:E+=1,!(E>M));x++);return[E,x]},b.prototype.getRowLength=function(g){var M=1;return this.lineWidgets&&(M+=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0),!this.$useWrapMode||!this.$wrapData[g]?M:this.$wrapData[g].length+M},b.prototype.getRowLineCount=function(g){return!this.$useWrapMode||!this.$wrapData[g]?1:this.$wrapData[g].length+1},b.prototype.getRowWrapIndent=function(g){if(this.$useWrapMode){var M=this.screenToDocumentPosition(g,Number.MAX_VALUE),E=this.$wrapData[M.row];return E.length&&E[0]<M.column?E.indent:0}else return 0},b.prototype.getScreenLastRowColumn=function(g){var M=this.screenToDocumentPosition(g,Number.MAX_VALUE);return this.documentToScreenColumn(M.row,M.column)},b.prototype.getDocumentLastRowColumn=function(g,M){var E=this.documentToScreenRow(g,M);return this.getScreenLastRowColumn(E)},b.prototype.getDocumentLastRowColumnPosition=function(g,M){var E=this.documentToScreenRow(g,M);return this.screenToDocumentPosition(E,Number.MAX_VALUE/10)},b.prototype.getRowSplitData=function(g){if(this.$useWrapMode)return this.$wrapData[g]},b.prototype.getScreenTabSize=function(g){return this.$tabSize-(g%this.$tabSize|0)},b.prototype.screenToDocumentRow=function(g,M){return this.screenToDocumentPosition(g,M).row},b.prototype.screenToDocumentColumn=function(g,M){return this.screenToDocumentPosition(g,M).column},b.prototype.screenToDocumentPosition=function(g,M,E){if(g<0)return{row:0,column:0};var y,x=0,R=0,I,O=0,D=0,F=this.$screenRowCache,W=this.$getRowCacheIndex(F,g),V=F.length;if(V&&W>=0)var O=F[W],x=this.$docRowCache[W],N=g>F[V-1];else var N=!V;for(var H=this.getLength()-1,z=this.getNextFoldLine(x),U=z?z.start.row:1/0;O<=g&&(D=this.getRowLength(x),!(O+D>g||x>=H));)O+=D,x++,x>U&&(x=z.end.row+1,z=this.getNextFoldLine(x,z),U=z?z.start.row:1/0),N&&(this.$docRowCache.push(x),this.$screenRowCache.push(O));if(z&&z.start.row<=x)y=this.getFoldDisplayLine(z),x=z.start.row;else{if(O+D<=g||x>H)return{row:H,column:this.getLine(H).length};y=this.getLine(x),z=null}var j=0,K=Math.floor(g-O);if(this.$useWrapMode){var X=this.$wrapData[x];X&&(I=X[K],K>0&&X.length&&(j=X.indent,R=X[K-1]||X[X.length-1],y=y.substring(R)))}return E!==void 0&&this.$bidiHandler.isBidiRow(O+K,x,K)&&(M=this.$bidiHandler.offsetToCol(E)),R+=this.$getStringScreenWidth(y,M-j)[1],this.$useWrapMode&&R>=I&&(R=I-1),z?z.idxToPosition(R):{row:x,column:R}},b.prototype.documentToScreenPosition=function(g,M){if(typeof M>"u")var E=this.$clipPositionToDocument(g.row,g.column);else E=this.$clipPositionToDocument(g,M);g=E.row,M=E.column;var y=0,x=null,R=null;R=this.getFoldAt(g,M,1),R&&(g=R.start.row,M=R.start.column);var I,O=0,D=this.$docRowCache,F=this.$getRowCacheIndex(D,g),W=D.length;if(W&&F>=0)var O=D[F],y=this.$screenRowCache[F],V=g>D[W-1];else var V=!W;for(var N=this.getNextFoldLine(O),H=N?N.start.row:1/0;O<g;){if(O>=H){if(I=N.end.row+1,I>g)break;N=this.getNextFoldLine(I,N),H=N?N.start.row:1/0}else I=O+1;y+=this.getRowLength(O),O=I,V&&(this.$docRowCache.push(O),this.$screenRowCache.push(y))}var z="";N&&O>=H?(z=this.getFoldDisplayLine(N,g,M),x=N.start.row):(z=this.getLine(g).substring(0,M),x=g);var U=0;if(this.$useWrapMode){var j=this.$wrapData[x];if(j){for(var K=0;z.length>=j[K];)y++,K++;z=z.substring(j[K-1]||0,z.length),U=K>0?j.indent:0}}return this.lineWidgets&&this.lineWidgets[O]&&this.lineWidgets[O].rowsAbove&&(y+=this.lineWidgets[O].rowsAbove),{row:y,column:U+this.$getStringScreenWidth(z)[0]}},b.prototype.documentToScreenColumn=function(g,M){return this.documentToScreenPosition(g,M).column},b.prototype.documentToScreenRow=function(g,M){return this.documentToScreenPosition(g,M).row},b.prototype.getScreenLength=function(){var g=0,M=null;if(this.$useWrapMode)for(var x=this.$wrapData.length,R=0,y=0,M=this.$foldData[y++],I=M?M.start.row:1/0;R<x;){var O=this.$wrapData[R];g+=O?O.length+1:1,R++,R>I&&(R=M.end.row+1,M=this.$foldData[y++],I=M?M.start.row:1/0)}else{g=this.getLength();for(var E=this.$foldData,y=0;y<E.length;y++)M=E[y],g-=M.end.row-M.start.row}return this.lineWidgets&&(g+=this.$getWidgetScreenLength()),g},b.prototype.$setFontMetrics=function(g){this.$enableVarChar&&(this.$getStringScreenWidth=function(M,E,y){if(E===0)return[0,0];E||(E=1/0),y=y||0;var x,R;for(R=0;R<M.length&&(x=M.charAt(R),x==="	"?y+=this.getScreenTabSize(y):y+=g.getCharacterWidth(x),!(y>E));R++);return[y,R]})},b.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},b}();l.$uid=0,l.prototype.$modes=s.$modes,l.prototype.getValue=l.prototype.toString,l.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},l.prototype.$overwrite=!1,l.prototype.$mode=null,l.prototype.$modeId=null,l.prototype.$scrollTop=0,l.prototype.$scrollLeft=0,l.prototype.$wrapLimit=80,l.prototype.$useWrapMode=!1,l.prototype.$wrapLimitRange={min:null,max:null},l.prototype.lineWidgets=null,l.prototype.isFullWidth=T,d.implement(l.prototype,a);var m=1,u=2,_=3,A=4,f=9,h=10,C=11,$=12;function T(b){return b<4352?!1:b>=4352&&b<=4447||b>=4515&&b<=4519||b>=4602&&b<=4607||b>=9001&&b<=9002||b>=11904&&b<=11929||b>=11931&&b<=12019||b>=12032&&b<=12245||b>=12272&&b<=12283||b>=12288&&b<=12350||b>=12353&&b<=12438||b>=12441&&b<=12543||b>=12549&&b<=12589||b>=12593&&b<=12686||b>=12688&&b<=12730||b>=12736&&b<=12771||b>=12784&&b<=12830||b>=12832&&b<=12871||b>=12880&&b<=13054||b>=13056&&b<=19903||b>=19968&&b<=42124||b>=42128&&b<=42182||b>=43360&&b<=43388||b>=44032&&b<=55203||b>=55216&&b<=55238||b>=55243&&b<=55291||b>=63744&&b<=64255||b>=65040&&b<=65049||b>=65072&&b<=65106||b>=65108&&b<=65126||b>=65128&&b<=65131||b>=65281&&b<=65376||b>=65504&&b<=65510}c("./edit_session/folding").Folding.call(l.prototype),c("./edit_session/bracket_match").BracketMatch.call(l.prototype),s.defineOptions(l.prototype,"session",{wrap:{set:function(b){if(!b||b=="off"?b=!1:b=="free"?b=!0:b=="printMargin"?b=-1:typeof b=="string"&&(b=parseInt(b,10)||!1),this.$wrap!=b)if(this.$wrap=b,!b)this.setUseWrapMode(!1);else{var g=typeof b=="number"?b:null;this.setWrapLimitRange(g,g),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(b){b=b=="auto"?this.$mode.type!="text":b!="text",b!=this.$wrapAsCode&&(this.$wrapAsCode=b,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(b){this.$useWorker=b,this.$stopWorker(),b&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(b){b=parseInt(b),b>0&&this.$tabSize!==b&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=b,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(b){this.setFoldStyle(b)},handlesSet:!0},overwrite:{set:function(b){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(b){this.doc.setNewLineMode(b)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(b){this.setMode(b)},get:function(){return this.$modeId},handlesSet:!0}}),p.EditSession=l}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(c,p,k){var d=c("./lib/lang"),S=c("./lib/oop"),w=c("./range").Range,s=function(){function t(){this.$options={}}return t.prototype.set=function(e){return S.mixin(this.$options,e),this},t.prototype.getOptions=function(){return d.copyObject(this.$options)},t.prototype.setOptions=function(e){this.$options=e},t.prototype.find=function(e){var n=this.$options,i=this.$matchIterator(e,n);if(!i)return!1;var r=null;return i.forEach(function(o,l,m,u){return r=new w(o,l,m,u),l==u&&n.start&&n.start.start&&n.skipCurrent!=!1&&r.isEqual(n.start)?(r=null,!1):!0}),r},t.prototype.findAll=function(e){var n=this.$options;if(!n.needle)return[];this.$assembleRegExp(n);var i=n.range,r=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),o=[],l=n.re;if(n.$isMultiLine){var m=l.length,u=r.length-m,_;e:for(var A=l.offset||0;A<=u;A++){for(var f=0;f<m;f++)if(r[A+f].search(l[f])==-1)continue e;var h=r[A],C=r[A+m-1],$=h.length-h.match(l[0])[0].length,T=C.match(l[m-1])[0].length;_&&_.end.row===A&&_.end.column>$||(o.push(_=new w(A,$,A+m-1,T)),m>2&&(A=A+m-2))}}else for(var b=0;b<r.length;b++)for(var g=d.getMatchOffsets(r[b],l),f=0;f<g.length;f++){var M=g[f];o.push(new w(b,M.offset,b,M.offset+M.length))}if(i){for(var E=i.start.column,y=i.end.column,b=0,f=o.length-1;b<f&&o[b].start.column<E&&o[b].start.row==0;)b++;for(var x=i.end.row-i.start.row;b<f&&o[f].end.column>y&&o[f].end.row==x;)f--;for(o=o.slice(b,f+1),b=0,f=o.length;b<f;b++)o[b].start.row+=i.start.row,o[b].end.row+=i.start.row}return o},t.prototype.replace=function(e,n){var i=this.$options,r=this.$assembleRegExp(i);if(i.$isMultiLine)return n;if(r){var o=r.exec(e);if(!o||o[0].length!=e.length)return null;if(n=e.replace(r,n),i.preserveCase){n=n.split("");for(var l=Math.min(e.length,e.length);l--;){var m=e[l];m&&m.toLowerCase()!=m?n[l]=n[l].toUpperCase():n[l]=n[l].toLowerCase()}n=n.join("")}return n}},t.prototype.$assembleRegExp=function(e,n){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=d.escapeRegExp(i)),e.wholeWord&&(i=a(i,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!n&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,r);try{var o=new RegExp(i,r)}catch{o=!1}return e.re=o},t.prototype.$assembleMultilineRegExp=function(e,n){for(var i=e.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),r=[],o=0;o<i.length;o++)try{r.push(new RegExp(i[o],n))}catch{return!1}return r},t.prototype.$matchIterator=function(e,n){var i=this.$assembleRegExp(n);if(!i)return!1;var r=n.backwards==!0,o=n.skipCurrent!=!1,l=n.range,m=n.start;m||(m=l?l[r?"end":"start"]:e.selection.getRange()),m.start&&(m=m[o!=r?"end":"start"]);var u=l?l.start.row:0,_=l?l.end.row:e.getLength()-1;if(r)var A=function(C){var $=m.row;if(!h($,m.column,C)){for($--;$>=u;$--)if(h($,Number.MAX_VALUE,C))return;if(n.wrap!=!1){for($=_,u=m.row;$>=u;$--)if(h($,Number.MAX_VALUE,C))return}}};else var A=function($){var T=m.row;if(!h(T,m.column,$)){for(T=T+1;T<=_;T++)if(h(T,0,$))return;if(n.wrap!=!1){for(T=u,_=m.row;T<=_;T++)if(h(T,0,$))return}}};if(n.$isMultiLine)var f=i.length,h=function(C,$,T){var b=r?C-f+1:C;if(!(b<0||b+f>e.getLength())){var g=e.getLine(b),M=g.search(i[0]);if(!(!r&&M<$||M===-1)){for(var E=1;E<f;E++)if(g=e.getLine(b+E),g.search(i[E])==-1)return;var y=g.match(i[f-1])[0].length;if(!(r&&y>$)&&T(b,M,b+f-1,y))return!0}}};else if(r)var h=function($,T,b){var g=e.getLine($),M=[],E,y=0;for(i.lastIndex=0;E=i.exec(g);){var x=E[0].length;if(y=E.index,!x){if(y>=g.length)break;i.lastIndex=y+=1}if(E.index+x>T)break;M.push(E.index,x)}for(var R=M.length-1;R>=0;R-=2){var I=M[R-1],x=M[R];if(b($,I,$,I+x))return!0}};else var h=function($,T,b){var g=e.getLine($),M,E;for(i.lastIndex=T;E=i.exec(g);){var y=E[0].length;if(M=E.index,b($,M,$,M+y))return!0;if(!y&&(i.lastIndex=M+=1,M>=g.length))return!1}};return{forEach:A}},t}();function a(t,e){function n(i){return/\w/.test(i)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}p.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(c,p,k){var d=c("../lib/keys"),S=c("../lib/useragent"),w=d.KEY_MODS;function s(t,e){this.platform=e||(S.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function a(t,e){s.call(this,t,e),this.$singleCommand=!1}a.prototype=s.prototype,function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,n){var i=e&&(typeof e=="string"?e:e.name);e=this.commands[i],n||delete this.commands[i];var r=this.commandKeyBinding;for(var o in r){var l=r[o];if(l==e)delete r[o];else if(Array.isArray(l)){var m=l.indexOf(e);m!=-1&&(l.splice(m,1),l.length==1&&(r[o]=l[0]))}}},this.bindKey=function(e,n,i){if(typeof e=="object"&&e&&(i==null&&(i=e.position),e=e[this.platform]),!!e){if(typeof n=="function")return this.addCommand({exec:n,bindKey:e,name:n.name||e});e.split("|").forEach(function(r){var o="";if(r.indexOf(" ")!=-1){var l=r.split(/\s+/);r=l.pop(),l.forEach(function(_){var A=this.parseKeys(_),f=w[A.hashId]+A.key;o+=(o?" ":"")+f,this._addCommandToBinding(o,"chainKeys")},this),o+=" "}var m=this.parseKeys(r),u=w[m.hashId]+m.key;this._addCommandToBinding(o+u,n,i)},this)}};function t(e){return typeof e=="object"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this._addCommandToBinding=function(e,n,i){var r=this.commandKeyBinding,o;if(!n)delete r[e];else if(!r[e]||this.$singleCommand)r[e]=n;else{Array.isArray(r[e])?(o=r[e].indexOf(n))!=-1&&r[e].splice(o,1):r[e]=[r[e]],typeof i!="number"&&(i=t(n));var l=r[e];for(o=0;o<l.length;o++){var m=l[o],u=t(m);if(u>i)break}l.splice(o,0,n)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(n){var i=e[n];if(i){if(typeof i=="string")return this.bindKey(i,n);typeof i=="function"&&(i={exec:i}),typeof i=="object"&&(i.name||(i.name=n),this.addCommand(i))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(n){this.removeCommand(e[n])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(n){this.bindKey(n,e[n])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var n=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(u){return u}),i=n.pop(),r=d[i];if(d.FUNCTION_KEYS[r])i=d.FUNCTION_KEYS[r].toLowerCase();else if(n.length){if(n.length==1&&n[0]=="shift")return{key:i.toUpperCase(),hashId:-1}}else return{key:i,hashId:-1};for(var o=0,l=n.length;l--;){var m=d.KEY_MODS[n[l]];if(m==null)return typeof console<"u"&&console.error("invalid modifier "+n[l]+" in "+e),!1;o|=m}return{key:i,hashId:o}},this.findKeyCommand=function(n,i){var r=w[n]+i;return this.commandKeyBinding[r]},this.handleKeyboard=function(e,n,i,r){if(!(r<0)){var o=w[n]+i,l=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,l=this.commandKeyBinding[e.$keyChain]||l),l&&(l=="chainKeys"||l[l.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||o,{command:"null"}):(e.$keyChain&&((!n||n==4)&&i.length==1?e.$keyChain=e.$keyChain.slice(0,-o.length-1):(n==-1||r>0)&&(e.$keyChain="")),{command:l})}},this.getStatusText=function(e,n){return n.$keyChain||""}}.call(s.prototype),p.HashHandler=s,p.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(c,p,k){var d=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=c("../lib/oop"),w=c("../keyboard/hash_handler").MultiHashHandler,s=c("../lib/event_emitter").EventEmitter,a=function(t){d(e,t);function e(n,i){var r=t.call(this,i,n)||this;return r.byName=r.commands,r.setDefaultHandler("exec",function(o){return o.args?o.command.exec(o.editor,o.args,o.event,!1):o.command.exec(o.editor,{},o.event,!0)}),r}return e.prototype.exec=function(n,i,r){if(Array.isArray(n)){for(var o=n.length;o--;)if(this.exec(n[o],i,r))return!0;return!1}if(typeof n=="string"&&(n=this.commands[n]),!n||i&&i.$readOnly&&!n.readOnly||this.$checkCommandState!=!1&&n.isAvailable&&!n.isAvailable(i))return!1;var l={editor:i,command:n,args:r};return l.returnValue=this._emit("exec",l),this._signal("afterExec",l),l.returnValue!==!1},e.prototype.toggleRecording=function(n){if(!this.$inReplay)return n&&n._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(i){this.macro.push([i.command,i.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},e.prototype.replay=function(n){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0,this.macro.forEach(function(i){typeof i=="string"?this.exec(i,n):this.exec(i[0],n,i[1])},this)}finally{this.$inReplay=!1}}},e.prototype.trimMacro=function(n){return n.map(function(i){return typeof i[0]!="string"&&(i[0]=i[0].name),i[1]||(i=i[0]),i})},e}(w);S.implement(a.prototype,s),p.CommandManager=a}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(c,p,k){var d=c("../lib/lang"),S=c("../config"),w=c("../range").Range;function s(t,e){return{win:t,mac:e}}p.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(t){S.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(t){S.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(t){S.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(t,e){typeof e=="number"&&!isNaN(e)&&t.gotoLine(e),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(t){S.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty(),n=e?t.selection.getLineRange():t.selection.getRange();t._emit("cut",n),n.isEmpty()||t.session.remove(n),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(t){S.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(t){if(t.selection.isEmpty())t.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,e){t.insert(d.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(t){t.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),r=t.session.doc.getLine(n.row).length,o=t.session.doc.getTextRange(t.selection.getRange()),l=o.replace(/\n\s*/," ").length,m=t.session.doc.getLine(n.row),u=n.row+1;u<=i.row+1;u++){var _=d.stringTrimLeft(d.stringTrimRight(t.session.doc.getLine(u)));_.length!==0&&(_=" "+_),m+=_}i.row+1<t.session.doc.getLength()-1&&(m+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new w(n.row,0,i.row+2,0),m),l>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+l)):(r=t.session.doc.getLine(n.row).length>r?r+1:r,t.selection.moveCursorTo(n.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row===e&&i[o].end.column===n||r.push(new w(i[o].end.row,i[o].end.column,e,n))),o===0?i[o].start.row===0&&i[o].start.column===0||r.push(new w(0,0,i[o].start.row,i[o].start.column)):r.push(new w(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(t){t.selection.clearSelection();var e=t.getCursorPosition();t.selection.moveTo(e.row-1,Number.MAX_VALUE),t.insert(`
`),e.row===0&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:s("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)p.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(c,p,k){var d=c("./lib/dom"),S=function(){function w(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return w.prototype.getRowLength=function(s){var a;return this.lineWidgets?a=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:a=0,!this.$useWrapMode||!this.$wrapData[s]?1+a:this.$wrapData[s].length+1+a},w.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(a){a&&a.rowCount&&!a.hidden&&(s+=a.rowCount)}),s},w.prototype.$onChangeEditor=function(s){this.attach(s.editor)},w.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},w.prototype.detach=function(s){var a=this.editor;if(a){this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},w.prototype.updateOnFold=function(s,a){var t=a.lineWidgets;if(!(!t||!s.action)){for(var e=s.data,n=e.start.row,i=e.end.row,r=s.action=="add",o=n+1;o<i;o++)t[o]&&(t[o].hidden=r);t[i]&&(r?t[n]?t[i].hidden=r:t[n]=t[i]:(t[n]==t[i]&&(t[n]=void 0),t[i].hidden=r))}},w.prototype.updateOnChange=function(s){var a=this.session.lineWidgets;if(a){var t=s.start.row,e=s.end.row-t;if(e!==0)if(s.action=="remove"){var n=a.splice(t+1,e);!a[t]&&n[n.length-1]&&(a[t]=n.pop()),n.forEach(function(r){r&&this.removeLineWidget(r)},this),this.$updateRows()}else{var i=new Array(e);a[t]&&a[t].column!=null&&s.start.column>a[t].column&&t++,i.unshift(t,0),a.splice.apply(a,i),this.$updateRows()}}},w.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var a=!0;s.forEach(function(t,e){if(t)for(a=!1,t.row=e;t.$oldWidget;)t.$oldWidget.row=e,t=t.$oldWidget}),a&&(this.session.lineWidgets=null)}},w.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var a=this.session.lineWidgets[s.row];return a&&(s.$oldWidget=a,a.el&&a.el.parentNode&&(a.el.parentNode.removeChild(a.el),a._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},w.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var a=this.editor.renderer;s.html&&!s.el&&(s.el=d.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=d.createElement("div"),s.el.textContent=s.text),s.el&&(d.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&d.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex=5,a.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex=3),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/a.layerConfig.lineHeight);var t=this.session.getFoldAt(s.row,0);if(s.$fold=t,t){var e=this.session.lineWidgets;s.row==t.end.row&&!e[t.start.row]?e[t.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,a),this.onWidgetChanged(s),s},w.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var a=this.session.lineWidgets[s.row];if(a==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;a;){if(a.$oldWidget==s){a.$oldWidget=s.$oldWidget;break}a=a.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},w.prototype.getWidgetsAtRow=function(s){for(var a=this.session.lineWidgets,t=a&&a[s],e=[];t;)e.push(t),t=t.$oldWidget;return e},w.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},w.prototype.measureWidgets=function(s,a){var t=this.session._changedWidgets,e=a.layerConfig;if(!(!t||!t.length)){for(var n=1/0,i=0;i<t.length;i++){var r=t[i];if(!(!r||!r.el)&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,a.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/e.characterWidth));var o=r.h/e.lineHeight;r.coverLine&&(o-=this.session.getRowLineCount(r.row),o<0&&(o=0)),r.rowCount!=o&&(r.rowCount=o,r.row<n&&(n=r.row))}}n!=1/0&&(this.session._emit("changeFold",{data:{start:{row:n}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},w.prototype.renderWidgets=function(s,a){var t=a.layerConfig,e=this.session.lineWidgets;if(e){for(var n=Math.min(this.firstRow,t.firstRow),i=Math.max(this.lastRow,t.lastRow,e.length);n>0&&!e[n];)n--;this.firstRow=t.firstRow,this.lastRow=t.lastRow,a.$cursorLayer.config=t;for(var r=n;r<=i;r++){var o=e[r];if(!(!o||!o.el)){if(o.hidden){o.el.style.top=-100-(o.pixelHeight||0)+"px";continue}o._inDocument||(o._inDocument=!0,a.container.appendChild(o.el));var l=a.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;o.coverLine||(l+=t.lineHeight*this.session.getRowLineCount(o.row)),o.el.style.top=l-t.offset+"px";var m=o.coverGutter?0:a.gutterWidth;o.fixedWidth||(m-=a.scrollLeft),o.el.style.left=m+"px",o.fullWidth&&o.screenWidth&&(o.el.style.minWidth=t.width+2*t.padding+"px"),o.fixedWidth?o.el.style.right=a.scrollBar.getWidth()+"px":o.el.style.right=""}}}},w}();p.LineWidgets=S}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(c,p,k){var d=c("../lib/keys"),S=c("../mouse/default_gutter_handler").GutterTooltip,w=function(){function s(a){this.editor=a,this.gutterLayer=a.renderer.$gutterLayer,this.element=a.renderer.$gutter,this.lines=a.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new S(this.editor)}return s.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},s.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},s.prototype.$onGutterKeyDown=function(a){if(this.annotationTooltip.isOpen){a.preventDefault(),a.keyCode===d.escape&&this.annotationTooltip.hide();return}if(a.target===this.element){if(a.keyCode!=d.enter)return;a.preventDefault();var t=this.editor.getCursorPosition().row;this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),setTimeout(function(){var o=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),l=this.$findNearestFoldWidget(o),m=this.$findNearestAnnotation(o);if(!(l===null&&m===null)){if(l===null&&m!==null){this.activeRowIndex=m,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(l!==null&&m===null){this.activeRowIndex=l,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(m-o)<Math.abs(l-o)){this.activeRowIndex=m,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=l,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}.bind(this),10);return}if(a.keyCode===d.tab){a.preventDefault();return}if(a.keyCode===d.escape){a.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(a.keyCode===d.up){switch(a.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(a.keyCode===d.down){switch(a.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(a.keyCode===d.left&&(a.preventDefault(),this.$switchLane("annotation")),a.keyCode===d.right&&(a.preventDefault(),this.$switchLane("fold")),a.keyCode===d.enter||a.keyCode===d.space){switch(a.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var e=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),a),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==e&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(e),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var n=this.lines.cells[this.activeRowIndex].element.childNodes[2],i=n.getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=i.right+"px",r.top=i.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},s.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},s.prototype.$isFoldWidgetVisible=function(a){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(a)),e=this.$getFoldWidget(a).style.display!=="none";return t&&e},s.prototype.$isAnnotationVisible=function(a){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(a)),e=this.$getAnnotation(a).style.display!=="none";return t&&e},s.prototype.$getFoldWidget=function(a){var t=this.lines.get(a),e=t.element;return e.childNodes[1]},s.prototype.$getAnnotation=function(a){var t=this.lines.get(a),e=t.element;return e.childNodes[2]},s.prototype.$findNearestFoldWidget=function(a){if(this.$isFoldWidgetVisible(a))return a;for(var t=0;a-t>0||a+t<this.lines.getLength()-1;){if(t++,a-t>=0&&this.$isFoldWidgetVisible(a-t))return a-t;if(a+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(a+t))return a+t}return null},s.prototype.$findNearestAnnotation=function(a){if(this.$isAnnotationVisible(a))return a;for(var t=0;a-t>0||a+t<this.lines.getLength()-1;){if(t++,a-t>=0&&this.$isAnnotationVisible(a-t))return a-t;if(a+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(a+t))return a+t}return null},s.prototype.$focusFoldWidget=function(a){if(a!=null){var t=this.$getFoldWidget(a);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},s.prototype.$focusAnnotation=function(a){if(a!=null){var t=this.$getAnnotation(a);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.setAttribute("role","button"),t.focus()}},s.prototype.$blurFoldWidget=function(a){var t=this.$getFoldWidget(a);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},s.prototype.$blurAnnotation=function(a){var t=this.$getAnnotation(a);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.removeAttribute("role"),t.blur()},s.prototype.$moveFoldWidgetUp=function(){for(var a=this.activeRowIndex;a>0;)if(a--,this.$isFoldWidgetVisible(a)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);return}},s.prototype.$moveFoldWidgetDown=function(){for(var a=this.activeRowIndex;a<this.lines.getLength()-1;)if(a++,this.$isFoldWidgetVisible(a)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);return}},s.prototype.$moveAnnotationUp=function(){for(var a=this.activeRowIndex;a>0;)if(a--,this.$isAnnotationVisible(a)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);return}},s.prototype.$moveAnnotationDown=function(){for(var a=this.activeRowIndex;a<this.lines.getLength()-1;)if(a++,this.$isAnnotationVisible(a)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);return}},s.prototype.$switchLane=function(a){switch(a){case"annotation":if(this.activeLane==="annotation")break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(t==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var e=this.$findNearestFoldWidget(this.activeRowIndex);if(e==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,this.$focusFoldWidget(this.activeRowIndex);break}},s.prototype.$rowIndexToRow=function(a){var t=this.lines.get(a);return t?t.row:null},s.prototype.$rowToRowIndex=function(a){for(var t=0;t<this.lines.getLength();t++){var e=this.lines.get(t);if(e.row==a)return t}return null},s}();p.GutterKeyboardHandler=w}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(c,p,k){var d=this&&this.__values||function(E){var y=typeof Symbol=="function"&&Symbol.iterator,x=y&&E[y],R=0;if(x)return x.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&R>=E.length&&(E=void 0),{value:E&&E[R++],done:!E}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},S=c("./lib/oop"),w=c("./lib/dom"),s=c("./lib/lang"),a=c("./lib/useragent"),t=c("./keyboard/textinput").TextInput,e=c("./mouse/mouse_handler").MouseHandler,n=c("./mouse/fold_handler").FoldHandler,i=c("./keyboard/keybinding").KeyBinding,r=c("./edit_session").EditSession,o=c("./search").Search,l=c("./range").Range,m=c("./lib/event_emitter").EventEmitter,u=c("./commands/command_manager").CommandManager,_=c("./commands/default_commands").commands,A=c("./config"),f=c("./token_iterator").TokenIterator,h=c("./line_widgets").LineWidgets,C=c("./keyboard/gutter_handler").GutterKeyboardHandler,$=c("./config").nls,T=c("./clipboard"),b=c("./lib/keys"),g=function(){function E(y,x,R){this.$toDestroy=[];var I=y.getContainerElement();this.container=I,this.renderer=y,this.id="editor"+ ++E.$uid,this.commands=new u(a.isMac?"mac":"win",_),typeof document=="object"&&(this.textInput=new t(y.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new e(this),new n(this)),this.keyBinding=new i(this),this.$search=new o().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(O,D){D._$emitInputEvent.schedule(31)}),this.setSession(x||R&&R.session||new r("")),A.resetOptions(this),R&&this.setOptions(R),A._signal("editor",this)}return E.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},E.prototype.startOperation=function(y){if(this.curOp){if(!y||this.curOp.command)return;this.prevOp=this.curOp}y||(this.previousCommand=null,y={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:y.command||{},args:y.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},E.prototype.endOperation=function(y){if(this.curOp&&this.session){if(y&&y.returnValue===!1||!this.session)return this.curOp=null;if(y==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var x=this.curOp.command,R=x&&x.scrollIntoView;if(R){switch(R){case"center-animate":R="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var I=this.selection.getRange(),O=this.renderer.layerConfig;(I.start.row>=O.lastRow||I.end.row<=O.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}R=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var D=this.selection.toJSON();this.curOp.selectionAfter=D,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(D),this.prevOp=this.curOp,this.curOp=null}},E.prototype.$historyTracker=function(y){if(this.$mergeUndoDeltas){var x=this.prevOp,R=this.$mergeableCommands,I=x.command&&y.command.name==x.command.name;if(y.command.name=="insertstring"){var O=y.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),I=I&&this.mergeNextCommand&&(!/\s/.test(O)||/\s/.test(x.args)),this.mergeNextCommand=!0}else I=I&&R.indexOf(y.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(I=!1),I?this.session.mergeUndoDeltas=!0:R.indexOf(y.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},E.prototype.setKeyboardHandler=function(y,x){if(y&&typeof y=="string"&&y!="ace"){this.$keybindingId=y;var R=this;A.loadModule(["keybinding",y],function(I){R.$keybindingId==y&&R.keyBinding.setKeyboardHandler(I&&I.handler),x&&x()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(y),x&&x()},E.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},E.prototype.setSession=function(y){if(this.session!=y){this.curOp&&this.endOperation(),this.curOp={};var x=this.session;if(x){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var R=this.session.getSelection();R.off("changeCursor",this.$onCursorChange),R.off("changeSelection",this.$onSelectionChange)}this.session=y,y?(this.$onDocumentChange=this.onDocumentChange.bind(this),y.on("change",this.$onDocumentChange),this.renderer.setSession(y),this.$onChangeMode=this.onChangeMode.bind(this),y.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),y.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),y.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),y.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),y.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),y.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=y.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(y)),this._signal("changeSession",{session:y,oldSession:x}),this.curOp=null,x&&x._signal("changeEditor",{oldEditor:this}),y&&y._signal("changeEditor",{editor:this}),y&&!y.destroyed&&y.bgTokenizer.scheduleStart()}},E.prototype.getSession=function(){return this.session},E.prototype.setValue=function(y,x){return this.session.doc.setValue(y),x?x==1?this.navigateFileEnd():x==-1&&this.navigateFileStart():this.selectAll(),y},E.prototype.getValue=function(){return this.session.getValue()},E.prototype.getSelection=function(){return this.selection},E.prototype.resize=function(y){this.renderer.onResize(y)},E.prototype.setTheme=function(y,x){this.renderer.setTheme(y,x)},E.prototype.getTheme=function(){return this.renderer.getTheme()},E.prototype.setStyle=function(y){this.renderer.setStyle(y)},E.prototype.unsetStyle=function(y){this.renderer.unsetStyle(y)},E.prototype.getFontSize=function(){return this.getOption("fontSize")||w.computedStyle(this.container).fontSize},E.prototype.setFontSize=function(y){this.setOption("fontSize",y)},E.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var y=this;this.$highlightPending=!0,setTimeout(function(){y.$highlightPending=!1;var x=y.session;if(!(!x||x.destroyed)){x.$bracketHighlight&&(x.$bracketHighlight.markerIds.forEach(function(H){x.removeMarker(H)}),x.$bracketHighlight=null);var R=y.getCursorPosition(),I=y.getKeyboardHandler(),O=I&&I.$getDirectionForHighlight&&I.$getDirectionForHighlight(y),D=x.getMatchingBracketRanges(R,O);if(!D){var F=new f(x,R.row,R.column),W=F.getCurrentToken();if(W&&/\b(?:tag-open|tag-name)/.test(W.type)){var V=x.getMatchingTags(R);V&&(D=[V.openTagName,V.closeTagName])}}if(!D&&x.$mode.getMatching&&(D=x.$mode.getMatching(y.session)),!D){y.getHighlightIndentGuides()&&y.renderer.$textLayer.$highlightIndentGuide();return}var N="ace_bracket";Array.isArray(D)?D.length==1&&(N="ace_error_bracket"):D=[D],D.length==2&&(l.comparePoints(D[0].end,D[1].start)==0?D=[l.fromPoints(D[0].start,D[1].end)]:l.comparePoints(D[0].start,D[1].end)==0&&(D=[l.fromPoints(D[1].start,D[0].end)])),x.$bracketHighlight={ranges:D,markerIds:D.map(function(H){return x.addMarker(H,N,"text")})},y.getHighlightIndentGuides()&&y.renderer.$textLayer.$highlightIndentGuide()}},50)}},E.prototype.focus=function(){this.textInput.focus()},E.prototype.isFocused=function(){return this.textInput.isFocused()},E.prototype.blur=function(){this.textInput.blur()},E.prototype.onFocus=function(y){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",y))},E.prototype.onBlur=function(y){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",y))},E.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},E.prototype.onDocumentChange=function(y){var x=this.session.$useWrapMode,R=y.start.row==y.end.row?y.end.row:1/0;this.renderer.updateLines(y.start.row,R,x),this._signal("change",y),this.$cursorChange()},E.prototype.onTokenizerUpdate=function(y){var x=y.data;this.renderer.updateLines(x.first,x.last)},E.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},E.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},E.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},E.prototype.$updateHighlightActiveLine=function(){var y=this.getSession(),x;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(x=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(x=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(x=!1)),y.$highlightLineMarker&&!x)y.removeMarker(y.$highlightLineMarker.id),y.$highlightLineMarker=null;else if(!y.$highlightLineMarker&&x){var R=new l(x.row,x.column,x.row,1/0);R.id=y.addMarker(R,"ace_active-line","screenLine"),y.$highlightLineMarker=R}else x&&(y.$highlightLineMarker.start.row=x.row,y.$highlightLineMarker.end.row=x.row,y.$highlightLineMarker.start.column=x.column,y._signal("changeBackMarker"))},E.prototype.onSelectionChange=function(y){var x=this.session;if(x.$selectionMarker&&x.removeMarker(x.$selectionMarker),x.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var R=this.selection.getRange(),I=this.getSelectionStyle();x.$selectionMarker=x.addMarker(R,"ace_selection",I)}var O=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(O),this._signal("changeSelection")},E.prototype.$getSelectionHighLightRegexp=function(){var y=this.session,x=this.getSelectionRange();if(!(x.isEmpty()||x.isMultiLine())){var R=x.start.column,I=x.end.column,O=y.getLine(x.start.row),D=O.substring(R,I);if(!(D.length>5e3||!/[\w\d]/.test(D))){var F=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:D}),W=O.substring(R-1,I+1);if(F.test(W))return F}}},E.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},E.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},E.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},E.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},E.prototype.onChangeMode=function(y){this.renderer.updateText(),this._emit("changeMode",y)},E.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},E.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},E.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},E.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},E.prototype.getCopyText=function(){var y=this.getSelectedText(),x=this.session.doc.getNewLineCharacter(),R=!1;if(!y&&this.$copyWithEmptySelection){R=!0;for(var I=this.selection.getAllRanges(),O=0;O<I.length;O++){var D=I[O];O&&I[O-1].start.row==D.start.row||(y+=this.session.getLine(D.start.row)+x)}}var F={text:y};return this._signal("copy",F),T.lineMode=R?F.text:!1,F.text},E.prototype.onCopy=function(){this.commands.exec("copy",this)},E.prototype.onCut=function(){this.commands.exec("cut",this)},E.prototype.onPaste=function(y,x){var R={text:y,event:x};this.commands.exec("paste",this,R)},E.prototype.$handlePaste=function(y){typeof y=="string"&&(y={text:y}),this._signal("paste",y);var x=y.text,R=x===T.lineMode,I=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)R?I.insert({row:this.selection.lead.row,column:0},x):this.insert(x);else if(R)this.selection.rangeList.ranges.forEach(function(N){I.insert({row:N.start.row,column:0},x)});else{var O=x.split(/\r\n|\r|\n/),D=this.selection.rangeList.ranges,F=O.length==2&&(!O[0]||!O[1]);if(O.length!=D.length||F)return this.commands.exec("insertstring",this,x);for(var W=D.length;W--;){var V=D[W];V.isEmpty()||I.remove(V),I.insert(V.start,O[W])}}},E.prototype.execCommand=function(y,x){return this.commands.exec(y,this,x)},E.prototype.insert=function(y,x){var R=this.session,I=R.getMode(),O=this.getCursorPosition();if(this.getBehavioursEnabled()&&!x){var D=I.transformAction(R.getState(O.row),"insertion",this,R,y);D&&(y!==D.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),y=D.text)}if(y=="	"&&(y=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&y.indexOf(`
`)==-1){var F=new l.fromPoints(O,O);F.end.column+=y.length,this.session.remove(F)}}else{var F=this.getSelectionRange();O=this.session.remove(F),this.clearSelection()}if(y==`
`||y==`\r
`){var H=R.getLine(O.row);if(O.column>H.search(/\S|$/)){var W=H.substr(O.column).search(/\S|$/);R.doc.removeInLine(O.row,O.column,O.column+W)}}this.clearSelection();var V=O.column,N=R.getState(O.row),H=R.getLine(O.row),z=I.checkOutdent(N,H,y);if(R.insert(O,y),D&&D.selection&&(D.selection.length==2?this.selection.setSelectionRange(new l(O.row,V+D.selection[0],O.row,V+D.selection[1])):this.selection.setSelectionRange(new l(O.row+D.selection[0],D.selection[1],O.row+D.selection[2],D.selection[3]))),this.$enableAutoIndent){if(R.getDocument().isNewLine(y)){var U=I.getNextLineIndent(N,H.slice(0,O.column),R.getTabString());R.insert({row:O.row+1,column:0},U)}z&&I.autoOutdent(N,R,O.row)}},E.prototype.autoIndent=function(){var y=this.session,x=y.getMode(),R,I;if(this.selection.isEmpty())R=0,I=y.doc.getLength()-1;else{var O=this.getSelectionRange();R=O.start.row,I=O.end.row}for(var D="",F="",W="",V,N,H,z=y.getTabString(),U=R;U<=I;U++)U>0&&(D=y.getState(U-1),F=y.getLine(U-1),W=x.getNextLineIndent(D,F,z)),V=y.getLine(U),N=x.$getIndent(V),W!==N&&(N.length>0&&(H=new l(U,0,U,N.length),y.remove(H)),W.length>0&&y.insert({row:U,column:0},W)),x.autoOutdent(D,y,U)},E.prototype.onTextInput=function(y,x){if(!x)return this.keyBinding.onTextInput(y);this.startOperation({command:{name:"insertstring"}});var R=this.applyComposition.bind(this,y,x);this.selection.rangeCount?this.forEachSelection(R):R(),this.endOperation()},E.prototype.applyComposition=function(y,x){if(x.extendLeft||x.extendRight){var R=this.selection.getRange();R.start.column-=x.extendLeft,R.end.column+=x.extendRight,R.start.column<0&&(R.start.row--,R.start.column+=this.session.getLine(R.start.row).length+1),this.selection.setRange(R),!y&&!R.isEmpty()&&this.remove()}if((y||!this.selection.isEmpty())&&this.insert(y,!0),x.restoreStart||x.restoreEnd){var R=this.selection.getRange();R.start.column-=x.restoreStart,R.end.column-=x.restoreEnd,this.selection.setRange(R)}},E.prototype.onCommandKey=function(y,x,R){return this.keyBinding.onCommandKey(y,x,R)},E.prototype.setOverwrite=function(y){this.session.setOverwrite(y)},E.prototype.getOverwrite=function(){return this.session.getOverwrite()},E.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},E.prototype.setScrollSpeed=function(y){this.setOption("scrollSpeed",y)},E.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},E.prototype.setDragDelay=function(y){this.setOption("dragDelay",y)},E.prototype.getDragDelay=function(){return this.getOption("dragDelay")},E.prototype.setSelectionStyle=function(y){this.setOption("selectionStyle",y)},E.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},E.prototype.setHighlightActiveLine=function(y){this.setOption("highlightActiveLine",y)},E.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},E.prototype.setHighlightGutterLine=function(y){this.setOption("highlightGutterLine",y)},E.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},E.prototype.setHighlightSelectedWord=function(y){this.setOption("highlightSelectedWord",y)},E.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},E.prototype.setAnimatedScroll=function(y){this.renderer.setAnimatedScroll(y)},E.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},E.prototype.setShowInvisibles=function(y){this.renderer.setShowInvisibles(y)},E.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},E.prototype.setDisplayIndentGuides=function(y){this.renderer.setDisplayIndentGuides(y)},E.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},E.prototype.setHighlightIndentGuides=function(y){this.renderer.setHighlightIndentGuides(y)},E.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},E.prototype.setShowPrintMargin=function(y){this.renderer.setShowPrintMargin(y)},E.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},E.prototype.setPrintMarginColumn=function(y){this.renderer.setPrintMarginColumn(y)},E.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},E.prototype.setReadOnly=function(y){this.setOption("readOnly",y)},E.prototype.getReadOnly=function(){return this.getOption("readOnly")},E.prototype.setBehavioursEnabled=function(y){this.setOption("behavioursEnabled",y)},E.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},E.prototype.setWrapBehavioursEnabled=function(y){this.setOption("wrapBehavioursEnabled",y)},E.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},E.prototype.setShowFoldWidgets=function(y){this.setOption("showFoldWidgets",y)},E.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},E.prototype.setFadeFoldWidgets=function(y){this.setOption("fadeFoldWidgets",y)},E.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},E.prototype.remove=function(y){this.selection.isEmpty()&&(y=="left"?this.selection.selectLeft():this.selection.selectRight());var x=this.getSelectionRange();if(this.getBehavioursEnabled()){var R=this.session,I=R.getState(x.start.row),O=R.getMode().transformAction(I,"deletion",this,R,x);if(x.end.column===0){var D=R.getTextRange(x);if(D[D.length-1]==`
`){var F=R.getLine(x.end.row);/^\s+$/.test(F)&&(x.end.column=F.length)}}O&&(x=O)}this.session.remove(x),this.clearSelection()},E.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},E.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},E.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},E.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var y=this.getSelectionRange();y.start.column==y.end.column&&y.start.row==y.end.row&&(y.end.column=0,y.end.row++),this.session.remove(y),this.clearSelection()},E.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var y=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(y)},E.prototype.setGhostText=function(y,x){this.session.widgetManager||(this.session.widgetManager=new h(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(y,x)},E.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},E.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var y=this.getCursorPosition(),x=y.column;if(x!==0){var R=this.session.getLine(y.row),I,O;x<R.length?(I=R.charAt(x)+R.charAt(x-1),O=new l(y.row,x-1,y.row,x+1)):(I=R.charAt(x-1)+R.charAt(x-2),O=new l(y.row,x-2,y.row,x)),this.session.replace(O,I),this.session.selection.moveToPosition(O.end)}}},E.prototype.toLowerCase=function(){var y=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var x=this.getSelectionRange(),R=this.session.getTextRange(x);this.session.replace(x,R.toLowerCase()),this.selection.setSelectionRange(y)},E.prototype.toUpperCase=function(){var y=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var x=this.getSelectionRange(),R=this.session.getTextRange(x);this.session.replace(x,R.toUpperCase()),this.selection.setSelectionRange(y)},E.prototype.indent=function(){var y=this.session,x=this.getSelectionRange();if(x.start.row<x.end.row){var R=this.$getSelectedRows();y.indentRows(R.first,R.last,"	");return}else if(x.start.column<x.end.column){var I=y.getTextRange(x);if(!/^\s+$/.test(I)){var R=this.$getSelectedRows();y.indentRows(R.first,R.last,"	");return}}var O=y.getLine(x.start.row),D=x.start,F=y.getTabSize(),W=y.documentToScreenColumn(D.row,D.column);if(this.session.getUseSoftTabs())var V=F-W%F,N=s.stringRepeat(" ",V);else{for(var V=W%F;O[x.start.column-1]==" "&&V;)x.start.column--,V--;this.selection.setSelectionRange(x),N="	"}return this.insert(N)},E.prototype.blockIndent=function(){var y=this.$getSelectedRows();this.session.indentRows(y.first,y.last,"	")},E.prototype.blockOutdent=function(){var y=this.session.getSelection();this.session.outdentRows(y.getRange())},E.prototype.sortLines=function(){for(var y=this.$getSelectedRows(),x=this.session,R=[],I=y.first;I<=y.last;I++)R.push(x.getLine(I));R.sort(function(F,W){return F.toLowerCase()<W.toLowerCase()?-1:F.toLowerCase()>W.toLowerCase()?1:0});for(var O=new l(0,0,0,0),I=y.first;I<=y.last;I++){var D=x.getLine(I);O.start.row=I,O.end.row=I,O.end.column=D.length,x.replace(O,R[I-y.first])}},E.prototype.toggleCommentLines=function(){var y=this.session.getState(this.getCursorPosition().row),x=this.$getSelectedRows();this.session.getMode().toggleCommentLines(y,this.session,x.first,x.last)},E.prototype.toggleBlockComment=function(){var y=this.getCursorPosition(),x=this.session.getState(y.row),R=this.getSelectionRange();this.session.getMode().toggleBlockComment(x,this.session,R,y)},E.prototype.getNumberAt=function(y,x){var R=/[\-]?[0-9]+(?:\.[0-9]+)?/g;R.lastIndex=0;for(var I=this.session.getLine(y);R.lastIndex<x;){var O=R.exec(I);if(O.index<=x&&O.index+O[0].length>=x){var D={value:O[0],start:O.index,end:O.index+O[0].length};return D}}return null},E.prototype.modifyNumber=function(y){var x=this.selection.getCursor().row,R=this.selection.getCursor().column,I=new l(x,R-1,x,R),O=this.session.getTextRange(I);if(!isNaN(parseFloat(O))&&isFinite(O)){var D=this.getNumberAt(x,R);if(D){var F=D.value.indexOf(".")>=0?D.start+D.value.indexOf(".")+1:D.end,W=D.start+D.value.length-F,V=parseFloat(D.value);V*=Math.pow(10,W),F!==D.end&&R<F?y*=Math.pow(10,D.end-R-1):y*=Math.pow(10,D.end-R),V+=y,V/=Math.pow(10,W);var N=V.toFixed(W),H=new l(x,D.start,x,D.end);this.session.replace(H,N),this.moveCursorTo(x,Math.max(D.start+1,R+N.length-D.value.length))}}else this.toggleWord()},E.prototype.toggleWord=function(){var y=this.selection.getCursor().row,x=this.selection.getCursor().column;this.selection.selectWord();var R=this.getSelectedText(),I=this.selection.getWordRange().start.column,O=R.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),D=x-I-1;D<0&&(D=0);var F=0,W=0,V=this;R.match(/[A-Za-z0-9_]+/)&&O.forEach(function(te,oe){W=F+te.length,D>=F&&D<=W&&(R=te,V.selection.clearSelection(),V.moveCursorTo(y,F+I),V.selection.selectTo(y,W+I)),F=W});for(var N=this.$toggleWordPairs,H,z=0;z<N.length;z++)for(var U=N[z],j=0;j<=1;j++){var K=+!j,X=R.match(new RegExp("^\\s?_?("+s.escapeRegExp(U[j])+")\\s?$","i"));if(X){var Z=R.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(X[1])+")($|\\s)","g"));Z&&(H=R.replace(new RegExp(s.escapeRegExp(U[j]),"i"),function(te){var oe=U[K];return te.toUpperCase()==te?oe=oe.toUpperCase():te.charAt(0).toUpperCase()==te.charAt(0)&&(oe=oe.substr(0,0)+U[K].charAt(0).toUpperCase()+oe.substr(1)),oe}),this.insert(H),H="")}}},E.prototype.findLinkAt=function(y,x){var R,I,O=this.session.getLine(y),D=O.split(/((?:https?|ftp):\/\/[\S]+)/),F=x;F<0&&(F=0);var W=0,V=0,N;try{for(var H=d(D),z=H.next();!z.done;z=H.next()){var U=z.value;if(V=W+U.length,F>=W&&F<=V&&U.match(/((?:https?|ftp):\/\/[\S]+)/)){N=U.replace(/[\s:.,'";}\]]+$/,"");break}W=V}}catch(j){R={error:j}}finally{try{z&&!z.done&&(I=H.return)&&I.call(H)}finally{if(R)throw R.error}}return N},E.prototype.openLink=function(){var y=this.selection.getCursor(),x=this.findLinkAt(y.row,y.column);return x&&window.open(x,"_blank"),x!=null},E.prototype.removeLines=function(){var y=this.$getSelectedRows();this.session.removeFullLines(y.first,y.last),this.clearSelection()},E.prototype.duplicateSelection=function(){var y=this.selection,x=this.session,R=y.getRange(),I=y.isBackwards();if(R.isEmpty()){var O=R.start.row;x.duplicateLines(O,O)}else{var D=I?R.start:R.end,F=x.insert(D,x.getTextRange(R),!1);R.start=D,R.end=F,y.setSelectionRange(R,I)}},E.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},E.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},E.prototype.moveText=function(y,x,R){return this.session.moveText(y,x,R)},E.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},E.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},E.prototype.$moveLines=function(y,x){var R,I,O=this.selection;if(!O.inMultiSelectMode||this.inVirtualSelectionMode){var D=O.toOrientedRange();R=this.$getSelectedRows(D),I=this.session.$moveLines(R.first,R.last,x?0:y),x&&y==-1&&(I=0),D.moveBy(I,0),O.fromOrientedRange(D)}else{var F=O.rangeList.ranges;O.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var W=0,V=0,N=F.length,H=0;H<N;H++){var z=H;F[H].moveBy(W,0),R=this.$getSelectedRows(F[H]);for(var U=R.first,j=R.last;++H<N;){V&&F[H].moveBy(V,0);var K=this.$getSelectedRows(F[H]);if(x&&K.first!=j)break;if(!x&&K.first>j+1)break;j=K.last}for(H--,W=this.session.$moveLines(U,j,x?0:y),x&&y==-1&&(z=H+1);z<=H;)F[z].moveBy(W,0),z++;x||(W=0),V+=W}O.fromOrientedRange(O.ranges[0]),O.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},E.prototype.$getSelectedRows=function(y){return y=(y||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(y.start.row),last:this.session.getRowFoldEnd(y.end.row)}},E.prototype.onCompositionStart=function(y){this.renderer.showComposition(y)},E.prototype.onCompositionUpdate=function(y){this.renderer.setCompositionText(y)},E.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},E.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},E.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},E.prototype.isRowVisible=function(y){return y>=this.getFirstVisibleRow()&&y<=this.getLastVisibleRow()},E.prototype.isRowFullyVisible=function(y){return y>=this.renderer.getFirstFullyVisibleRow()&&y<=this.renderer.getLastFullyVisibleRow()},E.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},E.prototype.$moveByPage=function(y,x){var R=this.renderer,I=this.renderer.layerConfig,O=y*Math.floor(I.height/I.lineHeight);x===!0?this.selection.$moveSelection(function(){this.moveCursorBy(O,0)}):x===!1&&(this.selection.moveCursorBy(O,0),this.selection.clearSelection());var D=R.scrollTop;R.scrollBy(0,O*I.lineHeight),x!=null&&R.scrollCursorIntoView(null,.5),R.animateScrolling(D)},E.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},E.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},E.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},E.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},E.prototype.scrollPageDown=function(){this.$moveByPage(1)},E.prototype.scrollPageUp=function(){this.$moveByPage(-1)},E.prototype.scrollToRow=function(y){this.renderer.scrollToRow(y)},E.prototype.scrollToLine=function(y,x,R,I){this.renderer.scrollToLine(y,x,R,I)},E.prototype.centerSelection=function(){var y=this.getSelectionRange(),x={row:Math.floor(y.start.row+(y.end.row-y.start.row)/2),column:Math.floor(y.start.column+(y.end.column-y.start.column)/2)};this.renderer.alignCursor(x,.5)},E.prototype.getCursorPosition=function(){return this.selection.getCursor()},E.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},E.prototype.getSelectionRange=function(){return this.selection.getRange()},E.prototype.selectAll=function(){this.selection.selectAll()},E.prototype.clearSelection=function(){this.selection.clearSelection()},E.prototype.moveCursorTo=function(y,x){this.selection.moveCursorTo(y,x)},E.prototype.moveCursorToPosition=function(y){this.selection.moveCursorToPosition(y)},E.prototype.jumpToMatching=function(y,x){var R=this.getCursorPosition(),I=new f(this.session,R.row,R.column),O=I.getCurrentToken(),D=0;O&&O.type.indexOf("tag-name")!==-1&&(O=I.stepBackward());var F=O||I.stepForward();if(F){var W,V=!1,N={},H=R.column-F.start,z,U={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(F.value.match(/[{}()\[\]]/g)){for(;H<F.value.length&&!V;H++)if(U[F.value[H]])switch(z=U[F.value[H]]+"."+F.type.replace("rparen","lparen"),isNaN(N[z])&&(N[z]=0),F.value[H]){case"(":case"[":case"{":N[z]++;break;case")":case"]":case"}":N[z]--,N[z]===-1&&(W="bracket",V=!0);break}}else F.type.indexOf("tag-name")!==-1&&(isNaN(N[F.value])&&(N[F.value]=0),O.value==="<"&&D>1?N[F.value]++:O.value==="</"&&N[F.value]--,N[F.value]===-1&&(W="tag",V=!0));V||(O=F,D++,F=I.stepForward(),H=0)}while(F&&!V);if(W){var j,K;if(W==="bracket")j=this.session.getBracketRange(R),j||(j=new l(I.getCurrentTokenRow(),I.getCurrentTokenColumn()+H-1,I.getCurrentTokenRow(),I.getCurrentTokenColumn()+H-1),K=j.start,(x||K.row===R.row&&Math.abs(K.column-R.column)<2)&&(j=this.session.getBracketRange(K)));else if(W==="tag"){if(!F||F.type.indexOf("tag-name")===-1)return;if(j=new l(I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2,I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2),j.compare(R.row,R.column)===0){var X=this.session.getMatchingTags(R);X&&(X.openTag.contains(R.row,R.column)?(j=X.closeTag,K=j.start):(j=X.openTag,X.closeTag.start.row===R.row&&X.closeTag.start.column===R.column?K=j.end:K=j.start))}K=K||j.start}K=j&&j.cursor||K,K&&(y?j&&x?this.selection.setRange(j):j&&j.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(K.row,K.column):this.selection.moveTo(K.row,K.column))}}},E.prototype.gotoLine=function(y,x,R){this.selection.clearSelection(),this.session.unfold({row:y-1,column:x||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(y-1,x||0),this.isRowFullyVisible(y-1)||this.scrollToLine(y-1,!0,R)},E.prototype.navigateTo=function(y,x){this.selection.moveTo(y,x)},E.prototype.navigateUp=function(y){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var x=this.selection.anchor.getPosition();return this.moveCursorToPosition(x)}this.selection.clearSelection(),this.selection.moveCursorBy(-y||-1,0)},E.prototype.navigateDown=function(y){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var x=this.selection.anchor.getPosition();return this.moveCursorToPosition(x)}this.selection.clearSelection(),this.selection.moveCursorBy(y||1,0)},E.prototype.navigateLeft=function(y){if(this.selection.isEmpty())for(y=y||1;y--;)this.selection.moveCursorLeft();else{var x=this.getSelectionRange().start;this.moveCursorToPosition(x)}this.clearSelection()},E.prototype.navigateRight=function(y){if(this.selection.isEmpty())for(y=y||1;y--;)this.selection.moveCursorRight();else{var x=this.getSelectionRange().end;this.moveCursorToPosition(x)}this.clearSelection()},E.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},E.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},E.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},E.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},E.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},E.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},E.prototype.replace=function(y,x){x&&this.$search.set(x);var R=this.$search.find(this.session),I=0;return R&&(this.$tryReplace(R,y)&&(I=1),this.selection.setSelectionRange(R),this.renderer.scrollSelectionIntoView(R.start,R.end)),I},E.prototype.replaceAll=function(y,x){x&&this.$search.set(x);var R=this.$search.findAll(this.session),I=0;if(!R.length)return I;var O=this.getSelectionRange();this.selection.moveTo(0,0);for(var D=R.length-1;D>=0;--D)this.$tryReplace(R[D],y)&&I++;return this.selection.setSelectionRange(O),I},E.prototype.$tryReplace=function(y,x){var R=this.session.getTextRange(y);return x=this.$search.replace(R,x),x!==null?(y.end=this.session.replace(y,x),y):null},E.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},E.prototype.find=function(y,x,R){x||(x={}),typeof y=="string"||y instanceof RegExp?x.needle=y:typeof y=="object"&&S.mixin(x,y);var I=this.selection.getRange();x.needle==null&&(y=this.session.getTextRange(I)||this.$search.$options.needle,y||(I=this.session.getWordRange(I.start.row,I.start.column),y=this.session.getTextRange(I)),this.$search.set({needle:y})),this.$search.set(x),x.start||this.$search.set({start:I});var O=this.$search.find(this.session);if(x.preventScroll)return O;if(O)return this.revealRange(O,R),O;x.backwards?I.start=I.end:I.end=I.start,this.selection.setRange(I)},E.prototype.findNext=function(y,x){this.find({skipCurrent:!0,backwards:!1},y,x)},E.prototype.findPrevious=function(y,x){this.find(y,{skipCurrent:!0,backwards:!0},x)},E.prototype.revealRange=function(y,x){this.session.unfold(y),this.selection.setSelectionRange(y);var R=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(y.start,y.end,.5),x!==!1&&this.renderer.animateScrolling(R)},E.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},E.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},E.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(y){y.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},E.prototype.setAutoScrollEditorIntoView=function(y){if(y){var x,R=this,I=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var O=this.$scrollAnchor;O.style.cssText="position:absolute",this.container.insertBefore(O,this.container.firstChild);var D=this.on("changeSelection",function(){I=!0}),F=this.renderer.on("beforeRender",function(){I&&(x=R.renderer.container.getBoundingClientRect())}),W=this.renderer.on("afterRender",function(){if(I&&x&&(R.isFocused()||R.searchBox&&R.searchBox.isFocused())){var V=R.renderer,N=V.$cursorLayer.$pixelPos,H=V.layerConfig,z=N.top-H.offset;N.top>=0&&z+x.top<0?I=!0:N.top<H.height&&N.top+x.top+H.lineHeight>window.innerHeight?I=!1:I=null,I!=null&&(O.style.top=z+"px",O.style.left=N.left+"px",O.style.height=H.lineHeight+"px",O.scrollIntoView(I)),I=x=null}});this.setAutoScrollEditorIntoView=function(V){V||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",D),this.renderer.off("afterRender",W),this.renderer.off("beforeRender",F))}}},E.prototype.$resetCursorStyle=function(){var y=this.$cursorStyle||"ace",x=this.renderer.$cursorLayer;x&&(x.setSmoothBlinking(/smooth/.test(y)),x.isBlinking=!this.$readOnly&&y!="wide",w.setCssClass(x.element,"ace_slim-cursors",/slim/.test(y)))},E.prototype.prompt=function(y,x,R){var I=this;A.loadModule("ace/ext/prompt",function(O){O.prompt(I,y,x,R)})},E}();g.$uid=0,g.prototype.curOp=null,g.prototype.prevOp={},g.prototype.$mergeableCommands=["backspace","del","insertstring"],g.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],S.implement(g.prototype,m),A.defineOptions(g.prototype,"editor",{selectionStyle:{set:function(E){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:E})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(E){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(E){this.textInput.setReadOnly(E),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(E){this.textInput.setCopyWithEmptySelection(E)},initialValue:!1},cursorStyle:{set:function(E){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(E){this.setAutoScrollEditorIntoView(E)}},keyboardHandler:{set:function(E){this.setKeyboardHandler(E)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(E){this.session.setValue(E)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(E){this.setSession(E)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(E){this.renderer.$gutterLayer.setShowLineNumbers(E),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),E&&this.$relativeLineNumbers?M.attach(this):M.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(E){this.$showLineNumbers&&E?M.attach(this):M.detach(this)}},placeholder:{set:function(E){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var y=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(y&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),w.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!y&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),w.addCssClass(this.container,"ace_hasPlaceholder");var x=w.createElement("div");x.className="ace_placeholder",x.textContent=this.$placeholder||"",this.renderer.placeholderNode=x,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!y&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(E){var y={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(I){I.blur(),I.renderer.scroller.focus()},readOnly:!0},x=function(I){if(I.target==this.renderer.scroller&&I.keyCode===b.enter){I.preventDefault();var O=this.getCursorPosition().row;this.isRowVisible(O)||this.scrollToLine(O,!0,!0),this.focus()}},R;E?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",$("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",$("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",x.bind(this)),this.commands.addCommand(y),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",$("editor")),this.renderer.$gutter.setAttribute("aria-label",$("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),R||(R=new C(this)),R.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",x.bind(this)),this.commands.removeCommand(y),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),R&&R.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var M={getText:function(E,y){return(Math.abs(E.selection.lead.row-y)||y+1+(y<9?"":""))+""},getWidth:function(E,y,x){return Math.max(y.toString().length,(x.lastRow+1).toString().length,2)*x.characterWidth},update:function(E,y){y.renderer.$loop.schedule(y.renderer.CHANGE_GUTTER)},attach:function(E){E.renderer.$gutterLayer.$renderer=this,E.on("changeSelection",this.update),this.update(null,E)},detach:function(E){E.renderer.$gutterLayer.$renderer==this&&(E.renderer.$gutterLayer.$renderer=null),E.off("changeSelection",this.update),this.update(null,E)}};p.Editor=g}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(c,p,k){var d=function(){function f(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return f.prototype.addSession=function(h){this.$session=h},f.prototype.add=function(h,C,$){if(!this.$fromUndo&&h!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),C===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),h.id=this.$rev=++this.$maxRev}(h.action=="remove"||h.action=="insert")&&(this.$lastDelta=h),this.lastDeltas.push(h)}},f.prototype.addSelection=function(h,C){this.selections.push({value:h,rev:C||this.$rev})},f.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},f.prototype.markIgnored=function(h,C){C==null&&(C=this.$rev+1);for(var $=this.$undoStack,T=$.length;T--;){var b=$[T][0];if(b.id<=h)break;b.id<C&&(b.ignore=!0)}this.lastDeltas=null},f.prototype.getSelection=function(h,C){for(var $=this.selections,T=$.length;T--;){var b=$[T];if(b.rev<h)return C&&(b=$[T+1]),b}},f.prototype.getRevision=function(){return this.$rev},f.prototype.getDeltas=function(h,C){C==null&&(C=this.$rev+1);for(var $=this.$undoStack,T=null,b=0,g=$.length;g--;){var M=$[g][0];if(M.id<C&&!T&&(T=g+1),M.id<=h){b=g+1;break}}return $.slice(b,T)},f.prototype.getChangedRanges=function(h,C){C==null&&(C=this.$rev+1)},f.prototype.getChangedLines=function(h,C){C==null&&(C=this.$rev+1)},f.prototype.undo=function(h,C){this.lastDeltas=null;var $=this.$undoStack;if(S($,$.length)){h||(h=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=$.pop(),b=null;return T&&(b=h.undoChanges(T,C),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,b}},f.prototype.redo=function(h,C){if(this.lastDeltas=null,h||(h=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var $=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);A(this.$redoStack,$),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(g){g[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),b=null;return T&&(b=h.redoChanges(T,C),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,b},f.prototype.$syncRev=function(){var h=this.$undoStack,C=h[h.length-1],$=C&&C[0].id||0;this.$redoStackBaseRev=$,this.$rev=$},f.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},f.prototype.canUndo=function(){return this.$undoStack.length>0},f.prototype.canRedo=function(){return this.$redoStack.length>0},f.prototype.bookmark=function(h){h==null&&(h=this.$rev),this.mark=h},f.prototype.isAtBookmark=function(){return this.$rev===this.mark},f.prototype.toJSON=function(){},f.prototype.fromJSON=function(){},f.prototype.$prettyPrint=function(h){return h?e(h):e(this.$undoStack)+`
---
`+e(this.$redoStack)},f}();d.prototype.hasUndo=d.prototype.canUndo,d.prototype.hasRedo=d.prototype.canRedo,d.prototype.isClean=d.prototype.isAtBookmark,d.prototype.markClean=d.prototype.bookmark;function S(f,h){for(var C=h;C--;){var $=f[C];if($&&!$[0].ignore){for(;C<h-1;){var T=r(f[C],f[C+1]);f[C]=T[0],f[C+1]=T[1],C++}return!0}}}var w=c("./range").Range,s=w.comparePoints;w.comparePoints;function a(f){return{row:f.row,column:f.column}}function t(f){return{start:a(f.start),end:a(f.end),action:f.action,lines:f.lines.slice()}}function e(f){if(f=f||this,Array.isArray(f))return f.map(e).join(`
`);var h="";return f.action?(h=f.action=="insert"?"+":"-",h+="["+f.lines+"]"):f.value&&(Array.isArray(f.value)?h=f.value.map(n).join(`
`):h=n(f.value)),f.start&&(h+=n(f)),(f.id||f.rev)&&(h+="	("+(f.id||f.rev)+")"),h}function n(f){return f.start.row+":"+f.start.column+"=>"+f.end.row+":"+f.end.column}function i(f,h){var C=f.action=="insert",$=h.action=="insert";if(C&&$)if(s(h.start,f.end)>=0)l(h,f,-1);else if(s(h.start,f.start)<=0)l(f,h,1);else return null;else if(C&&!$)if(s(h.start,f.end)>=0)l(h,f,-1);else if(s(h.end,f.start)<=0)l(f,h,-1);else return null;else if(!C&&$)if(s(h.start,f.start)>=0)l(h,f,1);else if(s(h.start,f.start)<=0)l(f,h,1);else return null;else if(!C&&!$)if(s(h.start,f.start)>=0)l(h,f,1);else if(s(h.end,f.start)<=0)l(f,h,-1);else return null;return[h,f]}function r(f,h){for(var C=f.length;C--;)for(var $=0;$<h.length;$++)if(!i(f[C],h[$])){for(;C<f.length;){for(;$--;)i(h[$],f[C]);$=h.length,C++}return[f,h]}return f.selectionBefore=h.selectionBefore=f.selectionAfter=h.selectionAfter=null,[h,f]}function o(f,h){var C=f.action=="insert",$=h.action=="insert";if(C&&$)s(f.start,h.start)<0?l(h,f,1):l(f,h,1);else if(C&&!$)s(f.start,h.end)>=0?l(f,h,-1):(s(f.start,h.start)<=0||l(f,w.fromPoints(h.start,f.start),-1),l(h,f,1));else if(!C&&$)s(h.start,f.end)>=0?l(h,f,-1):(s(h.start,f.start)<=0||l(h,w.fromPoints(f.start,h.start),-1),l(f,h,1));else if(!C&&!$)if(s(h.start,f.end)>=0)l(h,f,-1);else if(s(h.end,f.start)<=0)l(f,h,-1);else{var T,b;return s(f.start,h.start)<0&&(T=f,f=u(f,h.start)),s(f.end,h.end)>0&&(b=u(f,h.end)),m(h.end,f.start,f.end,-1),b&&!T&&(f.lines=b.lines,f.start=b.start,f.end=b.end,b=f),[h,T,b].filter(Boolean)}return[h,f]}function l(f,h,C){m(f.start,h.start,h.end,C),m(f.end,h.start,h.end,C)}function m(f,h,C,$){f.row==($==1?h:C).row&&(f.column+=$*(C.column-h.column)),f.row+=$*(C.row-h.row)}function u(f,h){var C=f.lines,$=f.end;f.end=a(h);var T=f.end.row-f.start.row,b=C.splice(T,C.length),g=T?h.column:h.column-f.start.column;C.push(b[0].substring(0,g)),b[0]=b[0].substr(g);var M={start:a(h),end:$,lines:b,action:f.action};return M}function _(f,h){h=t(h);for(var C=f.length;C--;){for(var $=f[C],T=0;T<$.length;T++){var b=$[T],g=o(b,h);h=g[0],g.length!=2&&(g[2]?($.splice(T+1,1,g[1],g[2]),T++):g[1]||($.splice(T,1),T--))}$.length||f.splice(C,1)}return f}function A(f,h){for(var C=0;C<h.length;C++)for(var $=h[C],T=0;T<$.length;T++)_(f,$[T])}p.UndoManager=d}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(c,p,k){var d=c("../lib/dom"),S=function(){function w(s,a){this.element=s,this.canvasHeight=a||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return w.prototype.moveContainer=function(s){d.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},w.prototype.pageChanged=function(s,a){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)},w.prototype.computeLineTop=function(s,a,t){var e=a.firstRowScreen*a.lineHeight,n=Math.floor(e/this.canvasHeight),i=t.documentToScreenRow(s,0)*a.lineHeight;return i-n*this.canvasHeight},w.prototype.computeLineHeight=function(s,a,t){return a.lineHeight*t.getRowLineCount(s)},w.prototype.getLength=function(){return this.cells.length},w.prototype.get=function(s){return this.cells[s]},w.prototype.shift=function(){this.$cacheCell(this.cells.shift())},w.prototype.pop=function(){this.$cacheCell(this.cells.pop())},w.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var a=d.createFragment(this.element),t=0;t<s.length;t++)a.appendChild(s[t].element);this.element.appendChild(a)}else this.cells.push(s),this.element.appendChild(s.element)},w.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var a=d.createFragment(this.element),t=0;t<s.length;t++)a.appendChild(s[t].element);this.element.firstChild?this.element.insertBefore(a,this.element.firstChild):this.element.appendChild(a)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},w.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},w.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},w.prototype.createCell=function(s,a,t,e){var n=this.cellCache.pop();if(!n){var i=d.createElement("div");e&&e(i),this.element.appendChild(i),n={element:i,text:"",row:s}}return n.row=s,n},w}();p.Lines=S}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(c,p,k){var d=c("../lib/dom"),S=c("../lib/oop"),w=c("../lib/lang"),s=c("../lib/event_emitter").EventEmitter,a=c("./lines").Lines,t=c("../config").nls,e=function(){function i(r){this.element=d.createElement("div"),this.element.className="ace_layer ace_gutter-layer",r.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return i.prototype.setSession=function(r){this.session&&this.session.off("change",this.$updateAnnotations),this.session=r,r&&r.on("change",this.$updateAnnotations)},i.prototype.addGutterDecoration=function(r,o){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(r,o)},i.prototype.removeGutterDecoration=function(r,o){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(r,o)},i.prototype.setAnnotations=function(r){this.$annotations=[];for(var o=0;o<r.length;o++){var l=r[o],m=l.row,u=this.$annotations[m];u||(u=this.$annotations[m]={text:[],type:[]});var _=l.text,A=l.type;_=_?w.escapeHTML(_):l.html||"",u.text.indexOf(_)===-1&&(u.text.push(_),u.type.push(A));var f=l.className;f?u.className=f:A=="error"?u.className=" ace_error":A=="warning"&&u.className!=" ace_error"?u.className=" ace_warning":A=="info"&&!u.className&&(u.className=" ace_info")}},i.prototype.$updateAnnotations=function(r){if(this.$annotations.length){var o=r.start.row,l=r.end.row-o;if(l!==0)if(r.action=="remove")this.$annotations.splice(o,l+1,null);else{var m=new Array(l+1);m.unshift(o,1),this.$annotations.splice.apply(this.$annotations,m)}}},i.prototype.update=function(r){this.config=r;var o=this.session,l=r.firstRow,m=Math.min(r.lastRow+r.gutterOffset,o.getLength()-1);this.oldLastRow=m,this.config=r,this.$lines.moveContainer(r),this.$updateCursorRow();for(var u=o.getNextFoldLine(l),_=u?u.start.row:1/0,A=null,f=-1,h=l;;){if(h>_&&(h=u.end.row+1,u=o.getNextFoldLine(h,u),_=u?u.start.row:1/0),h>m){for(;this.$lines.getLength()>f+1;)this.$lines.pop();break}A=this.$lines.get(++f),A?A.row=h:(A=this.$lines.createCell(h,r,this.session,n),this.$lines.push(A)),this.$renderCell(A,r,u,h),h++}this._signal("afterRender"),this.$updateGutterWidth(r)},i.prototype.$updateGutterWidth=function(r){var o=this.session,l=o.gutterRenderer||this.$renderer,m=o.$firstLineNumber,u=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||o.$useWrapMode)&&(u=o.getLength()+m-1);var _=l?l.getWidth(o,u,r):u.toString().length*r.characterWidth,A=this.$padding||this.$computePadding();_+=A.left+A.right,_!==this.gutterWidth&&!isNaN(_)&&(this.gutterWidth=_,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",_))},i.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var r=this.session.selection.getCursor();this.$cursorRow!==r.row&&(this.$cursorRow=r.row)}},i.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var r=this.session.selection.cursor.row;if(this.$cursorRow=r,!(this.$cursorCell&&this.$cursorCell.row==r)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var o=this.$lines.cells;this.$cursorCell=null;for(var l=0;l<o.length;l++){var m=o[l];if(m.row>=this.$cursorRow){if(m.row>this.$cursorRow){var u=this.session.getFoldLine(this.$cursorRow);if(l>0&&u&&u.start.row==o[l-1].row)m=o[l-1];else break}m.element.className="ace_gutter-active-line "+m.element.className,this.$cursorCell=m;break}}}}},i.prototype.scrollLines=function(r){var o=this.config;if(this.config=r,this.$updateCursorRow(),this.$lines.pageChanged(o,r))return this.update(r);this.$lines.moveContainer(r);var l=Math.min(r.lastRow+r.gutterOffset,this.session.getLength()-1),m=this.oldLastRow;if(this.oldLastRow=l,!o||m<r.firstRow)return this.update(r);if(l<o.firstRow)return this.update(r);if(o.firstRow<r.firstRow)for(var u=this.session.getFoldedRowCount(o.firstRow,r.firstRow-1);u>0;u--)this.$lines.shift();if(m>l)for(var u=this.session.getFoldedRowCount(l+1,m);u>0;u--)this.$lines.pop();r.firstRow<o.firstRow&&this.$lines.unshift(this.$renderLines(r,r.firstRow,o.firstRow-1)),l>m&&this.$lines.push(this.$renderLines(r,m+1,l)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(r)},i.prototype.$renderLines=function(r,o,l){for(var m=[],u=o,_=this.session.getNextFoldLine(u),A=_?_.start.row:1/0;u>A&&(u=_.end.row+1,_=this.session.getNextFoldLine(u,_),A=_?_.start.row:1/0),!(u>l);){var f=this.$lines.createCell(u,r,this.session,n);this.$renderCell(f,r,_,u),m.push(f),u++}return m},i.prototype.$renderCell=function(r,o,l,m){var u=r.element,_=this.session,A=u.childNodes[0],f=u.childNodes[1],h=u.childNodes[2],C=h.firstChild,$=_.$firstLineNumber,T=_.$breakpoints,b=_.$decorations,g=_.gutterRenderer||this.$renderer,M=this.$showFoldWidgets&&_.foldWidgets,E=l?l.start.row:Number.MAX_VALUE,y=o.lineHeight+"px",x=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",R=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",I=(g?g.getText(_,m):m+$).toString();if(this.$highlightGutterLine&&(m==this.$cursorRow||l&&m<this.$cursorRow&&m>=E&&this.$cursorRow<=l.end.row)&&(x+="ace_gutter-active-line ",this.$cursorCell!=r&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=r)),T[m]&&(x+=T[m]),b[m]&&(x+=b[m]),this.$annotations[m]&&m!==E&&(x+=this.$annotations[m].className),u.className!=x&&(u.className=x),M){var O=M[m];O==null&&(O=M[m]=_.getFoldWidget(m))}if(O){var x="ace_fold-widget ace_"+O;if(O=="start"&&m==E&&m<l.end.row){x+=" ace_closed";for(var D,F=!1,W=m+1;W<=l.end.row;W++)if(this.$annotations[W]){if(this.$annotations[W].className===" ace_error"){F=!0,D=" ace_error_fold";break}if(this.$annotations[W].className===" ace_warning"){F=!0,D=" ace_warning_fold";continue}}u.className+=D}else x+=" ace_open";f.className!=x&&(f.className=x),d.setStyle(f.style,"height",y),d.setStyle(f.style,"display","inline-block"),f.setAttribute("role","button"),f.setAttribute("tabindex","-1");var l=_.getFoldLine(I-1);l?(f.setAttribute("aria-label",t("Unfold rows $0 to $1",[I,l.end.row+1])),f.setAttribute("title",t("Unfold code"))):(f.setAttribute("aria-label",t("Fold at row $0",[I])),f.setAttribute("title",t("Fold code")))}else f&&(d.setStyle(f.style,"display","none"),f.setAttribute("tabindex","0"),f.removeAttribute("role"),f.removeAttribute("aria-label"));return F&&this.$showFoldedAnnotations?(h.className="ace_gutter_annotation",C.className=R,C.className+=D,d.setStyle(C.style,"height",y),d.setStyle(h.style,"display","block"),d.setStyle(h.style,"height",y),h.setAttribute("aria-label",t("Read annotations row $0",[I])),h.setAttribute("tabindex","-1")):this.$annotations[m]?(h.className="ace_gutter_annotation",C.className=R,this.$useSvgGutterIcons?C.className+=this.$annotations[m].className:u.classList.add(this.$annotations[m].className.replace(" ","")),d.setStyle(C.style,"height",y),d.setStyle(h.style,"display","block"),d.setStyle(h.style,"height",y),h.setAttribute("aria-label",t("Read annotations row $0",[I])),h.setAttribute("tabindex","-1")):(d.setStyle(h.style,"display","none"),h.removeAttribute("aria-label"),h.setAttribute("tabindex","0")),I!==A.data&&(A.data=I),d.setStyle(r.element.style,"height",this.$lines.computeLineHeight(m,o,_)+"px"),d.setStyle(r.element.style,"top",this.$lines.computeLineTop(m,o,_)+"px"),r.text=I,h.style.display==="none"&&f.style.display==="none"?r.element.setAttribute("aria-hidden",!0):r.element.setAttribute("aria-hidden",!1),r},i.prototype.setHighlightGutterLine=function(r){this.$highlightGutterLine=r},i.prototype.setShowLineNumbers=function(r){this.$renderer=!r&&{getWidth:function(){return 0},getText:function(){return""}}},i.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},i.prototype.setShowFoldWidgets=function(r){r?d.addCssClass(this.element,"ace_folding-enabled"):d.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=r,this.$padding=null},i.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},i.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var r=d.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(r.borderLeftWidth)||0)+(parseInt(r.paddingLeft)||0)+1,this.$padding.right=(parseInt(r.borderRightWidth)||0)+(parseInt(r.paddingRight)||0),this.$padding},i.prototype.getRegion=function(r){var o=this.$padding||this.$computePadding(),l=this.element.getBoundingClientRect();if(r.x<o.left+l.left)return"markers";if(this.$showFoldWidgets&&r.x>l.right-o.right)return"foldWidgets"},i}();e.prototype.$fixedWidth=!1,e.prototype.$highlightGutterLine=!0,e.prototype.$renderer="",e.prototype.$showLineNumbers=!0,e.prototype.$showFoldWidgets=!0,S.implement(e.prototype,s);function n(i){var r=document.createTextNode("");i.appendChild(r);var o=d.createElement("span");i.appendChild(o);var l=d.createElement("span");i.appendChild(l);var m=d.createElement("span");return l.appendChild(m),i}p.Gutter=e}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(c,p,k){var d=c("../range").Range,S=c("../lib/dom"),w=function(){function a(t){this.element=S.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)}return a.prototype.setPadding=function(t){this.$padding=t},a.prototype.setSession=function(t){this.session=t},a.prototype.setMarkers=function(t){this.markers=t},a.prototype.elt=function(t,e){var n=this.i!=-1&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=e,n.className=t},a.prototype.update=function(t){if(t){this.config=t,this.i=0;var e;for(var n in this.markers){var i=this.markers[n];if(!i.range){i.update(e,this,this.session,t);continue}var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,t),l=this.$padding+r.start.column*t.characterWidth;i.renderer(e,r,l,o,t)}else i.type=="fullLine"?this.drawFullLineMarker(e,r,i.clazz,t):i.type=="screenLine"?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?i.type=="text"?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},a.prototype.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},a.prototype.drawTextMarker=function(t,e,n,i,r){for(var o=this.session,l=e.start.row,m=e.end.row,u=l,_=0,A=0,f=o.getScreenLastRowColumn(u),h=new d(u,e.start.column,u,A);u<=m;u++)h.start.row=h.end.row=u,h.start.column=u==l?e.start.column:o.getRowWrapIndent(u),h.end.column=f,_=A,A=f,f=u+1<m?o.getScreenLastRowColumn(u+1):u==m?0:e.end.column,this.drawSingleLineMarker(t,h,n+(u==l?" ace_start":"")+" ace_br"+s(u==l||u==l+1&&e.start.column,_<A,A>f,u==m),i,u==m?0:1,r)},a.prototype.drawMultiLineMarker=function(t,e,n,i,r){var o=this.$padding,l=i.lineHeight,m=this.$getTop(e.start.row,i),u=o+e.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row)){var _=e.clone();_.end.row=_.start.row,_.end.column=this.session.getLine(_.start.row).length,this.drawBidiSingleLineMarker(t,_,n+" ace_br1 ace_start",i,null,r)}else this.elt(n+" ace_br1 ace_start","height:"+l+"px;right:0;top:"+m+"px;left:"+u+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(e.end.row)){var _=e.clone();_.start.row=_.end.row,_.start.column=0,this.drawBidiSingleLineMarker(t,_,n+" ace_br12",i,null,r)}else{m=this.$getTop(e.end.row,i);var A=e.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+l+"px;width:"+A+"px;top:"+m+"px;left:"+o+"px;"+(r||""))}if(l=(e.end.row-e.start.row-1)*i.lineHeight,!(l<=0)){m=this.$getTop(e.start.row+1,i);var f=(e.start.column?1:0)|(e.end.column?0:8);this.elt(n+(f?" ace_br"+f:""),"height:"+l+"px;right:0;top:"+m+"px;left:"+o+"px;"+(r||""))}},a.prototype.drawSingleLineMarker=function(t,e,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(e.start.row))return this.drawBidiSingleLineMarker(t,e,n,i,r,o);var l=i.lineHeight,m=(e.end.column+(r||0)-e.start.column)*i.characterWidth,u=this.$getTop(e.start.row,i),_=this.$padding+e.start.column*i.characterWidth;this.elt(n,"height:"+l+"px;width:"+m+"px;top:"+u+"px;left:"+_+"px;"+(o||""))},a.prototype.drawBidiSingleLineMarker=function(t,e,n,i,r,o){var l=i.lineHeight,m=this.$getTop(e.start.row,i),u=this.$padding,_=this.session.$bidiHandler.getSelections(e.start.column,e.end.column);_.forEach(function(A){this.elt(n,"height:"+l+"px;width:"+(A.width+(r||0))+"px;top:"+m+"px;left:"+(u+A.left)+"px;"+(o||""))},this)},a.prototype.drawFullLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),l=i.lineHeight;e.start.row!=e.end.row&&(l+=this.$getTop(e.end.row,i)-o),this.elt(n,"height:"+l+"px;top:"+o+"px;left:0;right:0;"+(r||""))},a.prototype.drawScreenLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),l=i.lineHeight;this.elt(n,"height:"+l+"px;top:"+o+"px;left:0;right:0;"+(r||""))},a}();w.prototype.$padding=0;function s(a,t,e,n){return(a?1:0)|(t?2:0)|(e?4:0)|(n?8:0)}p.Marker=w}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(c,p,k){var d=c("../lib/oop"),S=c("../lib/dom"),w=c("../lib/lang"),s=c("./lines").Lines,a=c("../lib/event_emitter").EventEmitter,t=function(){function e(n){this.dom=S,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",n.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return e.prototype.$updateEolChar=function(){var n=this.session.doc,i=n.getNewLineCharacter()==`
`&&n.getNewLineMode()!="windows",r=i?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=r)return this.EOL_CHAR=r,!0},e.prototype.setPadding=function(n){this.$padding=n,this.element.style.margin="0 "+n+"px"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(n){this.$fontMetrics=n,this.$fontMetrics.on("changeCharacterSize",function(i){this._signal("changeCharacterSize",i)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(n){this.session=n,n&&this.$computeTabString()},e.prototype.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,typeof n=="string"?(this.showSpaces=/tab/i.test(n),this.showTabs=/space/i.test(n),this.showEOL=/eol/i.test(n)):this.showSpaces=this.showTabs=this.showEOL=n,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(n){return this.$highlightIndentGuides===n?!1:(this.$highlightIndentGuides=n,n)},e.prototype.$computeTabString=function(){var n=this.session.getTabSize();this.tabSize=n;for(var i=this.$tabStrings=[0],r=1;r<n+1;r++)if(this.showTabs){var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_tab",o.textContent=w.stringRepeat(this.TAB_CHAR,r),i.push(o)}else i.push(this.dom.createTextNode(w.stringRepeat(" ",r),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var l="ace_indent-guide",m=this.showSpaces?" ace_invisible ace_invisible_space":"",u=this.showSpaces?w.stringRepeat(this.SPACE_CHAR,this.tabSize):w.stringRepeat(" ",this.tabSize),_=this.showTabs?" ace_invisible ace_invisible_tab":"",A=this.showTabs?w.stringRepeat(this.TAB_CHAR,this.tabSize):u,o=this.dom.createElement("span");o.className=l+m,o.textContent=u,this.$tabStrings[" "]=o;var o=this.dom.createElement("span");o.className=l+_,o.textContent=A,this.$tabStrings["	"]=o}},e.prototype.updateLines=function(n,i,r){if(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)return this.update(n);this.config=n;for(var o=Math.max(i,n.firstRow),l=Math.min(r,n.lastRow),m=this.element.childNodes,u=0,A=n.firstRow;A<o;A++){var f=this.session.getFoldLine(A);if(f)if(f.containsRow(o)){o=f.start.row;break}else A=f.end.row;u++}for(var _=!1,A=o,f=this.session.getNextFoldLine(A),h=f?f.start.row:1/0;A>h&&(A=f.end.row+1,f=this.session.getNextFoldLine(A,f),h=f?f.start.row:1/0),!(A>l);){var C=m[u++];if(C){this.dom.removeChildren(C),this.$renderLine(C,A,A==h?f:!1),_&&(C.style.top=this.$lines.computeLineTop(A,n,this.session)+"px");var $=n.lineHeight*this.session.getRowLength(A)+"px";C.style.height!=$&&(_=!0,C.style.height=$)}A++}if(_)for(;u<this.$lines.cells.length;){var T=this.$lines.cells[u++];T.element.style.top=this.$lines.computeLineTop(T.row,n,this.session)+"px"}},e.prototype.scrollLines=function(n){var i=this.config;if(this.config=n,this.$lines.pageChanged(i,n))return this.update(n);this.$lines.moveContainer(n);var r=n.lastRow,o=i?i.lastRow:-1;if(!i||o<n.firstRow)return this.update(n);if(r<i.firstRow)return this.update(n);if(!i||i.lastRow<n.firstRow)return this.update(n);if(n.lastRow<i.firstRow)return this.update(n);if(i.firstRow<n.firstRow)for(var l=this.session.getFoldedRowCount(i.firstRow,n.firstRow-1);l>0;l--)this.$lines.shift();if(i.lastRow>n.lastRow)for(var l=this.session.getFoldedRowCount(n.lastRow+1,i.lastRow);l>0;l--)this.$lines.pop();n.firstRow<i.firstRow&&this.$lines.unshift(this.$renderLinesFragment(n,n.firstRow,i.firstRow-1)),n.lastRow>i.lastRow&&this.$lines.push(this.$renderLinesFragment(n,i.lastRow+1,n.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(n,i,r){for(var o=[],l=i,m=this.session.getNextFoldLine(l),u=m?m.start.row:1/0;l>u&&(l=m.end.row+1,m=this.session.getNextFoldLine(l,m),u=m?m.start.row:1/0),!(l>r);){var _=this.$lines.createCell(l,n,this.session),A=_.element;this.dom.removeChildren(A),S.setStyle(A.style,"height",this.$lines.computeLineHeight(l,n,this.session)+"px"),S.setStyle(A.style,"top",this.$lines.computeLineTop(l,n,this.session)+"px"),this.$renderLine(A,l,l==u?m:!1),this.$useLineGroups()?A.className="ace_line_group":A.className="ace_line",o.push(_),l++}return o},e.prototype.update=function(n){this.$lines.moveContainer(n),this.config=n;for(var i=n.firstRow,r=n.lastRow,o=this.$lines;o.getLength();)o.pop();o.push(this.$renderLinesFragment(n,i,r))},e.prototype.$renderToken=function(n,i,r,o){for(var l=this,m=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,u=this.dom.createFragment(this.element),_,A=0;_=m.exec(o);){var f=_[1],h=_[2],C=_[3],$=_[4],T=_[5];if(!(!l.showSpaces&&h)){var b=A!=_.index?o.slice(A,_.index):"";if(A=_.index+_[0].length,b&&u.appendChild(this.dom.createTextNode(b,this.element)),f){var g=l.session.getScreenTabSize(i+_.index);u.appendChild(l.$tabStrings[g].cloneNode(!0)),i+=g-1}else if(h)if(l.showSpaces){var M=this.dom.createElement("span");M.className="ace_invisible ace_invisible_space",M.textContent=w.stringRepeat(l.SPACE_CHAR,h.length),u.appendChild(M)}else u.appendChild(this.com.createTextNode(h,this.element));else if(C){var M=this.dom.createElement("span");M.className="ace_invisible ace_invisible_space ace_invalid",M.textContent=w.stringRepeat(l.SPACE_CHAR,C.length),u.appendChild(M)}else if($){i+=1;var M=this.dom.createElement("span");M.style.width=l.config.characterWidth*2+"px",M.className=l.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",M.textContent=l.showSpaces?l.SPACE_CHAR:$,u.appendChild(M)}else if(T){i+=1;var M=this.dom.createElement("span");M.style.width=l.config.characterWidth*2+"px",M.className="ace_cjk",M.textContent=T,u.appendChild(M)}}}if(u.appendChild(this.dom.createTextNode(A?o.slice(A):o,this.element)),this.$textToken[r.type])n.appendChild(u);else{var E="ace_"+r.type.replace(/\./g," ace_"),M=this.dom.createElement("span");r.type=="fold"&&(M.style.width=r.value.length*this.config.characterWidth+"px",M.setAttribute("title","Unfold code")),M.className=E,M.appendChild(u),n.appendChild(M)}return i+o.length},e.prototype.renderIndentGuide=function(n,i,r){var o=i.search(this.$indentGuideRe);if(o<=0||o>=r)return i;if(i[0]==" "){o-=o%this.tabSize;for(var l=o/this.tabSize,m=0;m<l;m++)n.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),i.substr(o)}else if(i[0]=="	"){for(var m=0;m<o;m++)n.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),i.substr(o)}return this.$highlightIndentGuide(),i},e.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var n=this.session.doc.$lines;if(n){var i=this.session.selection.getCursor(),r=/^\s*/.exec(this.session.doc.getLine(i.row))[0].length,o=Math.floor(r/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:o,start:i.row};var l=this.session.$bracketHighlight;if(l){for(var m=this.session.$bracketHighlight.ranges,u=0;u<m.length;u++)if(i.row!==m[u].start.row){this.$highlightIndentGuideMarker.end=m[u].start.row,i.row>m[u].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&n[i.row]!==""&&i.column===n[i.row].length){this.$highlightIndentGuideMarker.dir=1;for(var u=i.row+1;u<n.length;u++){var _=n[u],A=/^\s*/.exec(_)[0].length;if(_!==""&&(this.$highlightIndentGuideMarker.end=u,A<=r))break}}this.$renderHighlightIndentGuide()}}},e.prototype.$clearActiveIndentGuide=function(){for(var n=this.$lines.cells,i=0;i<n.length;i++){var r=n[i],o=r.element.childNodes;if(o.length>0){for(var l=0;l<o.length;l++)if(o[l].classList&&o[l].classList.contains("ace_indent-guide-active")){o[l].classList.remove("ace_indent-guide-active");break}}}},e.prototype.$setIndentGuideActive=function(n,i){var r=this.session.doc.getLine(n.row);if(r!==""){var o=n.element.childNodes;if(o){var l=o[i-1];l&&l.classList&&l.classList.contains("ace_indent-guide")&&l.classList.add("ace_indent-guide-active")}}},e.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var n=this.$lines.cells;this.$clearActiveIndentGuide();var i=this.$highlightIndentGuideMarker.indentLevel;if(i!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var r=0;r<n.length;r++){var o=n[r];if(this.$highlightIndentGuideMarker.end&&o.row>=this.$highlightIndentGuideMarker.start+1){if(o.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(o,i)}}else for(var r=n.length-1;r>=0;r--){var o=n[r];if(this.$highlightIndentGuideMarker.end&&o.row<this.$highlightIndentGuideMarker.start){if(o.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(o,i)}}}},e.prototype.$createLineElement=function(n){var i=this.dom.createElement("div");return i.className="ace_line",i.style.height=this.config.lineHeight+"px",i},e.prototype.$renderWrappedLine=function(n,i,r){var o=0,l=0,m=r[0],u=0,_=this.$createLineElement();n.appendChild(_);for(var A=0;A<i.length;A++){var f=i[A],h=f.value;if(A==0&&this.displayIndentGuides){if(o=h.length,h=this.renderIndentGuide(_,h,m),!h)continue;o-=h.length}if(o+h.length<m)u=this.$renderToken(_,u,f,h),o+=h.length;else{for(;o+h.length>=m;)u=this.$renderToken(_,u,f,h.substring(0,m-o)),h=h.substring(m-o),o=m,_=this.$createLineElement(),n.appendChild(_),_.appendChild(this.dom.createTextNode(w.stringRepeat("",r.indent),this.element)),l++,u=0,m=r[l]||Number.MAX_VALUE;h.length!=0&&(o+=h.length,u=this.$renderToken(_,u,f,h))}}r[r.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(_,u,null,"",!0)},e.prototype.$renderSimpleLine=function(n,i){for(var r=0,o=0;o<i.length;o++){var l=i[o],m=l.value;if(!(o==0&&this.displayIndentGuides&&(m=this.renderIndentGuide(n,m),!m))){if(r+m.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(n,r,l,m);r=this.$renderToken(n,r,l,m)}}},e.prototype.$renderOverflowMessage=function(n,i,r,o,l){r&&this.$renderToken(n,i,r,o.slice(0,this.MAX_LINE_LENGTH-i));var m=this.dom.createElement("span");m.className="ace_inline_button ace_keyword ace_toggle_wrap",m.textContent=l?"<hide>":"<click to see more...>",n.appendChild(m)},e.prototype.$renderLine=function(n,i,r){if(!r&&r!=!1&&(r=this.session.getFoldLine(i)),r)var o=this.$getFoldLineTokens(i,r);else var o=this.session.getTokens(i);var l=n;if(o.length){var m=this.session.getRowSplitData(i);if(m&&m.length){this.$renderWrappedLine(n,o,m);var l=n.lastChild}else{var l=n;this.$useLineGroups()&&(l=this.$createLineElement(),n.appendChild(l)),this.$renderSimpleLine(l,o)}}else this.$useLineGroups()&&(l=this.$createLineElement(),n.appendChild(l));if(this.showEOL&&l){r&&(i=r.end.row);var u=this.dom.createElement("span");u.className="ace_invisible ace_invisible_eol",u.textContent=i==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,l.appendChild(u)}},e.prototype.$getFoldLineTokens=function(n,i){var r=this.session,o=[];function l(u,_,A){for(var f=0,h=0;h+u[f].value.length<_;)if(h+=u[f].value.length,f++,f==u.length)return;if(h!=_){var C=u[f].value.substring(_-h);C.length>A-_&&(C=C.substring(0,A-_)),o.push({type:u[f].type,value:C}),h=_+C.length,f+=1}for(;h<A&&f<u.length;){var C=u[f].value;C.length+h>A?o.push({type:u[f].type,value:C.substring(0,A-h)}):o.push(u[f]),h+=C.length,f+=1}}var m=r.getTokens(n);return i.walk(function(u,_,A,f,h){u!=null?o.push({type:"fold",value:u}):(h&&(m=r.getTokens(_)),m.length&&l(m,f,A))},i.end.row,this.session.getLine(i.end.row).length),o},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();t.prototype.$textToken={text:!0,rparen:!0,lparen:!0},t.prototype.EOF_CHAR="",t.prototype.EOL_CHAR_LF="",t.prototype.EOL_CHAR_CRLF="",t.prototype.EOL_CHAR=t.prototype.EOL_CHAR_LF,t.prototype.TAB_CHAR="",t.prototype.SPACE_CHAR="",t.prototype.$padding=0,t.prototype.MAX_LINE_LENGTH=1e4,t.prototype.showInvisibles=!1,t.prototype.showSpaces=!1,t.prototype.showTabs=!1,t.prototype.showEOL=!1,t.prototype.displayIndentGuides=!0,t.prototype.$highlightIndentGuides=!0,t.prototype.$tabStrings=[],t.prototype.destroy={},t.prototype.onChangeTabSize=t.prototype.$computeTabString,d.implement(t.prototype,a),p.Text=t}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(c,p,k){var d=c("../lib/dom"),S=function(){function w(s){this.element=d.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),d.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return w.prototype.$updateOpacity=function(s){for(var a=this.cursors,t=a.length;t--;)d.setStyle(a[t].style,"opacity",s?"":"0")},w.prototype.$startCssAnimation=function(){for(var s=this.cursors,a=s.length;a--;)s[a].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&d.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},w.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,d.removeCssClass(this.element,"ace_animate-blinking")},w.prototype.setPadding=function(s){this.$padding=s},w.prototype.setSession=function(s){this.session=s},w.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},w.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},w.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,d.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},w.prototype.addCursor=function(){var s=d.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},w.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},w.prototype.hideCursor=function(){this.isVisible=!1,d.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},w.prototype.showCursor=function(){this.isVisible=!0,d.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},w.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,d.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&d.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),d.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var a=function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){s(!0),a()},this.blinkInterval),a()}},w.prototype.getPixelPosition=function(s,a){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var t=this.session.documentToScreenPosition(s),e=this.$padding+(this.session.$bidiHandler.isBidiRow(t.row,s.row)?this.session.$bidiHandler.getPosLeft(t.column):t.column*this.config.characterWidth),n=(t.row-(a?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:e,top:n}},w.prototype.isCursorInView=function(s,a){return s.top>=0&&s.top<a.maxHeight},w.prototype.update=function(s){this.config=s;var a=this.session.$selectionMarkers,t=0,e=0;(a===void 0||a.length===0)&&(a=[{cursor:null}]);for(var t=0,n=a.length;t<n;t++){var i=this.getPixelPosition(a[t].cursor,!0);if(!((i.top>s.height+s.offset||i.top<0)&&t>1)){var r=this.cursors[e++]||this.addCursor(),o=r.style;this.drawCursor?this.drawCursor(r,i,s,a[t],this.session):this.isCursorInView(i,s)?(d.setStyle(o,"display","block"),d.translate(r,i.left,i.top),d.setStyle(o,"width",Math.round(s.characterWidth)+"px"),d.setStyle(o,"height",s.lineHeight+"px")):d.setStyle(o,"display","none")}}for(;this.cursors.length>e;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=i,this.restartTimer()},w.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?d.addCssClass(this.element,"ace_overwrite-cursors"):d.removeCssClass(this.element,"ace_overwrite-cursors"))},w.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},w}();S.prototype.$padding=0,S.prototype.drawCursor=null,p.Cursor=S}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(c,p,k){var d=this&&this.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var _ in u)Object.prototype.hasOwnProperty.call(u,_)&&(m[_]=u[_])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function m(){this.constructor=o}o.prototype=l===null?Object.create(l):(m.prototype=l.prototype,new m)}}(),S=c("./lib/oop"),w=c("./lib/dom"),s=c("./lib/event"),a=c("./lib/event_emitter").EventEmitter,t=32768,e=function(){function r(o,l){this.element=w.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+l,this.inner=w.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),o.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return r.prototype.setVisible=function(o){this.element.style.display=o?"":"none",this.isVisible=o,this.coeff=1},r}();S.implement(e.prototype,a);var n=function(r){d(o,r);function o(l,m){var u=r.call(this,l,"-v")||this;return u.scrollTop=0,u.scrollHeight=0,m.$scrollbarWidth=u.width=w.scrollbarWidth(l.ownerDocument),u.inner.style.width=u.element.style.width=(u.width||15)+5+"px",u.$minWidth=0,u}return o.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var l=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-l)/(this.coeff-l)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},o.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},o.prototype.setHeight=function(l){this.element.style.height=l+"px"},o.prototype.setScrollHeight=function(l){this.scrollHeight=l,l>t?(this.coeff=t/l,l=t):this.coeff!=1&&(this.coeff=1),this.inner.style.height=l+"px"},o.prototype.setScrollTop=function(l){this.scrollTop!=l&&(this.skipEvent=!0,this.scrollTop=l,this.element.scrollTop=l*this.coeff)},o}(e);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var i=function(r){d(o,r);function o(l,m){var u=r.call(this,l,"-h")||this;return u.scrollLeft=0,u.height=m.$scrollbarWidth,u.inner.style.height=u.element.style.height=(u.height||15)+5+"px",u}return o.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},o.prototype.getHeight=function(){return this.isVisible?this.height:0},o.prototype.setWidth=function(l){this.element.style.width=l+"px"},o.prototype.setInnerWidth=function(l){this.inner.style.width=l+"px"},o.prototype.setScrollWidth=function(l){this.inner.style.width=l+"px"},o.prototype.setScrollLeft=function(l){this.scrollLeft!=l&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=l)},o}(e);p.ScrollBar=n,p.ScrollBarV=n,p.ScrollBarH=i,p.VScrollBar=n,p.HScrollBar=i}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(c,p,k){var d=this&&this.__extends||function(){var i=function(r,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(l[u]=m[u])},i(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(r,o);function l(){this.constructor=r}r.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}(),S=c("./lib/oop"),w=c("./lib/dom"),s=c("./lib/event"),a=c("./lib/event_emitter").EventEmitter;w.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var t=function(){function i(r,o){this.element=w.createElement("div"),this.element.className="ace_sb"+o,this.inner=w.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return i.prototype.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1},i}();S.implement(t.prototype,a);var e=function(i){d(r,i);function r(o,l){var m=i.call(this,o,"-v")||this;return m.scrollTop=0,m.scrollHeight=0,m.parent=o,m.width=m.VScrollWidth,m.renderer=l,m.inner.style.width=m.element.style.width=(m.width||15)+"px",m.$minWidth=0,m}return r.prototype.onMouseDown=function(o,l){if(o==="mousedown"&&!(s.getButton(l)!==0||l.detail===2)){if(l.target===this.inner){var m=this,u=l.clientY,_=function(b){u=b.clientY},A=function(){clearInterval($)},f=l.clientY,h=this.thumbTop,C=function(){if(u!==void 0){var b=m.scrollTopFromThumbTop(h+u-f);b!==m.scrollTop&&m._emit("scroll",{data:b})}};s.capture(this.inner,_,A);var $=setInterval(C,20);return s.preventDefault(l)}var T=l.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),s.preventDefault(l)}},r.prototype.getHeight=function(){return this.height},r.prototype.scrollTopFromThumbTop=function(o){var l=o*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return l=l>>0,l<0?l=0:l>this.pageHeight-this.viewHeight&&(l=this.pageHeight-this.viewHeight),l},r.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},r.prototype.setHeight=function(o){this.height=Math.max(0,o),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},r.prototype.setScrollHeight=function(o,l){this.pageHeight===o&&!l||(this.pageHeight=o,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},r.prototype.setScrollTop=function(o){this.scrollTop=o,o<0&&(o=0),this.thumbTop=o*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},r}(t);e.prototype.setInnerHeight=e.prototype.setScrollHeight;var n=function(i){d(r,i);function r(o,l){var m=i.call(this,o,"-h")||this;return m.scrollLeft=0,m.scrollWidth=0,m.height=m.HScrollHeight,m.inner.style.height=m.element.style.height=(m.height||12)+"px",m.renderer=l,m}return r.prototype.onMouseDown=function(o,l){if(o==="mousedown"&&!(s.getButton(l)!==0||l.detail===2)){if(l.target===this.inner){var m=this,u=l.clientX,_=function(b){u=b.clientX},A=function(){clearInterval($)},f=l.clientX,h=this.thumbLeft,C=function(){if(u!==void 0){var b=m.scrollLeftFromThumbLeft(h+u-f);b!==m.scrollLeft&&m._emit("scroll",{data:b})}};s.capture(this.inner,_,A);var $=setInterval(C,20);return s.preventDefault(l)}var T=l.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),s.preventDefault(l)}},r.prototype.getHeight=function(){return this.isVisible?this.height:0},r.prototype.scrollLeftFromThumbLeft=function(o){var l=o*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return l=l>>0,l<0?l=0:l>this.pageWidth-this.viewWidth&&(l=this.pageWidth-this.viewWidth),l},r.prototype.setWidth=function(o){this.width=Math.max(0,o),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},r.prototype.setScrollWidth=function(o,l){this.pageWidth===o&&!l||(this.pageWidth=o,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},r.prototype.setScrollLeft=function(o){this.scrollLeft=o,o<0&&(o=0),this.thumbLeft=o*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},r}(t);n.prototype.setInnerWidth=n.prototype.setScrollWidth,p.ScrollBar=e,p.ScrollBarV=e,p.ScrollBarH=n,p.VScrollBar=e,p.HScrollBar=n}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(c,p,k){var d=c("./lib/event"),S=function(){function w(s,a){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=a||window;var t=this;this._flush=function(e){t.pending=!1;var n=t.changes;if(n&&(d.blockIdle(100),t.changes=0,t.onRender(n)),t.changes){if(t.$recursionLimit--<0)return;t.schedule()}else t.$recursionLimit=2}}return w.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(d.nextFrame(this._flush),this.pending=!0)},w.prototype.clear=function(s){var a=this.changes;return this.changes=0,a},w}();p.RenderLoop=S}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(c,p,k){var d=c("../lib/oop"),S=c("../lib/dom"),w=c("../lib/lang"),s=c("../lib/event"),a=c("../lib/useragent"),t=c("../lib/event_emitter").EventEmitter,e=512,n=typeof ResizeObserver=="function",i=200,r=function(){function o(l){this.el=S.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=S.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=S.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),l.appendChild(this.el),this.$measureNode.textContent=w.stringRepeat("X",e),this.$characterSize={width:0,height:0},n?this.$addObserver():this.checkForSizeChanges()}return o.prototype.$setMeasureNodeStyles=function(l,m){l.width=l.height="auto",l.left=l.top="0px",l.visibility="hidden",l.position="absolute",l.whiteSpace="pre",a.isIE<8?l["font-family"]="inherit":l.font="inherit",l.overflow=m?"hidden":"visible"},o.prototype.checkForSizeChanges=function(l){if(l===void 0&&(l=this.$measureSizes()),l&&(this.$characterSize.width!==l.width||this.$characterSize.height!==l.height)){this.$measureNode.style.fontWeight="bold";var m=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=l,this.charSizes=Object.create(null),this.allowBoldFonts=m&&m.width===l.width&&m.height===l.height,this._emit("changeCharacterSize",{data:l})}},o.prototype.$addObserver=function(){var l=this;this.$observer=new window.ResizeObserver(function(m){l.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},o.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var l=this;return this.$pollSizeChangesTimer=s.onIdle(function m(){l.checkForSizeChanges(),s.onIdle(m,500)},500)},o.prototype.setPolling=function(l){l?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},o.prototype.$measureSizes=function(l){var m={height:(l||this.$measureNode).clientHeight,width:(l||this.$measureNode).clientWidth/e};return m.width===0||m.height===0?null:m},o.prototype.$measureCharWidth=function(l){this.$main.textContent=w.stringRepeat(l,e);var m=this.$main.getBoundingClientRect();return m.width/e},o.prototype.getCharacterWidth=function(l){var m=this.charSizes[l];return m===void 0&&(m=this.charSizes[l]=this.$measureCharWidth(l)/this.$characterSize.width),m},o.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},o.prototype.$getZoom=function(l){return!l||!l.parentElement?1:(window.getComputedStyle(l).zoom||1)*this.$getZoom(l.parentElement)},o.prototype.$initTransformMeasureNodes=function(){var l=function(m,u){return["div",{style:"position: absolute;top:"+m+"px;left:"+u+"px;"}]};this.els=S.buildDom([l(0,0),l(i,0),l(0,i),l(i,i)],this.el)},o.prototype.transformCoordinates=function(l,m){if(l){var u=this.$getZoom(this.el);l=h(1/u,l)}function _(F,W,V){var N=F[1]*W[0]-F[0]*W[1];return[(-W[1]*V[0]+W[0]*V[1])/N,(+F[1]*V[0]-F[0]*V[1])/N]}function A(F,W){return[F[0]-W[0],F[1]-W[1]]}function f(F,W){return[F[0]+W[0],F[1]+W[1]]}function h(F,W){return[F*W[0],F*W[1]]}this.els||this.$initTransformMeasureNodes();function C(F){var W=F.getBoundingClientRect();return[W.left,W.top]}var $=C(this.els[0]),T=C(this.els[1]),b=C(this.els[2]),g=C(this.els[3]),M=_(A(g,T),A(g,b),A(f(T,b),f(g,$))),E=h(1+M[0],A(T,$)),y=h(1+M[1],A(b,$));if(m){var x=m,R=M[0]*x[0]/i+M[1]*x[1]/i+1,I=f(h(x[0],E),h(x[1],y));return f(h(1/R/i,I),$)}var O=A(l,$),D=_(A(E,h(M[0],O)),A(y,h(M[1],O)),O);return h(i,D)},o}();r.prototype.$characterSize={width:0,height:0},d.implement(r.prototype,t),p.FontMetrics=r}),ace.define("ace/css/editor.css",["require","exports","module"],function(c,p,k){k.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(c,p,k){var d=c("../lib/dom"),S=c("../lib/oop"),w=c("../lib/event_emitter").EventEmitter,s=function(){function a(t,e){this.canvas=d.createElement("canvas"),this.renderer=e,this.pixelRatio=1,this.maxHeight=e.layerConfig.maxHeight,this.lineHeight=e.layerConfig.lineHeight,this.canvasHeight=t.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=t.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},t.element.appendChild(this.canvas)}return a.prototype.$updateDecorators=function(t){var e=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(t){this.maxHeight=t.maxHeight,this.lineHeight=t.lineHeight,this.canvasHeight=t.height;var n=(t.lastRow+1)*this.lineHeight;n<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var i=this.canvas.getContext("2d");function r(g,M){return g.priority<M.priority?-1:g.priority>M.priority?1:0}var o=this.renderer.session.$annotations;if(i.clearRect(0,0,this.canvas.width,this.canvas.height),o){var l={info:1,warning:2,error:3};o.forEach(function(g){g.priority=l[g.type]||null}),o=o.sort(r);for(var m=this.renderer.session.$foldData,u=0;u<o.length;u++){var _=o[u].row,A=this.compensateFoldRows(_,m),f=Math.round((_-A)*this.lineHeight*this.heightRatio),h=Math.round((_-A)*this.lineHeight*this.heightRatio),C=Math.round(((_-A)*this.lineHeight+this.lineHeight)*this.heightRatio),$=C-h;if($<this.minDecorationHeight){var T=(h+C)/2|0;T<this.halfMinDecorationHeight?T=this.halfMinDecorationHeight:T+this.halfMinDecorationHeight>this.canvasHeight&&(T=this.canvasHeight-this.halfMinDecorationHeight),h=Math.round(T-this.halfMinDecorationHeight),C=Math.round(T+this.halfMinDecorationHeight)}i.fillStyle=e[o[u].type]||null,i.fillRect(0,f,this.canvasWidth,C-h)}}var b=this.renderer.session.selection.getCursor();if(b){var A=this.compensateFoldRows(b.row,m),f=Math.round((b.row-A)*this.lineHeight*this.heightRatio);i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(0,f,this.canvasWidth,2)}},a.prototype.compensateFoldRows=function(t,e){var n=0;if(e&&e.length>0)for(var i=0;i<e.length;i++)t>e[i].start.row&&t<e[i].end.row?n+=t-e[i].start.row:t>=e[i].end.row&&(n+=e[i].end.row-e[i].start.row);return n},a}();S.implement(s.prototype,w),p.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(c,p,k){var d=c("./lib/oop"),S=c("./lib/dom"),w=c("./lib/lang"),s=c("./config"),a=c("./layer/gutter").Gutter,t=c("./layer/marker").Marker,e=c("./layer/text").Text,n=c("./layer/cursor").Cursor,i=c("./scrollbar").HScrollBar,r=c("./scrollbar").VScrollBar,o=c("./scrollbar_custom").HScrollBar,l=c("./scrollbar_custom").VScrollBar,m=c("./renderloop").RenderLoop,u=c("./layer/font_metrics").FontMetrics,_=c("./lib/event_emitter").EventEmitter,A=c("./css/editor.css"),f=c("./layer/decorators").Decorator,h=c("./lib/useragent");S.importCssString(A,"ace_editor.css",!1);var C=function(){function $(T,b){var g=this;this.container=T||S.createElement("div"),S.addCssClass(this.container,"ace_editor"),S.HI_DPI&&S.addCssClass(this.container,"ace_hidpi"),this.setTheme(b),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=S.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=S.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=S.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new t(this.content);var M=this.$textLayer=new e(this.content);this.canvas=M.element,this.$markerFront=new t(this.content),this.$cursorLayer=new n(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new r(this.container,this),this.scrollBarH=new i(this.container,this),this.scrollBarV.on("scroll",function(E){g.$scrollAnimation||g.session.setScrollTop(E.data-g.scrollMargin.top)}),this.scrollBarH.on("scroll",function(E){g.$scrollAnimation||g.session.setScrollLeft(E.data-g.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new u(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(E){g.updateCharacterSize(),g.onResize(!0,g.gutterWidth,g.$size.width,g.$size.height),g._signal("changeCharacterSize",E)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!h.isIOS,this.$loop=new m(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return $.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),S.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},$.prototype.setSession=function(T){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=T,T&&this.scrollMargin.top&&T.getScrollTop()<=0&&T.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(T),this.$markerBack.setSession(T),this.$markerFront.setSession(T),this.$gutterLayer.setSession(T),this.$textLayer.setSession(T),T&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},$.prototype.updateLines=function(T,b,g){if(b===void 0&&(b=1/0),this.$changedLines?(this.$changedLines.firstRow>T&&(this.$changedLines.firstRow=T),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:T,lastRow:b},this.$changedLines.lastRow<this.layerConfig.firstRow)if(g)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},$.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},$.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},$.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},$.prototype.updateFull=function(T){T?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},$.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},$.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},$.prototype.onResize=function(T,b,g,M){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=T?1:0;var E=this.container;M||(M=E.clientHeight||E.scrollHeight),g||(g=E.clientWidth||E.scrollWidth);var y=this.$updateCachedSize(T,b,g,M);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!g&&!M)return this.resizing=0;T&&(this.$gutterLayer.$padding=null),T?this.$renderChanges(y|this.$changes,!0):this.$loop.schedule(y|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},$.prototype.$updateCachedSize=function(T,b,g,M){M-=this.$extraHeight||0;var E=0,y=this.$size,x={width:y.width,height:y.height,scrollerHeight:y.scrollerHeight,scrollerWidth:y.scrollerWidth};if(M&&(T||y.height!=M)&&(y.height=M,E|=this.CHANGE_SIZE,y.scrollerHeight=y.height,this.$horizScroll&&(y.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(y.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",E=E|this.CHANGE_SCROLL),g&&(T||y.width!=g)){E|=this.CHANGE_SIZE,y.width=g,b==null&&(b=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=b,S.setStyle(this.scrollBarH.element.style,"left",b+"px"),S.setStyle(this.scroller.style,"left",b+this.margin.left+"px"),y.scrollerWidth=Math.max(0,g-b-this.scrollBarV.getWidth()-this.margin.h),S.setStyle(this.$gutter.style,"left",this.margin.left+"px");var R=this.scrollBarV.getWidth()+"px";S.setStyle(this.scrollBarH.element.style,"right",R),S.setStyle(this.scroller.style,"right",R),S.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(y.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||T)&&(E|=this.CHANGE_FULL)}return y.$dirty=!g||!M,E&&this._signal("resize",x),E},$.prototype.onGutterResize=function(T){var b=this.$showGutter?T:0;b!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,b,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},$.prototype.adjustWrapLimit=function(){var T=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(T/this.characterWidth);return this.session.adjustWrapLimit(b,this.$showPrintMargin&&this.$printMarginColumn)},$.prototype.setAnimatedScroll=function(T){this.setOption("animatedScroll",T)},$.prototype.getAnimatedScroll=function(){return this.$animatedScroll},$.prototype.setShowInvisibles=function(T){this.setOption("showInvisibles",T),this.session.$bidiHandler.setShowInvisibles(T)},$.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},$.prototype.getDisplayIndentGuide=function(){return this.getOption("displayIndentGuides")},$.prototype.setDisplayIndentGuides=function(T){this.setOption("displayIndentGuides",T)},$.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},$.prototype.setHighlightIndentGuides=function(T){this.setOption("highlightIndentGuides",T)},$.prototype.setShowPrintMargin=function(T){this.setOption("showPrintMargin",T)},$.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},$.prototype.setPrintMarginColumn=function(T){this.setOption("printMarginColumn",T)},$.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},$.prototype.getShowGutter=function(){return this.getOption("showGutter")},$.prototype.setShowGutter=function(T){return this.setOption("showGutter",T)},$.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},$.prototype.setFadeFoldWidgets=function(T){this.setOption("fadeFoldWidgets",T)},$.prototype.setHighlightGutterLine=function(T){this.setOption("highlightGutterLine",T)},$.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},$.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var T=S.createElement("div");T.className="ace_layer ace_print-margin-layer",this.$printMarginEl=S.createElement("div"),this.$printMarginEl.className="ace_print-margin",T.appendChild(this.$printMarginEl),this.content.insertBefore(T,this.content.firstChild)}var b=this.$printMarginEl.style;b.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",b.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},$.prototype.getContainerElement=function(){return this.container},$.prototype.getMouseEventTarget=function(){return this.scroller},$.prototype.getTextAreaContainer=function(){return this.container},$.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var T=this.textarea.style,b=this.$composition;if(!this.$keepTextAreaAtCursor&&!b){S.translate(this.textarea,-100,0);return}var g=this.$cursorLayer.$pixelPos;if(g){b&&b.markerRange&&(g=this.$cursorLayer.getPixelPosition(b.markerRange.start,!0));var M=this.layerConfig,E=g.top,y=g.left;E-=M.offset;var x=b&&b.useTextareaForIME||h.isMobile?this.lineHeight:1;if(E<0||E>M.height-x){S.translate(this.textarea,0,0);return}var R=1,I=this.$size.height-x;if(!b)E+=this.lineHeight;else if(b.useTextareaForIME){var O=this.textarea.value;R=this.characterWidth*this.session.$getStringScreenWidth(O)[0]}else E+=this.lineHeight+2;y-=this.scrollLeft,y>this.$size.scrollerWidth-R&&(y=this.$size.scrollerWidth-R),y+=this.gutterWidth+this.margin.left,S.setStyle(T,"height",x+"px"),S.setStyle(T,"width",R+"px"),S.translate(this.textarea,Math.min(y,this.$size.scrollerWidth-R),Math.min(E,I))}}},$.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},$.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},$.prototype.getLastFullyVisibleRow=function(){var T=this.layerConfig,b=T.lastRow,g=this.session.documentToScreenRow(b,0)*T.lineHeight;return g-this.session.getScrollTop()>T.height-T.lineHeight?b-1:b},$.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},$.prototype.setPadding=function(T){this.$padding=T,this.$textLayer.setPadding(T),this.$cursorLayer.setPadding(T),this.$markerFront.setPadding(T),this.$markerBack.setPadding(T),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},$.prototype.setScrollMargin=function(T,b,g,M){var E=this.scrollMargin;E.top=T|0,E.bottom=b|0,E.right=M|0,E.left=g|0,E.v=E.top+E.bottom,E.h=E.left+E.right,E.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-E.top),this.updateFull()},$.prototype.setMargin=function(T,b,g,M){var E=this.margin;E.top=T|0,E.bottom=b|0,E.right=M|0,E.left=g|0,E.v=E.top+E.bottom,E.h=E.left+E.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},$.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},$.prototype.setHScrollBarAlwaysVisible=function(T){this.setOption("hScrollBarAlwaysVisible",T)},$.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},$.prototype.setVScrollBarAlwaysVisible=function(T){this.setOption("vScrollBarAlwaysVisible",T)},$.prototype.$updateScrollBarV=function(){var T=this.layerConfig.maxHeight,b=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(T-=(b-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>T-b&&(T=this.scrollTop+b,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(T+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},$.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},$.prototype.freeze=function(){this.$frozen=!0},$.prototype.unfreeze=function(){this.$frozen=!1},$.prototype.$renderChanges=function(T,b){if(this.$changes&&(T|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!T&&!b){this.$changes|=T;return}if(this.$size.$dirty)return this.$changes|=T,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",T),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var g=this.layerConfig;if(T&this.CHANGE_FULL||T&this.CHANGE_SIZE||T&this.CHANGE_TEXT||T&this.CHANGE_LINES||T&this.CHANGE_SCROLL||T&this.CHANGE_H_SCROLL){if(T|=this.$computeLayerConfig()|this.$loop.clear(),g.firstRow!=this.layerConfig.firstRow&&g.firstRowScreen==this.layerConfig.firstRowScreen){var M=this.scrollTop+(g.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;M>0&&(this.scrollTop=M,T=T|this.CHANGE_SCROLL,T|=this.$computeLayerConfig()|this.$loop.clear())}g=this.layerConfig,this.$updateScrollBarV(),T&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),S.translate(this.content,-this.scrollLeft,-g.offset);var E=g.width+2*this.$padding+"px",y=g.minHeight+"px";S.setStyle(this.content.style,"width",E),S.setStyle(this.content.style,"height",y)}if(T&this.CHANGE_H_SCROLL&&(S.translate(this.content,-this.scrollLeft,-g.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),T&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",T);return}if(T&this.CHANGE_SCROLL){this.$changedLines=null,T&this.CHANGE_TEXT||T&this.CHANGE_LINES?this.$textLayer.update(g):this.$textLayer.scrollLines(g),this.$showGutter&&(T&this.CHANGE_GUTTER||T&this.CHANGE_LINES?this.$gutterLayer.update(g):this.$gutterLayer.scrollLines(g)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",T);return}T&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):T&this.CHANGE_LINES?((this.$updateLines()||T&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):T&this.CHANGE_TEXT||T&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):T&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)),T&this.CHANGE_CURSOR&&(this.$cursorLayer.update(g),this.$moveTextAreaToCursor()),T&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(g),T&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(g),this._signal("afterRender",T)},$.prototype.$autosize=function(){var T=this.session.getScreenLength()*this.lineHeight,b=this.$maxLines*this.lineHeight,g=Math.min(b,Math.max((this.$minLines||1)*this.lineHeight,T))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(g+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&g>this.$maxPixelHeight&&(g=this.$maxPixelHeight);var M=g<=2*this.lineHeight,E=!M&&T>b;if(g!=this.desiredHeight||this.$size.height!=this.desiredHeight||E!=this.$vScroll){E!=this.$vScroll&&(this.$vScroll=E,this.scrollBarV.setVisible(E));var y=this.container.clientWidth;this.container.style.height=g+"px",this.$updateCachedSize(!0,this.$gutterWidth,y,g),this.desiredHeight=g,this._signal("autosize")}},$.prototype.$computeLayerConfig=function(){var T=this.session,b=this.$size,g=b.height<=2*this.lineHeight,M=this.session.getScreenLength(),E=M*this.lineHeight,y=this.$getLongestLine(),x=!g&&(this.$hScrollBarAlwaysVisible||b.scrollerWidth-y-2*this.$padding<0),R=this.$horizScroll!==x;R&&(this.$horizScroll=x,this.scrollBarH.setVisible(x));var I=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var O=b.scrollerHeight+this.lineHeight,D=!this.$maxLines&&this.$scrollPastEnd?(b.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;E+=D;var F=this.scrollMargin;this.session.setScrollTop(Math.max(-F.top,Math.min(this.scrollTop,E-b.scrollerHeight+F.bottom))),this.session.setScrollLeft(Math.max(-F.left,Math.min(this.scrollLeft,y+2*this.$padding-b.scrollerWidth+F.right)));var W=!g&&(this.$vScrollBarAlwaysVisible||b.scrollerHeight-E+D<0||this.scrollTop>F.top),V=I!==W;V&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var N=this.scrollTop%this.lineHeight,H=Math.ceil(O/this.lineHeight)-1,z=Math.max(0,Math.round((this.scrollTop-N)/this.lineHeight)),U=z+H,j,K,X=this.lineHeight;z=T.screenToDocumentRow(z,0);var Z=T.getFoldLine(z);Z&&(z=Z.start.row),j=T.documentToScreenRow(z,0),K=T.getRowLength(z)*X,U=Math.min(T.screenToDocumentRow(U,0),T.getLength()-1),O=b.scrollerHeight+T.getRowLength(U)*X+K,N=this.scrollTop-j*X;var te=0;return(this.layerConfig.width!=y||R)&&(te=this.CHANGE_H_SCROLL),(R||V)&&(te|=this.$updateCachedSize(!0,this.gutterWidth,b.width,b.height),this._signal("scrollbarVisibilityChanged"),V&&(y=this.$getLongestLine())),this.layerConfig={width:y,padding:this.$padding,firstRow:z,firstRowScreen:j,lastRow:U,lineHeight:X,characterWidth:this.characterWidth,minHeight:O,maxHeight:E,offset:N,gutterOffset:X?Math.max(0,Math.ceil((N+b.height-b.scrollerHeight)/X)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(y-this.$padding),te},$.prototype.$updateLines=function(){if(this.$changedLines){var T=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var g=this.layerConfig;if(!(T>g.lastRow+1)&&!(b<g.firstRow)){if(b===1/0){this.$showGutter&&this.$gutterLayer.update(g),this.$textLayer.update(g);return}return this.$textLayer.updateLines(g,T,b),!0}}},$.prototype.$getLongestLine=function(){var T=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(T+=1),this.$textLayer&&T>this.$textLayer.MAX_LINE_LENGTH&&(T=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(T*this.characterWidth))},$.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},$.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},$.prototype.addGutterDecoration=function(T,b){this.$gutterLayer.addGutterDecoration(T,b)},$.prototype.removeGutterDecoration=function(T,b){this.$gutterLayer.removeGutterDecoration(T,b)},$.prototype.updateBreakpoints=function(T){this.$loop.schedule(this.CHANGE_GUTTER)},$.prototype.setAnnotations=function(T){this.$gutterLayer.setAnnotations(T),this.$loop.schedule(this.CHANGE_GUTTER)},$.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},$.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},$.prototype.showCursor=function(){this.$cursorLayer.showCursor()},$.prototype.scrollSelectionIntoView=function(T,b,g){this.scrollCursorIntoView(T,g),this.scrollCursorIntoView(b,g)},$.prototype.scrollCursorIntoView=function(T,b,g){if(this.$size.scrollerHeight!==0){var M=this.$cursorLayer.getPixelPosition(T),E=M.left,y=M.top,x=g&&g.top||0,R=g&&g.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var I=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;I+x>y?(b&&I+x>y+this.lineHeight&&(y-=b*this.$size.scrollerHeight),y===0&&(y=-this.scrollMargin.top),this.session.setScrollTop(y)):I+this.$size.scrollerHeight-R<y+this.lineHeight&&(b&&I+this.$size.scrollerHeight-R<y-this.lineHeight&&(y+=b*this.$size.scrollerHeight),this.session.setScrollTop(y+this.lineHeight+R-this.$size.scrollerHeight));var O=this.scrollLeft,D=2*this.layerConfig.characterWidth;E-D<O?(E-=D,E<this.$padding+D&&(E=-this.scrollMargin.left),this.session.setScrollLeft(E)):(E+=D,O+this.$size.scrollerWidth<E+this.characterWidth?this.session.setScrollLeft(Math.round(E+this.characterWidth-this.$size.scrollerWidth)):O<=this.$padding&&E-O<this.characterWidth&&this.session.setScrollLeft(0))}},$.prototype.getScrollTop=function(){return this.session.getScrollTop()},$.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},$.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},$.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},$.prototype.scrollToRow=function(T){this.session.setScrollTop(T*this.lineHeight)},$.prototype.alignCursor=function(T,b){typeof T=="number"&&(T={row:T,column:0});var g=this.$cursorLayer.getPixelPosition(T),M=this.$size.scrollerHeight-this.lineHeight,E=g.top-M*(b||0);return this.session.setScrollTop(E),E},$.prototype.$calcSteps=function(T,b){var g=0,M=this.STEPS,E=[],y=function(x,R,I){return I*(Math.pow(x-1,3)+1)+R};for(g=0;g<M;++g)E.push(y(g/this.STEPS,T,b-T));return E},$.prototype.scrollToLine=function(T,b,g,M){var E=this.$cursorLayer.getPixelPosition({row:T,column:0}),y=E.top;b&&(y-=this.$size.scrollerHeight/2);var x=this.scrollTop;this.session.setScrollTop(y),g!==!1&&this.animateScrolling(x,M)},$.prototype.animateScrolling=function(T,b){var g=this.scrollTop;if(!this.$animatedScroll)return;var M=this;if(T==g)return;if(this.$scrollAnimation){var E=this.$scrollAnimation.steps;if(E.length&&(T=E[0],T==g))return}var y=M.$calcSteps(T,g);this.$scrollAnimation={from:T,to:g,steps:y},clearInterval(this.$timer),M.session.setScrollTop(y.shift()),M.session.$scrollTop=g;function x(){M.$timer=clearInterval(M.$timer),M.$scrollAnimation=null,M.$stopAnimation=!1,b&&b()}this.$timer=setInterval(function(){if(M.$stopAnimation){x();return}if(!M.session)return clearInterval(M.$timer);y.length?(M.session.setScrollTop(y.shift()),M.session.$scrollTop=g):g!=null?(M.session.$scrollTop=-1,M.session.setScrollTop(g),g=null):x()},10)},$.prototype.scrollToY=function(T){this.scrollTop!==T&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=T)},$.prototype.scrollToX=function(T){this.scrollLeft!==T&&(this.scrollLeft=T),this.$loop.schedule(this.CHANGE_H_SCROLL)},$.prototype.scrollTo=function(T,b){this.session.setScrollTop(b),this.session.setScrollLeft(T)},$.prototype.scrollBy=function(T,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b),T&&this.session.setScrollLeft(this.session.getScrollLeft()+T)},$.prototype.isScrollableBy=function(T,b){if(b<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||b>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||T<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||T>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},$.prototype.pixelToScreenCoordinates=function(T,b){var g;if(this.$hasCssTransforms){g={top:0,left:0};var M=this.$fontMetrics.transformCoordinates([T,b]);T=M[1]-this.gutterWidth-this.margin.left,b=M[0]}else g=this.scroller.getBoundingClientRect();var E=T+this.scrollLeft-g.left-this.$padding,y=E/this.characterWidth,x=Math.floor((b+this.scrollTop-g.top)/this.lineHeight),R=this.$blockCursor?Math.floor(y):Math.round(y);return{row:x,column:R,side:y-R>0?1:-1,offsetX:E}},$.prototype.screenToTextCoordinates=function(T,b){var g;if(this.$hasCssTransforms){g={top:0,left:0};var M=this.$fontMetrics.transformCoordinates([T,b]);T=M[1]-this.gutterWidth-this.margin.left,b=M[0]}else g=this.scroller.getBoundingClientRect();var E=T+this.scrollLeft-g.left-this.$padding,y=E/this.characterWidth,x=this.$blockCursor?Math.floor(y):Math.round(y),R=Math.floor((b+this.scrollTop-g.top)/this.lineHeight);return this.session.screenToDocumentPosition(R,Math.max(x,0),E)},$.prototype.textToScreenCoordinates=function(T,b){var g=this.scroller.getBoundingClientRect(),M=this.session.documentToScreenPosition(T,b),E=this.$padding+(this.session.$bidiHandler.isBidiRow(M.row,T)?this.session.$bidiHandler.getPosLeft(M.column):Math.round(M.column*this.characterWidth)),y=M.row*this.lineHeight;return{pageX:g.left+E-this.scrollLeft,pageY:g.top+y-this.scrollTop}},$.prototype.visualizeFocus=function(){S.addCssClass(this.container,"ace_focus")},$.prototype.visualizeBlur=function(){S.removeCssClass(this.container,"ace_focus")},$.prototype.showComposition=function(T){this.$composition=T,T.cssText||(T.cssText=this.textarea.style.cssText),T.useTextareaForIME==null&&(T.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(S.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):T.markerId=this.session.addMarker(T.markerRange,"ace_composition_marker","text")},$.prototype.setCompositionText=function(T){var b=this.session.selection.cursor;this.addToken(T,"composition_placeholder",b.row,b.column),this.$moveTextAreaToCursor()},$.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),S.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var T=this.session.selection.cursor;this.removeExtraToken(T.row,T.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},$.prototype.setGhostText=function(T,b){var g=this.session.selection.cursor,M=b||{row:g.row,column:g.column};this.removeGhostText();var E=T.split(`
`);this.addToken(E[0],"ghost_text",M.row,M.column),this.$ghostText={text:T,position:{row:M.row,column:M.column}},E.length>1&&(this.$ghostTextWidget={text:E.slice(1).join(`
`),row:M.row,column:M.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},$.prototype.removeGhostText=function(){if(this.$ghostText){var T=this.$ghostText.position;this.removeExtraToken(T.row,T.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},$.prototype.addToken=function(T,b,g,M){var E=this.session;E.bgTokenizer.lines[g]=null;var y={type:b,value:T},x=E.getTokens(g);if(M==null||!x.length)x.push(y);else for(var R=0,I=0;I<x.length;I++){var O=x[I];if(R+=O.value.length,M<=R){var D=O.value.length-(R-M),F=O.value.slice(0,D),W=O.value.slice(D);x.splice(I,1,{type:O.type,value:F},y,{type:O.type,value:W});break}}this.updateLines(g,g)},$.prototype.removeExtraToken=function(T,b){this.session.bgTokenizer.lines[T]=null,this.updateLines(T,T)},$.prototype.setTheme=function(T,b){var g=this;if(this.$themeId=T,g._dispatchEvent("themeChange",{theme:T}),!T||typeof T=="string"){var M=T||this.$options.theme.initialValue;s.loadModule(["theme",M],E)}else E(T);function E(y){if(g.$themeId!=T)return b&&b();if(!y||!y.cssClass)throw new Error("couldn't load module "+T+" or it didn't call define");y.$id&&(g.$themeId=y.$id),S.importCssString(y.cssText,y.cssClass,g.container),g.theme&&S.removeCssClass(g.container,g.theme.cssClass);var x="padding"in y?y.padding:"padding"in(g.theme||{})?4:g.$padding;g.$padding&&x!=g.$padding&&g.setPadding(x),g.$theme=y.cssClass,g.theme=y,S.addCssClass(g.container,y.cssClass),S.setCssClass(g.container,"ace_dark",y.isDark),g.$size&&(g.$size.width=0,g.$updateSizeAsync()),g._dispatchEvent("themeLoaded",{theme:y}),b&&b()}},$.prototype.getTheme=function(){return this.$themeId},$.prototype.setStyle=function(T,b){S.setCssClass(this.container,T,b!==!1)},$.prototype.unsetStyle=function(T){S.removeCssClass(this.container,T)},$.prototype.setCursorStyle=function(T){S.setStyle(this.scroller.style,"cursor",T)},$.prototype.setMouseCursor=function(T){S.setStyle(this.scroller.style,"cursor",T)},$.prototype.attachToShadowRoot=function(){S.importCssString(A,"ace_editor.css",this.container)},$.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},$.prototype.$updateCustomScrollbar=function(T){var b=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,T===!0?(this.scrollBarV=new l(this.container,this),this.scrollBarH=new o(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(g){b.$scrollAnimation||b.session.setScrollTop(g.data-b.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){b.$scrollAnimation||b.session.setScrollLeft(g.data-b.scrollMargin.left)}),this.$scrollDecorator=new f(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new r(this.container,this),this.scrollBarH=new i(this.container,this),this.scrollBarV.addEventListener("scroll",function(g){b.$scrollAnimation||b.session.setScrollTop(g.data-b.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){b.$scrollAnimation||b.session.setScrollLeft(g.data-b.scrollMargin.left)}))},$.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var T=this;this.$resizeTimer=w.delayedCall(function(){T.destroyed||T.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(b){var g=b[0].contentRect.width,M=b[0].contentRect.height;Math.abs(T.$size.width-g)>1||Math.abs(T.$size.height-M)>1?T.$resizeTimer.delay():T.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},$}();C.prototype.CHANGE_CURSOR=1,C.prototype.CHANGE_MARKER=2,C.prototype.CHANGE_GUTTER=4,C.prototype.CHANGE_SCROLL=8,C.prototype.CHANGE_LINES=16,C.prototype.CHANGE_TEXT=32,C.prototype.CHANGE_SIZE=64,C.prototype.CHANGE_MARKER_BACK=128,C.prototype.CHANGE_MARKER_FRONT=256,C.prototype.CHANGE_FULL=512,C.prototype.CHANGE_H_SCROLL=1024,C.prototype.$changes=0,C.prototype.$padding=null,C.prototype.$frozen=!1,C.prototype.STEPS=8,d.implement(C.prototype,_),s.defineOptions(C.prototype,"renderer",{useResizeObserver:{set:function($){!$&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):$&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function($){this.$textLayer.setShowInvisibles($)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function($){typeof $=="number"&&(this.$printMarginColumn=$),this.$showPrintMargin=!!$,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function($){this.$gutter.style.display=$?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function($){this.$gutterLayer.$useSvgGutterIcons=$},initialValue:!1},showFoldedAnnotations:{set:function($){this.$gutterLayer.$showFoldedAnnotations=$},initialValue:!1},fadeFoldWidgets:{set:function($){S.setCssClass(this.$gutter,"ace_fade-fold-widgets",$)},initialValue:!1},showFoldWidgets:{set:function($){this.$gutterLayer.setShowFoldWidgets($),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function($){this.$textLayer.setDisplayIndentGuides($)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function($){this.$textLayer.setHighlightIndentGuides($)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function($){this.$gutterLayer.setHighlightGutterLine($),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function($){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function($){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function($){typeof $=="number"&&($=$+"px"),this.container.style.fontSize=$,this.updateFontSize()},initialValue:12},fontFamily:{set:function($){this.container.style.fontFamily=$,this.updateFontSize()}},maxLines:{set:function($){this.updateFull()}},minLines:{set:function($){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function($){this.updateFull()},initialValue:0},scrollPastEnd:{set:function($){$=+$||0,this.$scrollPastEnd!=$&&(this.$scrollPastEnd=$,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function($){this.$gutterLayer.$fixedWidth=!!$,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function($){this.$updateCustomScrollbar($)},initialValue:!1},theme:{set:function($){this.setTheme($)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!h.isMobile&&!h.isIE}}),p.VirtualRenderer=C}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(c,p,k){var d=c("../lib/oop"),S=c("../lib/net"),w=c("../lib/event_emitter").EventEmitter,s=c("../config");function a(i){var r="importScripts('"+S.qualifyURL(i)+"');";try{return new Blob([r],{type:"application/javascript"})}catch{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,l=new o;return l.append(r),l.getBlob("application/javascript")}}function t(i){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var r=a(i),o=window.URL||window.webkitURL,l=o.createObjectURL(r);return new Worker(l)}return new Worker(i)}var e=function(i){i.postMessage||(i=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=i,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){d.implement(this,w),this.$createWorkerFromOldConfig=function(i,r,o,l,m){if(c.nameToUrl&&!c.toUrl&&(c.toUrl=c.nameToUrl),s.get("packaged")||!c.toUrl)l=l||s.moduleUrl(r,"worker");else{var u=this.$normalizePath;l=l||u(c.toUrl("ace/worker/worker.js",null,"_"));var _={};i.forEach(function(A){_[A]=u(c.toUrl(A,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=t(l),m&&this.send("importScripts",m),this.$worker.postMessage({init:!0,tlns:_,module:r,classname:o}),this.$worker},this.onMessage=function(i){var r=i.data;switch(r.type){case"event":this._signal(r.name,{data:r.data});break;case"call":var o=this.callbacks[r.id];o&&(o(r.data),delete this.callbacks[r.id]);break;case"error":this.reportError(r.data);break;case"log":window.console&&console.log&&console.log.apply(console,r.data);break}},this.reportError=function(i){window.console&&console.error&&console.error(i)},this.$normalizePath=function(i){return S.qualifyURL(i)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(i,r){this.$worker.postMessage({command:i,args:r})},this.call=function(i,r,o){if(o){var l=this.callbackId++;this.callbacks[l]=o,r.push(l)}this.send(i,r)},this.emit=function(i,r){try{r.data&&r.data.err&&(r.data.err={message:r.data.err.message,stack:r.data.err.stack,code:r.data.err.code}),this.$worker&&this.$worker.postMessage({event:i,data:{data:r.data}})}catch(o){console.error(o.stack)}},this.attachToDocument=function(i){this.$doc&&this.terminate(),this.$doc=i,this.call("setValue",[i.getValue()]),i.on("change",this.changeListener,!0)},this.changeListener=function(i){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),i.action=="insert"?this.deltaQueue.push(i.start,i.lines):this.deltaQueue.push(i.start,i.end)},this.$sendDeltaQueue=function(){var i=this.deltaQueue;i&&(this.deltaQueue=null,i.length>50&&i.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:i}))}}).call(e.prototype);var n=function(i,r,o){var l=null,m=!1,u=Object.create(w),_=[],A=new e({messageBuffer:_,terminate:function(){},postMessage:function(h){_.push(h),l&&(m?setTimeout(f):f())}});A.setEmitSync=function(h){m=h};var f=function(){var h=_.shift();h.command?l[h.command].apply(l,h.args):h.event&&u._signal(h.event,h.data)};return u.postMessage=function(h){A.onMessage({data:h})},u.callback=function(h,C){this.postMessage({type:"call",id:C,data:h})},u.emit=function(h,C){this.postMessage({type:"event",name:h,data:C})},s.loadModule(["worker",r],function(h){for(l=new h[o](u);_.length;)f()}),A};p.UIWorkerClient=n,p.WorkerClient=e,p.createWorker=t}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(c,p,k){var d=c("./range").Range,S=c("./lib/event_emitter").EventEmitter,w=c("./lib/oop"),s=function(){function a(t,e,n,i,r,o){var l=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){l.onCursorChange()})},this.$pos=n;var m=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=m.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)}return a.prototype.setup=function(){var t=this,e=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new d(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(r){var o=e.createAnchor(r.row,r.column);o.$insertRight=!0,o.detach(),t.others.push(o)}),n.setUndoSelect(!1)},a.prototype.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=t.addMarker(new d(n.row,n.column,n.row,n.column+e.length),e.othersClass,null,!1)})}},a.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},a.prototype.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var n=t.action==="insert"?e.end.column-e.start.column:e.start.column-e.end.column,i=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,r=e.start.column-this.pos.column;if(this.updateAnchors(t),i&&(this.length+=n),i&&!this.session.$fromUndo){if(t.action==="insert")for(var o=this.others.length-1;o>=0;o--){var l=this.others[o],m={row:l.row,column:l.column+r};this.doc.insertMergedLines(m,t.lines)}else if(t.action==="remove")for(var o=this.others.length-1;o>=0;o--){var l=this.others[o],m={row:l.row,column:l.column+r};this.doc.remove(new d(m.row,m.column,m.row,m.column-n))}}this.$updating=!1,this.updateMarkers()}},a.prototype.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},a.prototype.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,n=function(r,o){e.removeMarker(r.markerId),r.markerId=e.addMarker(new d(r.row,r.column,r.row,r.column+t.length),o,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},a.prototype.onCursorChange=function(t){if(!(this.$updating||!this.session)){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},a.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},a.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<e;n++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},a}();w.implement(s.prototype,S),p.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(c,p,k){var d=c("../lib/event"),S=c("../lib/useragent");function w(a,t){return a.row==t.row&&a.column==t.column}function s(a){var t=a.domEvent,e=t.altKey,n=t.shiftKey,i=t.ctrlKey,r=a.getAccelKey(),o=a.getButton();if(i&&S.isMac&&(o=t.button),a.editor.inMultiSelectMode&&o==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!i&&!e&&!r){o===0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}if(o===0){var l=a.editor,m=l.selection,u=l.inMultiSelectMode,_=a.getDocumentPosition(),A=m.getCursor(),f=a.inSelection()||m.isEmpty()&&w(_,A),h=a.x,C=a.y,$=function(W){h=W.clientX,C=W.clientY},T=l.session,b=l.renderer.pixelToScreenCoordinates(h,C),g=b,M;if(l.$mouseHandler.$enableJumpToDef)i&&e||r&&e?M=n?"block":"add":e&&l.$blockSelectEnabled&&(M="block");else if(r&&!e){if(M="add",!u&&n)return}else e&&l.$blockSelectEnabled&&(M="block");if(M&&S.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu(),M=="add"){if(!u&&f)return;if(!u){var E=m.toOrientedRange();l.addSelectionMarker(E)}var y=m.rangeList.rangeAtPoint(_);l.inVirtualSelectionMode=!0,n&&(y=null,E=m.ranges[0]||E,l.removeSelectionMarker(E)),l.once("mouseup",function(){var W=m.toOrientedRange();y&&W.isEmpty()&&w(y.cursor,W.cursor)?m.substractPoint(W.cursor):(n?m.substractPoint(E.cursor):E&&(l.removeSelectionMarker(E),m.addRange(E)),m.addRange(W)),l.inVirtualSelectionMode=!1})}else if(M=="block"){a.stop(),l.inVirtualSelectionMode=!0;var x,R=[],I=function(){var W=l.renderer.pixelToScreenCoordinates(h,C),V=T.screenToDocumentPosition(W.row,W.column,W.offsetX);w(g,W)&&w(V,m.lead)||(g=W,l.selection.moveToPosition(V),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(R),R=m.rectangularRangeBlock(g,b),l.$mouseHandler.$clickSelection&&R.length==1&&R[0].isEmpty()&&(R[0]=l.$mouseHandler.$clickSelection.clone()),R.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())};u&&!r?m.toSingleRange():!u&&r&&(x=m.toOrientedRange(),l.addSelectionMarker(x)),n?b=T.documentToScreenPosition(m.lead):m.moveToPosition(_),g={row:-1,column:-1};var O=function(W){I(),clearInterval(F),l.removeSelectionMarkers(R),R.length||(R=[m.toOrientedRange()]),x&&(l.removeSelectionMarker(x),m.toSingleRange(x));for(var V=0;V<R.length;V++)m.addRange(R[V]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null},D=I;d.capture(l.container,$,O);var F=setInterval(function(){D()},20);return a.preventDefault()}}}p.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(c,p,k){p.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(S){S.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(S){S.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(S){S.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(S){S.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(S){S.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(S){S.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(S){S.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(S){S.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(S){S.multiSelect.rangeCount>1?S.multiSelect.joinSelections():S.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(S){S.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(S){S.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(S){S.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],p.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(S){S.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(S){return S&&S.inMultiSelectMode}}];var d=c("../keyboard/hash_handler").HashHandler;p.keyboardHandler=new d(p.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(c,p,k){var d=c("./range_list").RangeList,S=c("./range").Range,w=c("./selection").Selection,s=c("./mouse/multi_select_handler").onMouseDown,a=c("./lib/event"),t=c("./lib/lang"),e=c("./commands/multi_select_commands");p.commands=e.defaultCommands.concat(e.multiSelectCommands);var n=c("./search").Search,i=new n;function r(A,f,h){return i.$options.wrap=!0,i.$options.needle=f,i.$options.backwards=h==-1,i.find(A)}var o=c("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(o.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(A,f){if(A){if(!this.inMultiSelectMode&&this.rangeCount===0){var h=this.toOrientedRange();if(this.rangeList.add(h),this.rangeList.add(A),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),f||this.fromOrientedRange(A);this.rangeList.removeAll(),this.rangeList.add(h),this.$onAddRange(h)}A.cursor||(A.cursor=A.end);var C=this.rangeList.add(A);return this.$onAddRange(A),C.length&&this.$onRemoveRange(C),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),f||this.fromOrientedRange(A)}},this.toSingleRange=function(A){A=A||this.ranges[0];var f=this.rangeList.removeAll();f.length&&this.$onRemoveRange(f),A&&this.fromOrientedRange(A)},this.substractPoint=function(A){var f=this.rangeList.substractPoint(A);if(f)return this.$onRemoveRange(f),f[0]},this.mergeOverlappingRanges=function(){var A=this.rangeList.merge();A.length&&this.$onRemoveRange(A)},this.$onAddRange=function(A){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(A),this._signal("addRange",{range:A})},this.$onRemoveRange=function(A){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var f=this.rangeList.ranges.pop();A.push(f),this.rangeCount=0}for(var h=A.length;h--;){var C=this.ranges.indexOf(A[h]);this.ranges.splice(C,1)}this._signal("removeRange",{ranges:A}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),f=f||this.ranges[0],f&&!f.isEqual(this.getRange())&&this.fromOrientedRange(f)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new d,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var A=this.ranges.length?this.ranges:[this.getRange()],f=[],h=0;h<A.length;h++){var C=A[h],$=C.start.row,T=C.end.row;if($===T)f.push(C.clone());else{for(f.push(new S($,C.start.column,$,this.session.getLine($).length));++$<T;)f.push(this.getLineRange($,!0));f.push(new S(T,0,T,C.end.column))}h==0&&!this.isBackwards()&&(f=f.reverse())}this.toSingleRange();for(var h=f.length;h--;)this.addRange(f[h])},this.joinSelections=function(){var A=this.rangeList.ranges,f=A[A.length-1],h=S.fromPoints(A[0].start,f.end);this.toSingleRange(),this.setSelectionRange(h,f.cursor==f.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var A=this.rangeList.ranges,f=A[A.length-1],h=S.fromPoints(A[0].start,f.end);this.toSingleRange(),this.setSelectionRange(h,f.cursor==f.start)}else{var C=this.session.documentToScreenPosition(this.cursor),$=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(C,$);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(A,f,h){var C=[],$=A.column<f.column;if($)var T=A.column,b=f.column,g=A.offsetX,M=f.offsetX;else var T=f.column,b=A.column,g=f.offsetX,M=A.offsetX;var E=A.row<f.row;if(E)var y=A.row,x=f.row;else var y=f.row,x=A.row;T<0&&(T=0),y<0&&(y=0),y==x&&(h=!0);for(var R,I=y;I<=x;I++){var O=S.fromPoints(this.session.screenToDocumentPosition(I,T,g),this.session.screenToDocumentPosition(I,b,M));if(O.isEmpty()){if(R&&m(O.end,R))break;R=O.end}O.cursor=$?O.start:O.end,C.push(O)}if(E&&C.reverse(),!h){for(var D=C.length-1;C[D].isEmpty()&&D>0;)D--;if(D>0)for(var F=0;C[F].isEmpty();)F++;for(var W=D;W>=F;W--)C[W].isEmpty()&&C.splice(W,1)}return C}}.call(w.prototype);var l=c("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(A){A.cursor||(A.cursor=A.end);var f=this.getSelectionStyle();return A.marker=this.session.addMarker(A,"ace_selection",f),this.session.$selectionMarkers.push(A),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,A},this.removeSelectionMarker=function(A){if(A.marker){this.session.removeMarker(A.marker);var f=this.session.$selectionMarkers.indexOf(A);f!=-1&&this.session.$selectionMarkers.splice(f,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(A){for(var f=this.session.$selectionMarkers,h=A.length;h--;){var C=A[h];if(C.marker){this.session.removeMarker(C.marker);var $=f.indexOf(C);$!=-1&&f.splice($,1)}}this.session.selectionMarkerCount=f.length},this.$onAddRange=function(A){this.addSelectionMarker(A.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(A){this.removeSelectionMarkers(A.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(A){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(e.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(A){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(e.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(A){var f=A.command,h=A.editor;if(h.multiSelect){if(f.multiSelectAction)f.multiSelectAction=="forEach"?C=h.forEachSelection(f,A.args):f.multiSelectAction=="forEachLine"?C=h.forEachSelection(f,A.args,!0):f.multiSelectAction=="single"?(h.exitMultiSelectMode(),C=f.exec(h,A.args||{})):C=f.multiSelectAction(h,A.args||{});else{var C=f.exec(h,A.args||{});h.multiSelect.addRange(h.multiSelect.toOrientedRange()),h.multiSelect.mergeOverlappingRanges()}return C}},this.forEachSelection=function(A,f,h){if(!this.inVirtualSelectionMode){var C=h&&h.keepOrder,$=h==!0||h&&h.$byLines,T=this.session,b=this.selection,g=b.rangeList,M=(C?b:g).ranges,E;if(!M.length)return A.exec?A.exec(this,f||{}):A(this,f||{});var y=b._eventRegistry;b._eventRegistry={};var x=new w(T);this.inVirtualSelectionMode=!0;for(var R=M.length;R--;){if($)for(;R>0&&M[R].start.row==M[R-1].end.row;)R--;x.fromOrientedRange(M[R]),x.index=R,this.selection=T.selection=x;var I=A.exec?A.exec(this,f||{}):A(this,f||{});!E&&I!==void 0&&(E=I),x.toOrientedRange(M[R])}x.detach(),this.selection=T.selection=b,this.inVirtualSelectionMode=!1,b._eventRegistry=y,b.mergeOverlappingRanges(),b.ranges[0]&&b.fromOrientedRange(b.ranges[0]);var O=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),O&&O.from==O.to&&this.renderer.animateScrolling(O.from),E}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var A="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var f=this.multiSelect.rangeList.ranges,h=[],C=0;C<f.length;C++)h.push(this.session.getTextRange(f[C]));var $=this.session.getDocument().getNewLineCharacter();A=h.join($),A.length==(h.length-1)*$.length&&(A="")}else this.selection.isEmpty()||(A=this.session.getTextRange(this.getSelectionRange()));return A},this.$checkMultiselectChange=function(A,f){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var h=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&f==this.multiSelect.anchor)return;var C=f==this.multiSelect.anchor?h.cursor==h.start?h.end:h.start:h.cursor;C.row!=f.row||this.session.$clipPositionToDocument(C.row,C.column).column!=f.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(A,f,h){if(f=f||{},f.needle=A||f.needle,f.needle==null){var C=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();f.needle=this.session.getTextRange(C)}this.$search.set(f);var $=this.$search.findAll(this.session);if(!$.length)return 0;var T=this.multiSelect;h||T.toSingleRange($[0]);for(var b=$.length;b--;)T.addRange($[b],!0);return C&&T.rangeList.rangeAtPoint(C.start)&&T.addRange(C,!0),$.length},this.selectMoreLines=function(A,f){var h=this.selection.toOrientedRange(),C=h.cursor==h.end,$=this.session.documentToScreenPosition(h.cursor);this.selection.$desiredColumn&&($.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition($.row+A,$.column);if(h.isEmpty())var g=T;else var b=this.session.documentToScreenPosition(C?h.end:h.start),g=this.session.screenToDocumentPosition(b.row+A,b.column);if(C){var M=S.fromPoints(T,g);M.cursor=M.start}else{var M=S.fromPoints(g,T);M.cursor=M.end}if(M.desiredColumn=$.column,!this.selection.inMultiSelectMode)this.selection.addRange(h);else if(f)var E=h.cursor;this.selection.addRange(M),E&&this.selection.substractPoint(E)},this.transposeSelections=function(A){for(var f=this.session,h=f.multiSelect,C=h.ranges,$=C.length;$--;){var T=C[$];if(T.isEmpty()){var b=f.getWordRange(T.start.row,T.start.column);T.start.row=b.start.row,T.start.column=b.start.column,T.end.row=b.end.row,T.end.column=b.end.column}}h.mergeOverlappingRanges();for(var g=[],$=C.length;$--;){var T=C[$];g.unshift(f.getTextRange(T))}A<0?g.unshift(g.pop()):g.push(g.shift());for(var $=C.length;$--;){var T=C[$],b=T.clone();f.replace(T,g[$]),T.start.row=b.start.row,T.start.column=b.start.column}h.fromOrientedRange(h.ranges[0])},this.selectMore=function(A,f,h){var C=this.session,$=C.multiSelect,T=$.toOrientedRange();if(!(T.isEmpty()&&(T=C.getWordRange(T.start.row,T.start.column),T.cursor=A==-1?T.start:T.end,this.multiSelect.addRange(T),h))){var b=C.getTextRange(T),g=r(C,b,A);g&&(g.cursor=A==-1?g.start:g.end,this.session.unfold(g),this.multiSelect.addRange(g),this.renderer.scrollCursorIntoView(null,.5)),f&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var A=this.session,f=A.multiSelect,h=f.ranges,C=-1,$=h.filter(function(D){if(D.cursor.row==C)return!0;C=D.cursor.row});if(!h.length||$.length==h.length-1){var T=this.selection.getRange(),b=T.start.row,g=T.end.row,M=b==g;if(M){var E=this.session.getLength(),y;do y=this.session.getLine(g);while(/[=:]/.test(y)&&++g<E);do y=this.session.getLine(b);while(/[=:]/.test(y)&&--b>0);b<0&&(b=0),g>=E&&(g=E-1)}var x=this.session.removeFullLines(b,g);x=this.$reAlignText(x,M),this.session.insert({row:b,column:0},x.join(`
`)+`
`),M||(T.start.column=0,T.end.column=x[x.length-1].length),this.selection.setRange(T)}else{$.forEach(function(D){f.substractPoint(D.cursor)});var R=0,I=1/0,O=h.map(function(D){var F=D.cursor,W=A.getLine(F.row),V=W.substr(F.column).search(/\S/g);return V==-1&&(V=0),F.column>R&&(R=F.column),V<I&&(I=V),V});h.forEach(function(D,F){var W=D.cursor,V=R-W.column,N=O[F]-I;V>N?A.insert(W,t.stringRepeat(" ",V-N)):A.remove(new S(W.row,W.column,W.row,W.column-V+N)),D.start.column=D.end.column=R,D.start.row=D.end.row=W.row,D.cursor=D.end}),f.fromOrientedRange(h[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(A,f){var h=!0,C=!0,$,T,b;return A.map(function(x){var R=x.match(/(\s*)(.*?)(\s*)([=:].*)/);return R?$==null?($=R[1].length,T=R[2].length,b=R[3].length,R):($+T+b!=R[1].length+R[2].length+R[3].length&&(C=!1),$!=R[1].length&&(h=!1),$>R[1].length&&($=R[1].length),T<R[2].length&&(T=R[2].length),b>R[3].length&&(b=R[3].length),R):[x]}).map(f?M:h?C?E:M:y);function g(x){return t.stringRepeat(" ",x)}function M(x){return x[2]?g($)+x[2]+g(T-x[2].length+b)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}function E(x){return x[2]?g($+T-x[2].length)+x[2]+g(b)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}function y(x){return x[2]?g($)+x[2]+g(b)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}}}).call(l.prototype);function m(A,f){return A.row==f.row&&A.column==f.column}p.onSessionChange=function(A){var f=A.session;f&&!f.multiSelect&&(f.$selectionMarkers=[],f.selection.$initRangeList(),f.multiSelect=f.selection),this.multiSelect=f&&f.multiSelect;var h=A.oldSession;h&&(h.multiSelect.off("addRange",this.$onAddRange),h.multiSelect.off("removeRange",this.$onRemoveRange),h.multiSelect.off("multiSelect",this.$onMultiSelect),h.multiSelect.off("singleSelect",this.$onSingleSelect),h.multiSelect.lead.off("change",this.$checkMultiselectChange),h.multiSelect.anchor.off("change",this.$checkMultiselectChange)),f&&(f.multiSelect.on("addRange",this.$onAddRange),f.multiSelect.on("removeRange",this.$onRemoveRange),f.multiSelect.on("multiSelect",this.$onMultiSelect),f.multiSelect.on("singleSelect",this.$onSingleSelect),f.multiSelect.lead.on("change",this.$checkMultiselectChange),f.multiSelect.anchor.on("change",this.$checkMultiselectChange)),f&&this.inMultiSelectMode!=f.selection.inMultiSelectMode&&(f.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function u(A){A.$multiselectOnSessionChange||(A.$onAddRange=A.$onAddRange.bind(A),A.$onRemoveRange=A.$onRemoveRange.bind(A),A.$onMultiSelect=A.$onMultiSelect.bind(A),A.$onSingleSelect=A.$onSingleSelect.bind(A),A.$multiselectOnSessionChange=p.onSessionChange.bind(A),A.$checkMultiselectChange=A.$checkMultiselectChange.bind(A),A.$multiselectOnSessionChange(A),A.on("changeSession",A.$multiselectOnSessionChange),A.on("mousedown",s),A.commands.addCommands(e.defaultCommands),_(A))}function _(A){if(!A.textInput)return;var f=A.textInput.getElement(),h=!1;a.addListener(f,"keydown",function($){var T=$.keyCode==18&&!($.ctrlKey||$.shiftKey||$.metaKey);A.$blockSelectEnabled&&T?h||(A.renderer.setMouseCursor("crosshair"),h=!0):h&&C()},A),a.addListener(f,"keyup",C,A),a.addListener(f,"blur",C,A);function C($){h&&(A.renderer.setMouseCursor(""),h=!1)}}p.MultiSelect=u,c("./config").defineOptions(l.prototype,"editor",{enableMultiselect:{set:function(A){u(this),A?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(A){this.$blockSelectEnabled=A},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(c,p,k){var d=c("../../range").Range,S=p.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(w,s,a){var t=w.getLine(a);return this.foldingStartMarker.test(t)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(t)?"end":""},this.getFoldWidgetRange=function(w,s,a){return null},this.indentationBlock=function(w,s,a){var t=/\S/,e=w.getLine(s),n=e.search(t);if(n!=-1){for(var i=a||e.length,r=w.getLength(),o=s,l=s;++s<r;){var m=w.getLine(s).search(t);if(m!=-1){if(m<=n){var u=w.getTokenAt(s,0);if(!u||u.type!=="string")break}l=s}}if(l>o){var _=w.getLine(l).length;return new d(o,i,l,_)}}},this.openingBracketBlock=function(w,s,a,t,e){var n={row:a,column:t+1},i=w.$findClosingBracket(s,n,e);if(i){var r=w.foldWidgets[i.row];return r==null&&(r=w.getFoldWidget(i.row)),r=="start"&&i.row>n.row&&(i.row--,i.column=w.getLine(i.row).length),d.fromPoints(n,i)}},this.closingBracketBlock=function(w,s,a,t,e){var n={row:a,column:t},i=w.$findOpeningBracket(s,n);if(i)return i.column++,n.column--,d.fromPoints(i,n)}}).call(S.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(c,p,k){var d=c("../line_widgets").LineWidgets,S=c("../lib/dom"),w=c("../range").Range,s=c("../config").nls;function a(e,n,i){for(var r=0,o=e.length-1;r<=o;){var l=r+o>>1,m=i(n,e[l]);if(m>0)r=l+1;else if(m<0)o=l-1;else return l}return-(r+1)}function t(e,n,i){var r=e.getAnnotations().sort(w.comparePoints);if(r.length){var o=a(r,{row:n,column:-1},w.comparePoints);o<0&&(o=-o-1),o>=r.length?o=i>0?0:r.length-1:o===0&&i<0&&(o=r.length-1);var l=r[o];if(!(!l||!i)){if(l.row===n){do l=r[o+=i];while(l&&l.row===n);if(!l)return r.slice()}var m=[];n=l.row;do m[i<0?"unshift":"push"](l),l=r[o+=i];while(l&&l.row==n);return m.length&&m}}}p.showErrorMarker=function(e,n){var i=e.session;i.widgetManager||(i.widgetManager=new d(i),i.widgetManager.attach(e));var r=e.getCursorPosition(),o=r.row,l=i.widgetManager.getWidgetsAtRow(o).filter(function(T){return T.type=="errorMarker"})[0];l?l.destroy():o-=n;var m=t(i,o,n),u;if(m){var _=m[0];r.column=(_.pos&&typeof _.column!="number"?_.pos.sc:_.column)||0,r.row=_.row,u=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;u={text:[s("Looks good!")],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var A={row:r.row,fixedWidth:!0,coverGutter:!0,el:S.createElement("div"),type:"errorMarker"},f=A.el.appendChild(S.createElement("div")),h=A.el.appendChild(S.createElement("div"));h.className="error_widget_arrow "+u.className;var C=e.renderer.$cursorLayer.getPixelPosition(r).left;h.style.left=C+e.renderer.gutterWidth-5+"px",A.el.className="error_widget_wrapper",f.className="error_widget "+u.className,f.innerHTML=u.text.join("<br>"),f.appendChild(S.createElement("div"));var $=function(T,b,g){if(b===0&&(g==="esc"||g==="return"))return A.destroy(),{command:"null"}};A.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler($),i.widgetManager.removeLineWidget(A),e.off("changeSelection",A.destroy),e.off("changeSession",A.destroy),e.off("mouseup",A.destroy),e.off("change",A.destroy))},e.keyBinding.addKeyboardHandler($),e.on("changeSelection",A.destroy),e.on("changeSession",A.destroy),e.on("mouseup",A.destroy),e.on("change",A.destroy),e.session.widgetManager.addLineWidget(A),A.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:A.el.offsetHeight})},S.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(c,p,k){c("./loader_build")(p);var d=c("./lib/dom"),S=c("./range").Range,w=c("./editor").Editor,s=c("./edit_session").EditSession,a=c("./undomanager").UndoManager,t=c("./virtual_renderer").VirtualRenderer;c("./worker/worker_client"),c("./keyboard/hash_handler"),c("./placeholder"),c("./multi_select"),c("./mode/folding/fold_mode"),c("./theme/textmate"),c("./ext/error_marker"),p.config=c("./config"),p.edit=function(e,n){if(typeof e=="string"){var i=e;if(e=document.getElementById(i),!e)throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof w)return e.env.editor;var r="";if(e&&/input|textarea/i.test(e.tagName)){var o=e;r=o.value,e=d.createElement("pre"),o.parentNode.replaceChild(e,o)}else e&&(r=e.textContent,e.innerHTML="");var l=p.createEditSession(r),m=new w(new t(e),l,n),u={document:l,editor:m,onResize:m.resize.bind(m,null)};return o&&(u.textarea=o),m.on("destroy",function(){u.editor.container.env=null}),m.container.env=m.env=u,m},p.createEditSession=function(e,n){var i=new s(e,n);return i.setUndoManager(new a),i},p.Range=S,p.Editor=w,p.EditSession=s,p.UndoManager=a,p.VirtualRenderer=t,p.version=p.config.version}),function(){ace.require(["ace/ace"],function(c){c&&(c.config.init(!0),c.define=ace.define),window.ace||(window.ace=c);for(var p in c)c.hasOwnProperty(p)&&(window.ace[p]=c[p]);window.ace.default=window.ace,L&&(L.exports=window.ace)})}()})(ei);var At=ei.exports,ti={exports:{}},Rr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ir=Rr,Or=Ir;function ni(){}function ii(){}ii.resetWarningCache=ni;var Dr=function(){function L(p,k,d,S,w,s){if(s!==Or){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}L.isRequired=L;function v(){return L}var c={array:L,bigint:L,bool:L,func:L,number:L,object:L,string:L,symbol:L,any:L,arrayOf:v,element:L,elementType:L,instanceOf:v,node:L,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:ii,resetWarningCache:ni};return c.PropTypes=c,c};ti.exports=Dr();var sn=ti.exports,Tt={exports:{}};Tt.exports;(function(L,v){var c=200,p="__lodash_hash_undefined__",k=1,d=2,S=9007199254740991,w="[object Arguments]",s="[object Array]",a="[object AsyncFunction]",t="[object Boolean]",e="[object Date]",n="[object Error]",i="[object Function]",r="[object GeneratorFunction]",o="[object Map]",l="[object Number]",m="[object Null]",u="[object Object]",_="[object Promise]",A="[object Proxy]",f="[object RegExp]",h="[object Set]",C="[object String]",$="[object Symbol]",T="[object Undefined]",b="[object WeakMap]",g="[object ArrayBuffer]",M="[object DataView]",E="[object Float32Array]",y="[object Float64Array]",x="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",F="[object Uint16Array]",W="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,z={};z[E]=z[y]=z[x]=z[R]=z[I]=z[O]=z[D]=z[F]=z[W]=!0,z[w]=z[s]=z[g]=z[t]=z[M]=z[e]=z[n]=z[i]=z[o]=z[l]=z[u]=z[f]=z[h]=z[C]=z[b]=!1;var U=typeof be=="object"&&be&&be.Object===Object&&be,j=typeof self=="object"&&self&&self.Object===Object&&self,K=U||j||Function("return this")(),X=v&&!v.nodeType&&v,Z=X&&!0&&L&&!L.nodeType&&L,te=Z&&Z.exports===X,oe=te&&U.process,Se=function(){try{return oe&&oe.binding&&oe.binding("util")}catch{}}(),ve=Se&&Se.isTypedArray;function ge(P,B){for(var Y=-1,Q=P==null?0:P.length,pe=0,re=[];++Y<Q;){var we=P[Y];B(we,Y,P)&&(re[pe++]=we)}return re}function $e(P,B){for(var Y=-1,Q=B.length,pe=P.length;++Y<Q;)P[pe+Y]=B[Y];return P}function ze(P,B){for(var Y=-1,Q=P==null?0:P.length;++Y<Q;)if(B(P[Y],Y,P))return!0;return!1}function Ne(P,B){for(var Y=-1,Q=Array(P);++Y<P;)Q[Y]=B(Y);return Q}function at(P){return function(B){return P(B)}}function et(P,B){return P.has(B)}function lt(P,B){return P==null?void 0:P[B]}function Ot(P){var B=-1,Y=Array(P.size);return P.forEach(function(Q,pe){Y[++B]=[pe,Q]}),Y}function G(P,B){return function(Y){return P(B(Y))}}function J(P){var B=-1,Y=Array(P.size);return P.forEach(function(Q){Y[++B]=Q}),Y}var ee=Array.prototype,se=Function.prototype,ae=Object.prototype,de=K["__core-js_shared__"],me=se.toString,le=ae.hasOwnProperty,fe=function(){var P=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),ce=ae.toString,_e=RegExp("^"+me.call(le).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=te?K.Buffer:void 0,Ve=K.Symbol,yn=K.Uint8Array,wn=ae.propertyIsEnumerable,Ii=ee.splice,Ge=Ve?Ve.toStringTag:void 0,bn=Object.getOwnPropertySymbols,Oi=Ue?Ue.isBuffer:void 0,Di=G(Object.keys,Object),Dt=tt(K,"DataView"),ct=tt(K,"Map"),Pt=tt(K,"Promise"),Ft=tt(K,"Set"),Nt=tt(K,"WeakMap"),ht=tt(Object,"create"),Pi=Ye(Dt),Fi=Ye(ct),Ni=Ye(Pt),Hi=Ye(Ft),Wi=Ye(Nt),Sn=Ve?Ve.prototype:void 0,Ht=Sn?Sn.valueOf:void 0;function Ke(P){var B=-1,Y=P==null?0:P.length;for(this.clear();++B<Y;){var Q=P[B];this.set(Q[0],Q[1])}}function Bi(){this.__data__=ht?ht(null):{},this.size=0}function zi(P){var B=this.has(P)&&delete this.__data__[P];return this.size-=B?1:0,B}function Ui(P){var B=this.__data__;if(ht){var Y=B[P];return Y===p?void 0:Y}return le.call(B,P)?B[P]:void 0}function Vi(P){var B=this.__data__;return ht?B[P]!==void 0:le.call(B,P)}function Gi(P,B){var Y=this.__data__;return this.size+=this.has(P)?0:1,Y[P]=ht&&B===void 0?p:B,this}Ke.prototype.clear=Bi,Ke.prototype.delete=zi,Ke.prototype.get=Ui,Ke.prototype.has=Vi,Ke.prototype.set=Gi;function De(P){var B=-1,Y=P==null?0:P.length;for(this.clear();++B<Y;){var Q=P[B];this.set(Q[0],Q[1])}}function Ki(){this.__data__=[],this.size=0}function ji(P){var B=this.__data__,Y=vt(B,P);if(Y<0)return!1;var Q=B.length-1;return Y==Q?B.pop():Ii.call(B,Y,1),--this.size,!0}function Yi(P){var B=this.__data__,Y=vt(B,P);return Y<0?void 0:B[Y][1]}function Xi(P){return vt(this.__data__,P)>-1}function Qi(P,B){var Y=this.__data__,Q=vt(Y,P);return Q<0?(++this.size,Y.push([P,B])):Y[Q][1]=B,this}De.prototype.clear=Ki,De.prototype.delete=ji,De.prototype.get=Yi,De.prototype.has=Xi,De.prototype.set=Qi;function je(P){var B=-1,Y=P==null?0:P.length;for(this.clear();++B<Y;){var Q=P[B];this.set(Q[0],Q[1])}}function Zi(){this.size=0,this.__data__={hash:new Ke,map:new(ct||De),string:new Ke}}function Ji(P){var B=mt(this,P).delete(P);return this.size-=B?1:0,B}function qi(P){return mt(this,P).get(P)}function er(P){return mt(this,P).has(P)}function tr(P,B){var Y=mt(this,P),Q=Y.size;return Y.set(P,B),this.size+=Y.size==Q?0:1,this}je.prototype.clear=Zi,je.prototype.delete=Ji,je.prototype.get=qi,je.prototype.has=er,je.prototype.set=tr;function pt(P){var B=-1,Y=P==null?0:P.length;for(this.__data__=new je;++B<Y;)this.add(P[B])}function nr(P){return this.__data__.set(P,p),this}function ir(P){return this.__data__.has(P)}pt.prototype.add=pt.prototype.push=nr,pt.prototype.has=ir;function He(P){var B=this.__data__=new De(P);this.size=B.size}function rr(){this.__data__=new De,this.size=0}function or(P){var B=this.__data__,Y=B.delete(P);return this.size=B.size,Y}function sr(P){return this.__data__.get(P)}function ar(P){return this.__data__.has(P)}function lr(P,B){var Y=this.__data__;if(Y instanceof De){var Q=Y.__data__;if(!ct||Q.length<c-1)return Q.push([P,B]),this.size=++Y.size,this;Y=this.__data__=new je(Q)}return Y.set(P,B),this.size=Y.size,this}He.prototype.clear=rr,He.prototype.delete=or,He.prototype.get=sr,He.prototype.has=ar,He.prototype.set=lr;function cr(P,B){var Y=yt(P),Q=!Y&&Ar(P),pe=!Y&&!Q&&Wt(P),re=!Y&&!Q&&!pe&&xn(P),we=Y||Q||pe||re,Ce=we?Ne(P.length,String):[],Ae=Ce.length;for(var ye in P)(B||le.call(P,ye))&&!(we&&(ye=="length"||pe&&(ye=="offset"||ye=="parent")||re&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||wr(ye,Ae)))&&Ce.push(ye);return Ce}function vt(P,B){for(var Y=P.length;Y--;)if(En(P[Y][0],B))return Y;return-1}function hr(P,B,Y){var Q=B(P);return yt(P)?Q:$e(Q,Y(P))}function ut(P){return P==null?P===void 0?T:m:Ge&&Ge in Object(P)?mr(P):$r(P)}function Cn(P){return dt(P)&&ut(P)==w}function $n(P,B,Y,Q,pe){return P===B?!0:P==null||B==null||!dt(P)&&!dt(B)?P!==P&&B!==B:ur(P,B,Y,Q,$n,pe)}function ur(P,B,Y,Q,pe,re){var we=yt(P),Ce=yt(B),Ae=we?s:We(P),ye=Ce?s:We(B);Ae=Ae==w?u:Ae,ye=ye==w?u:ye;var Ee=Ae==u,Ie=ye==u,Te=Ae==ye;if(Te&&Wt(P)){if(!Wt(B))return!1;we=!0,Ee=!1}if(Te&&!Ee)return re||(re=new He),we||xn(P)?An(P,B,Y,Q,pe,re):pr(P,B,Ae,Y,Q,pe,re);if(!(Y&k)){var Le=Ee&&le.call(P,"__wrapped__"),xe=Ie&&le.call(B,"__wrapped__");if(Le||xe){var Be=Le?P.value():P,Pe=xe?B.value():B;return re||(re=new He),pe(Be,Pe,Y,Q,re)}}return Te?(re||(re=new He),vr(P,B,Y,Q,pe,re)):!1}function dr(P){if(!Ln(P)||Sr(P))return!1;var B=Mn(P)?_e:N;return B.test(Ye(P))}function fr(P){return dt(P)&&_n(P.length)&&!!z[ut(P)]}function gr(P){if(!Cr(P))return Di(P);var B=[];for(var Y in Object(P))le.call(P,Y)&&Y!="constructor"&&B.push(Y);return B}function An(P,B,Y,Q,pe,re){var we=Y&k,Ce=P.length,Ae=B.length;if(Ce!=Ae&&!(we&&Ae>Ce))return!1;var ye=re.get(P);if(ye&&re.get(B))return ye==B;var Ee=-1,Ie=!0,Te=Y&d?new pt:void 0;for(re.set(P,B),re.set(B,P);++Ee<Ce;){var Le=P[Ee],xe=B[Ee];if(Q)var Be=we?Q(xe,Le,Ee,B,P,re):Q(Le,xe,Ee,P,B,re);if(Be!==void 0){if(Be)continue;Ie=!1;break}if(Te){if(!ze(B,function(Pe,Xe){if(!et(Te,Xe)&&(Le===Pe||pe(Le,Pe,Y,Q,re)))return Te.push(Xe)})){Ie=!1;break}}else if(!(Le===xe||pe(Le,xe,Y,Q,re))){Ie=!1;break}}return re.delete(P),re.delete(B),Ie}function pr(P,B,Y,Q,pe,re,we){switch(Y){case M:if(P.byteLength!=B.byteLength||P.byteOffset!=B.byteOffset)return!1;P=P.buffer,B=B.buffer;case g:return!(P.byteLength!=B.byteLength||!re(new yn(P),new yn(B)));case t:case e:case l:return En(+P,+B);case n:return P.name==B.name&&P.message==B.message;case f:case C:return P==B+"";case o:var Ce=Ot;case h:var Ae=Q&k;if(Ce||(Ce=J),P.size!=B.size&&!Ae)return!1;var ye=we.get(P);if(ye)return ye==B;Q|=d,we.set(P,B);var Ee=An(Ce(P),Ce(B),Q,pe,re,we);return we.delete(P),Ee;case $:if(Ht)return Ht.call(P)==Ht.call(B)}return!1}function vr(P,B,Y,Q,pe,re){var we=Y&k,Ce=Tn(P),Ae=Ce.length,ye=Tn(B),Ee=ye.length;if(Ae!=Ee&&!we)return!1;for(var Ie=Ae;Ie--;){var Te=Ce[Ie];if(!(we?Te in B:le.call(B,Te)))return!1}var Le=re.get(P);if(Le&&re.get(B))return Le==B;var xe=!0;re.set(P,B),re.set(B,P);for(var Be=we;++Ie<Ae;){Te=Ce[Ie];var Pe=P[Te],Xe=B[Te];if(Q)var kn=we?Q(Xe,Pe,Te,B,P,re):Q(Pe,Xe,Te,P,B,re);if(!(kn===void 0?Pe===Xe||pe(Pe,Xe,Y,Q,re):kn)){xe=!1;break}Be||(Be=Te=="constructor")}if(xe&&!Be){var wt=P.constructor,bt=B.constructor;wt!=bt&&"constructor"in P&&"constructor"in B&&!(typeof wt=="function"&&wt instanceof wt&&typeof bt=="function"&&bt instanceof bt)&&(xe=!1)}return re.delete(P),re.delete(B),xe}function Tn(P){return hr(P,Mr,yr)}function mt(P,B){var Y=P.__data__;return br(B)?Y[typeof B=="string"?"string":"hash"]:Y.map}function tt(P,B){var Y=lt(P,B);return dr(Y)?Y:void 0}function mr(P){var B=le.call(P,Ge),Y=P[Ge];try{P[Ge]=void 0;var Q=!0}catch{}var pe=ce.call(P);return Q&&(B?P[Ge]=Y:delete P[Ge]),pe}var yr=bn?function(P){return P==null?[]:(P=Object(P),ge(bn(P),function(B){return wn.call(P,B)}))}:_r,We=ut;(Dt&&We(new Dt(new ArrayBuffer(1)))!=M||ct&&We(new ct)!=o||Pt&&We(Pt.resolve())!=_||Ft&&We(new Ft)!=h||Nt&&We(new Nt)!=b)&&(We=function(P){var B=ut(P),Y=B==u?P.constructor:void 0,Q=Y?Ye(Y):"";if(Q)switch(Q){case Pi:return M;case Fi:return o;case Ni:return _;case Hi:return h;case Wi:return b}return B});function wr(P,B){return B=B??S,!!B&&(typeof P=="number"||H.test(P))&&P>-1&&P%1==0&&P<B}function br(P){var B=typeof P;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?P!=="__proto__":P===null}function Sr(P){return!!fe&&fe in P}function Cr(P){var B=P&&P.constructor,Y=typeof B=="function"&&B.prototype||ae;return P===Y}function $r(P){return ce.call(P)}function Ye(P){if(P!=null){try{return me.call(P)}catch{}try{return P+""}catch{}}return""}function En(P,B){return P===B||P!==P&&B!==B}var Ar=Cn(function(){return arguments}())?Cn:function(P){return dt(P)&&le.call(P,"callee")&&!wn.call(P,"callee")},yt=Array.isArray;function Tr(P){return P!=null&&_n(P.length)&&!Mn(P)}var Wt=Oi||Lr;function Er(P,B){return $n(P,B)}function Mn(P){if(!Ln(P))return!1;var B=ut(P);return B==i||B==r||B==a||B==A}function _n(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=S}function Ln(P){var B=typeof P;return P!=null&&(B=="object"||B=="function")}function dt(P){return P!=null&&typeof P=="object"}var xn=ve?at(ve):fr;function Mr(P){return Tr(P)?cr(P):gr(P)}function _r(){return[]}function Lr(){return!1}L.exports=Er})(Tt,Tt.exports);var ri=Tt.exports,Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getAceInstance=Oe.debounce=Oe.editorEvents=Oe.editorOptions=void 0;var Pr=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Oe.editorOptions=Pr;var Fr=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Oe.editorEvents=Fr;var Nr=function(){var L;return typeof window>"u"?(be.window={},L=At,delete be.window):window.ace?(L=window.ace,L.acequire=window.ace.require||window.ace.acequire):L=At,L};Oe.getAceInstance=Nr;var Hr=function(L,v){var c=null;return function(){var p=this,k=arguments;clearTimeout(c),c=setTimeout(function(){L.apply(p,k)},v)}};Oe.debounce=Hr;var Wr=be&&be.__extends||function(){var L=function(v,c){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,k){p.__proto__=k}||function(p,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(p[d]=k[d])},L(v,c)};return function(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");L(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Zt=be&&be.__assign||function(){return Zt=Object.assign||function(L){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var k in v)Object.prototype.hasOwnProperty.call(v,k)&&(L[k]=v[k])}return L},Zt.apply(this,arguments)};Object.defineProperty(on,"__esModule",{value:!0});var Br=At,q=sn,Rn=ue,St=ri,it=Oe,In=(0,it.getAceInstance)(),zr=function(L){Wr(v,L);function v(c){var p=L.call(this,c)||this;return it.editorEvents.forEach(function(k){p[k]=p[k].bind(p)}),p.debounce=it.debounce,p}return v.prototype.isInShadow=function(c){for(var p=c&&c.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},v.prototype.componentDidMount=function(){var c=this,p=this.props,k=p.className,d=p.onBeforeLoad,S=p.onValidate,w=p.mode,s=p.focus,a=p.theme,t=p.fontSize,e=p.value,n=p.defaultValue,i=p.showGutter,r=p.wrapEnabled,o=p.showPrintMargin,l=p.scrollMargin,m=l===void 0?[0,0,0,0]:l,u=p.keyboardHandler,_=p.onLoad,A=p.commands,f=p.annotations,h=p.markers,C=p.placeholder;this.editor=In.edit(this.refEditor),d&&d(In);for(var $=Object.keys(this.props.editorProps),T=0;T<$.length;T++)this.editor[$[T]]=this.props.editorProps[$[T]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(m[0],m[1],m[2],m[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof w=="string"?"ace/mode/".concat(w):w),a&&a!==""&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize(typeof t=="number"?"".concat(t,"px"):t),this.editor.getSession().setValue(n||e||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(i),this.editor.getSession().setUseWrapMode(r),this.editor.setShowPrintMargin(o),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),C&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),S&&this.editor.getSession().on("changeAnnotation",function(){var g=c.editor.getSession().getAnnotations();c.props.onValidate(g)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(f||[]),h&&h.length>0&&this.handleMarkers(h);var b=this.editor.$options;it.editorOptions.forEach(function(g){b.hasOwnProperty(g)?c.editor.setOption(g,c.props[g]):c.props[g]&&console.warn("ReactAce: editor option ".concat(g," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(A)&&A.forEach(function(g){typeof g.exec=="string"?c.editor.commands.bindKey(g.bindKey,g.exec):c.editor.commands.addCommand(g)}),u&&this.editor.setKeyboardHandler("ace/keyboard/"+u),k&&(this.refEditor.className+=" "+k),_&&_(this.editor),this.editor.resize(),s&&this.editor.focus()},v.prototype.componentDidUpdate=function(c){for(var p=c,k=this.props,d=0;d<it.editorOptions.length;d++){var S=it.editorOptions[d];k[S]!==p[S]&&this.editor.setOption(S,k[S])}if(k.className!==p.className){var w=this.refEditor.className,s=w.trim().split(" "),a=p.className.trim().split(" ");a.forEach(function(n){var i=s.indexOf(n);s.splice(i,1)}),this.refEditor.className=" "+k.className+" "+s.join(" ")}var t=this.editor&&k.value!=null&&this.editor.getValue()!==k.value;if(t){this.silent=!0;var e=this.editor.session.selection.toJSON();this.editor.setValue(k.value,k.cursorStart),this.editor.session.selection.fromJSON(e),this.silent=!1}k.placeholder!==p.placeholder&&this.updatePlaceholder(),k.mode!==p.mode&&this.editor.getSession().setMode(typeof k.mode=="string"?"ace/mode/".concat(k.mode):k.mode),k.theme!==p.theme&&this.editor.setTheme("ace/theme/"+k.theme),k.keyboardHandler!==p.keyboardHandler&&(k.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+k.keyboardHandler):this.editor.setKeyboardHandler(null)),k.fontSize!==p.fontSize&&this.editor.setFontSize(typeof k.fontSize=="number"?"".concat(k.fontSize,"px"):k.fontSize),k.wrapEnabled!==p.wrapEnabled&&this.editor.getSession().setUseWrapMode(k.wrapEnabled),k.showPrintMargin!==p.showPrintMargin&&this.editor.setShowPrintMargin(k.showPrintMargin),k.showGutter!==p.showGutter&&this.editor.renderer.setShowGutter(k.showGutter),St(k.setOptions,p.setOptions)||this.handleOptions(k),(t||!St(k.annotations,p.annotations))&&this.editor.getSession().setAnnotations(k.annotations||[]),!St(k.markers,p.markers)&&Array.isArray(k.markers)&&this.handleMarkers(k.markers),St(k.scrollMargin,p.scrollMargin)||this.handleScrollMargins(k.scrollMargin),(c.height!==this.props.height||c.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!c.focus&&this.editor.focus()},v.prototype.handleScrollMargins=function(c){c===void 0&&(c=[0,0,0,0]),this.editor.renderer.setScrollMargin(c[0],c[1],c[2],c[3])},v.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},v.prototype.onChange=function(c){if(this.props.onChange&&!this.silent){var p=this.editor.getValue();this.props.onChange(p,c)}},v.prototype.onSelectionChange=function(c){if(this.props.onSelectionChange){var p=this.editor.getSelection();this.props.onSelectionChange(p,c)}},v.prototype.onCursorChange=function(c){if(this.props.onCursorChange){var p=this.editor.getSelection();this.props.onCursorChange(p,c)}},v.prototype.onInput=function(c){this.props.onInput&&this.props.onInput(c),this.props.placeholder&&this.updatePlaceholder()},v.prototype.onFocus=function(c){this.props.onFocus&&this.props.onFocus(c,this.editor)},v.prototype.onBlur=function(c){this.props.onBlur&&this.props.onBlur(c,this.editor)},v.prototype.onCopy=function(c){var p=c.text;this.props.onCopy&&this.props.onCopy(p)},v.prototype.onPaste=function(c){var p=c.text;this.props.onPaste&&this.props.onPaste(p)},v.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},v.prototype.handleOptions=function(c){for(var p=Object.keys(c.setOptions),k=0;k<p.length;k++)this.editor.setOption(p[k],c.setOptions[p[k]])},v.prototype.handleMarkers=function(c){var p=this,k=this.editor.getSession().getMarkers(!0);for(var d in k)k.hasOwnProperty(d)&&this.editor.getSession().removeMarker(k[d].id);k=this.editor.getSession().getMarkers(!1);for(var d in k)k.hasOwnProperty(d)&&k[d].clazz!=="ace_active-line"&&k[d].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(k[d].id);c.forEach(function(S){var w=S.startRow,s=S.startCol,a=S.endRow,t=S.endCol,e=S.className,n=S.type,i=S.inFront,r=i===void 0?!1:i,o=new Br.Range(w,s,a,t);p.editor.getSession().addMarker(o,e,n,r)})},v.prototype.updatePlaceholder=function(){var c=this.editor,p=this.props.placeholder,k=!c.session.getValue().length,d=c.renderer.placeholderNode;!k&&d?(c.renderer.scroller.removeChild(c.renderer.placeholderNode),c.renderer.placeholderNode=null):k&&!d?(d=c.renderer.placeholderNode=document.createElement("div"),d.textContent=p||"",d.className="ace_comment ace_placeholder",d.style.padding="0 9px",d.style.position="absolute",d.style.zIndex="3",c.renderer.scroller.appendChild(d)):k&&d&&(d.textContent=p)},v.prototype.updateRef=function(c){this.refEditor=c},v.prototype.render=function(){var c=this.props,p=c.name,k=c.width,d=c.height,S=c.style,w=Zt({width:k,height:d},S);return Rn.createElement("div",{ref:this.updateRef,id:p,style:w})},v.propTypes={mode:q.oneOfType([q.string,q.object]),focus:q.bool,theme:q.string,name:q.string,className:q.string,height:q.string,width:q.string,fontSize:q.oneOfType([q.number,q.string]),showGutter:q.bool,onChange:q.func,onCopy:q.func,onPaste:q.func,onFocus:q.func,onInput:q.func,onBlur:q.func,onScroll:q.func,value:q.string,defaultValue:q.string,onLoad:q.func,onSelectionChange:q.func,onCursorChange:q.func,onBeforeLoad:q.func,onValidate:q.func,minLines:q.number,maxLines:q.number,readOnly:q.bool,highlightActiveLine:q.bool,tabSize:q.number,showPrintMargin:q.bool,cursorStart:q.number,debounceChangePeriod:q.number,editorProps:q.object,setOptions:q.object,style:q.object,scrollMargin:q.array,annotations:q.array,markers:q.array,keyboardHandler:q.string,wrapEnabled:q.bool,enableSnippets:q.bool,enableBasicAutocompletion:q.oneOfType([q.bool,q.array]),enableLiveAutocompletion:q.oneOfType([q.bool,q.array]),navigateToFileEnd:q.bool,commands:q.array,placeholder:q.string},v.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},v}(Rn.Component);on.default=zr;var an={},Et={},oi={exports:{}};(function(L,v){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(c,p,k){var d=c("./lib/oop");c("./lib/lang");var S=c("./lib/event_emitter").EventEmitter,w=c("./editor").Editor,s=c("./virtual_renderer").VirtualRenderer,a=c("./edit_session").EditSession,t=function(e,n,i){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=n,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(i||1),this.$cEditor=this.$editors[0],this.on("focus",function(r){this.$cEditor=r}.bind(this))};(function(){d.implement(this,S),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var n=new w(new s(e,this.$theme));return n.on("focus",function(){this._emit("focus",n)}.bind(this)),this.$editors.push(n),n.setFontSize(this.$fontSize),n},this.setSplits=function(e){var n;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)n=this.$editors[this.$splits],this.$container.appendChild(n.container),n.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)n=this.$editors[this.$splits-1],this.$container.removeChild(n.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach(function(n){n.setTheme(e)})},this.setKeyboardHandler=function(e){this.$editors.forEach(function(n){n.setKeyboardHandler(e)})},this.forEach=function(e,n){this.$editors.forEach(e,n)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach(function(n){n.setFontSize(e)})},this.$cloneSession=function(e){var n=new a(e.getDocument(),e.getMode()),i=e.getUndoManager();return n.setUndoManager(i),n.setTabSize(e.getTabSize()),n.setUseSoftTabs(e.getUseSoftTabs()),n.setOverwrite(e.getOverwrite()),n.setBreakpoints(e.getBreakpoints()),n.setUseWrapMode(e.getUseWrapMode()),n.setUseWorker(e.getUseWorker()),n.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),n.$foldData=e.$cloneFoldData(),n},this.setSession=function(e,n){var i;n==null?i=this.$cEditor:i=this.$editors[n];var r=this.$editors.some(function(o){return o.session===e});return r&&(e=this.$cloneSession(e)),i.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e=this.$container.clientWidth,n=this.$container.clientHeight,i;if(this.$orientation==this.BESIDE)for(var r=e/this.$splits,o=0;o<this.$splits;o++)i=this.$editors[o],i.container.style.width=r+"px",i.container.style.top="0px",i.container.style.left=o*r+"px",i.container.style.height=n+"px",i.resize();else for(var l=n/this.$splits,o=0;o<this.$splits;o++)i=this.$editors[o],i.container.style.width=e+"px",i.container.style.top=o*l+"px",i.container.style.left="0px",i.container.style.height=l+"px",i.resize()}}).call(t.prototype),p.Split=t}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(c,p,k){k.exports=c("../split")}),function(){ace.require(["ace/ext/split"],function(c){L&&(L.exports=c)})}()})(oi);var Ur=oi.exports,Vr="Expected a function",si="__lodash_hash_undefined__",ai=1/0,Gr="[object Function]",Kr="[object GeneratorFunction]",jr="[object Symbol]",Yr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xr=/^\w*$/,Qr=/^\./,Zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,qr=/\\(\\)?/g,eo=/^\[object .+?Constructor\]$/,to=typeof be=="object"&&be&&be.Object===Object&&be,no=typeof self=="object"&&self&&self.Object===Object&&self,ln=to||no||Function("return this")();function io(L,v){return L==null?void 0:L[v]}function ro(L){var v=!1;if(L!=null&&typeof L.toString!="function")try{v=!!(L+"")}catch{}return v}var oo=Array.prototype,so=Function.prototype,li=Object.prototype,Bt=ln["__core-js_shared__"],On=function(){var L=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),ci=so.toString,cn=li.hasOwnProperty,hi=li.toString,ao=RegExp("^"+ci.call(cn).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dn=ln.Symbol,lo=oo.splice,co=ui(ln,"Map"),gt=ui(Object,"create"),Pn=Dn?Dn.prototype:void 0,Fn=Pn?Pn.toString:void 0;function Ze(L){var v=-1,c=L?L.length:0;for(this.clear();++v<c;){var p=L[v];this.set(p[0],p[1])}}function ho(){this.__data__=gt?gt(null):{}}function uo(L){return this.has(L)&&delete this.__data__[L]}function fo(L){var v=this.__data__;if(gt){var c=v[L];return c===si?void 0:c}return cn.call(v,L)?v[L]:void 0}function go(L){var v=this.__data__;return gt?v[L]!==void 0:cn.call(v,L)}function po(L,v){var c=this.__data__;return c[L]=gt&&v===void 0?si:v,this}Ze.prototype.clear=ho;Ze.prototype.delete=uo;Ze.prototype.get=fo;Ze.prototype.has=go;Ze.prototype.set=po;function ot(L){var v=-1,c=L?L.length:0;for(this.clear();++v<c;){var p=L[v];this.set(p[0],p[1])}}function vo(){this.__data__=[]}function mo(L){var v=this.__data__,c=Mt(v,L);if(c<0)return!1;var p=v.length-1;return c==p?v.pop():lo.call(v,c,1),!0}function yo(L){var v=this.__data__,c=Mt(v,L);return c<0?void 0:v[c][1]}function wo(L){return Mt(this.__data__,L)>-1}function bo(L,v){var c=this.__data__,p=Mt(c,L);return p<0?c.push([L,v]):c[p][1]=v,this}ot.prototype.clear=vo;ot.prototype.delete=mo;ot.prototype.get=yo;ot.prototype.has=wo;ot.prototype.set=bo;function qe(L){var v=-1,c=L?L.length:0;for(this.clear();++v<c;){var p=L[v];this.set(p[0],p[1])}}function So(){this.__data__={hash:new Ze,map:new(co||ot),string:new Ze}}function Co(L){return _t(this,L).delete(L)}function $o(L){return _t(this,L).get(L)}function Ao(L){return _t(this,L).has(L)}function To(L,v){return _t(this,L).set(L,v),this}qe.prototype.clear=So;qe.prototype.delete=Co;qe.prototype.get=$o;qe.prototype.has=Ao;qe.prototype.set=To;function Mt(L,v){for(var c=L.length;c--;)if(Po(L[c][0],v))return c;return-1}function Eo(L,v){v=xo(v,L)?[v]:Lo(v);for(var c=0,p=v.length;L!=null&&c<p;)L=L[Oo(v[c++])];return c&&c==p?L:void 0}function Mo(L){if(!fi(L)||Ro(L))return!1;var v=Fo(L)||ro(L)?ao:eo;return v.test(Do(L))}function _o(L){if(typeof L=="string")return L;if(un(L))return Fn?Fn.call(L):"";var v=L+"";return v=="0"&&1/L==-ai?"-0":v}function Lo(L){return di(L)?L:Io(L)}function _t(L,v){var c=L.__data__;return ko(v)?c[typeof v=="string"?"string":"hash"]:c.map}function ui(L,v){var c=io(L,v);return Mo(c)?c:void 0}function xo(L,v){if(di(L))return!1;var c=typeof L;return c=="number"||c=="symbol"||c=="boolean"||L==null||un(L)?!0:Xr.test(L)||!Yr.test(L)||v!=null&&L in Object(v)}function ko(L){var v=typeof L;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?L!=="__proto__":L===null}function Ro(L){return!!On&&On in L}var Io=hn(function(L){L=Ho(L);var v=[];return Qr.test(L)&&v.push(""),L.replace(Zr,function(c,p,k,d){v.push(k?d.replace(qr,"$1"):p||c)}),v});function Oo(L){if(typeof L=="string"||un(L))return L;var v=L+"";return v=="0"&&1/L==-ai?"-0":v}function Do(L){if(L!=null){try{return ci.call(L)}catch{}try{return L+""}catch{}}return""}function hn(L,v){if(typeof L!="function"||v&&typeof v!="function")throw new TypeError(Vr);var c=function(){var p=arguments,k=v?v.apply(this,p):p[0],d=c.cache;if(d.has(k))return d.get(k);var S=L.apply(this,p);return c.cache=d.set(k,S),S};return c.cache=new(hn.Cache||qe),c}hn.Cache=qe;function Po(L,v){return L===v||L!==L&&v!==v}var di=Array.isArray;function Fo(L){var v=fi(L)?hi.call(L):"";return v==Gr||v==Kr}function fi(L){var v=typeof L;return!!L&&(v=="object"||v=="function")}function No(L){return!!L&&typeof L=="object"}function un(L){return typeof L=="symbol"||No(L)&&hi.call(L)==jr}function Ho(L){return L==null?"":_o(L)}function Wo(L,v,c){var p=L==null?void 0:Eo(L,v);return p===void 0?c:p}var Bo=Wo,zo=be&&be.__extends||function(){var L=function(v,c){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,k){p.__proto__=k}||function(p,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(p[d]=k[d])},L(v,c)};return function(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");L(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Jt=be&&be.__assign||function(){return Jt=Object.assign||function(L){for(var v,c=1,p=arguments.length;c<p;c++){v=arguments[c];for(var k in v)Object.prototype.hasOwnProperty.call(v,k)&&(L[k]=v[k])}return L},Jt.apply(this,arguments)};Object.defineProperty(Et,"__esModule",{value:!0});var Qe=Oe,zt=(0,Qe.getAceInstance)(),Uo=At,Vo=Ur,ne=sn,Nn=ue,Ut=ri,Fe=Bo,Go=function(L){zo(v,L);function v(c){var p=L.call(this,c)||this;return Qe.editorEvents.forEach(function(k){p[k]=p[k].bind(p)}),p.debounce=Qe.debounce,p}return v.prototype.isInShadow=function(c){for(var p=c&&c.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},v.prototype.componentDidMount=function(){var c=this,p=this.props,k=p.className,d=p.onBeforeLoad,S=p.mode,w=p.focus,s=p.theme,a=p.fontSize,t=p.value,e=p.defaultValue,n=p.cursorStart,i=p.showGutter,r=p.wrapEnabled,o=p.showPrintMargin,l=p.scrollMargin,m=l===void 0?[0,0,0,0]:l,u=p.keyboardHandler,_=p.onLoad,A=p.commands,f=p.annotations,h=p.markers,C=p.splits;this.editor=zt.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(s)),d&&d(zt);var $=Object.keys(this.props.editorProps),T=new Vo.Split(this.editor.container,"ace/theme/".concat(s),C);this.editor.env.split=T,this.splitEditor=T.getEditor(0),this.split=T,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var b=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),T.forEach(function(M,E){for(var y=0;y<$.length;y++)M[$[y]]=c.props.editorProps[$[y]];var x=Fe(e,E),R=Fe(t,E,"");M.session.setUndoManager(new zt.UndoManager),M.setTheme("ace/theme/".concat(s)),M.renderer.setScrollMargin(m[0],m[1],m[2],m[3]),M.getSession().setMode("ace/mode/".concat(S)),M.setFontSize(a),M.renderer.setShowGutter(i),M.getSession().setUseWrapMode(r),M.setShowPrintMargin(o),M.on("focus",c.onFocus),M.on("blur",c.onBlur),M.on("input",c.onInput),M.on("copy",c.onCopy),M.on("paste",c.onPaste),M.on("change",c.onChange),M.getSession().selection.on("changeSelection",c.onSelectionChange),M.getSession().selection.on("changeCursor",c.onCursorChange),M.session.on("changeScrollTop",c.onScroll),M.setValue(x===void 0?R:x,n);var I=Fe(f,E,[]),O=Fe(h,E,[]);M.getSession().setAnnotations(I),O&&O.length>0&&c.handleMarkers(O,M);for(var y=0;y<Qe.editorOptions.length;y++){var D=Qe.editorOptions[y];b.hasOwnProperty(D)?M.setOption(D,c.props[D]):c.props[D]&&console.warn("ReaceAce: editor option ".concat(D," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}c.handleOptions(c.props,M),Array.isArray(A)&&A.forEach(function(F){typeof F.exec=="string"?M.commands.bindKey(F.bindKey,F.exec):M.commands.addCommand(F)}),u&&M.setKeyboardHandler("ace/keyboard/"+u)}),k&&(this.refEditor.className+=" "+k),w&&this.splitEditor.focus();var g=this.editor.env.split;g.setOrientation(this.props.orientation==="below"?g.BELOW:g.BESIDE),g.resize(!0),_&&_(g)},v.prototype.componentDidUpdate=function(c){var p=this,k=c,d=this.props,S=this.editor.env.split;if(d.splits!==k.splits&&S.setSplits(d.splits),d.orientation!==k.orientation&&S.setOrientation(d.orientation==="below"?S.BELOW:S.BESIDE),S.forEach(function(t,e){d.mode!==k.mode&&t.getSession().setMode("ace/mode/"+d.mode),d.keyboardHandler!==k.keyboardHandler&&(d.keyboardHandler?t.setKeyboardHandler("ace/keyboard/"+d.keyboardHandler):t.setKeyboardHandler(null)),d.fontSize!==k.fontSize&&t.setFontSize(d.fontSize),d.wrapEnabled!==k.wrapEnabled&&t.getSession().setUseWrapMode(d.wrapEnabled),d.showPrintMargin!==k.showPrintMargin&&t.setShowPrintMargin(d.showPrintMargin),d.showGutter!==k.showGutter&&t.renderer.setShowGutter(d.showGutter);for(var n=0;n<Qe.editorOptions.length;n++){var i=Qe.editorOptions[n];d[i]!==k[i]&&t.setOption(i,d[i])}Ut(d.setOptions,k.setOptions)||p.handleOptions(d,t);var r=Fe(d.value,e,"");if(t.getValue()!==r){p.silent=!0;var o=t.session.selection.toJSON();t.setValue(r,d.cursorStart),t.session.selection.fromJSON(o),p.silent=!1}var l=Fe(d.annotations,e,[]),m=Fe(k.annotations,e,[]);Ut(l,m)||t.getSession().setAnnotations(l);var u=Fe(d.markers,e,[]),_=Fe(k.markers,e,[]);!Ut(u,_)&&Array.isArray(u)&&p.handleMarkers(u,t)}),d.className!==k.className){var w=this.refEditor.className,s=w.trim().split(" "),a=k.className.trim().split(" ");a.forEach(function(t){var e=s.indexOf(t);s.splice(e,1)}),this.refEditor.className=" "+d.className+" "+s.join(" ")}d.theme!==k.theme&&S.setTheme("ace/theme/"+d.theme),d.focus&&!k.focus&&this.splitEditor.focus(),(d.height!==this.props.height||d.width!==this.props.width)&&this.editor.resize()},v.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},v.prototype.onChange=function(c){if(this.props.onChange&&!this.silent){var p=[];this.editor.env.split.forEach(function(k){p.push(k.getValue())}),this.props.onChange(p,c)}},v.prototype.onSelectionChange=function(c){if(this.props.onSelectionChange){var p=[];this.editor.env.split.forEach(function(k){p.push(k.getSelection())}),this.props.onSelectionChange(p,c)}},v.prototype.onCursorChange=function(c){if(this.props.onCursorChange){var p=[];this.editor.env.split.forEach(function(k){p.push(k.getSelection())}),this.props.onCursorChange(p,c)}},v.prototype.onFocus=function(c){this.props.onFocus&&this.props.onFocus(c)},v.prototype.onInput=function(c){this.props.onInput&&this.props.onInput(c)},v.prototype.onBlur=function(c){this.props.onBlur&&this.props.onBlur(c)},v.prototype.onCopy=function(c){this.props.onCopy&&this.props.onCopy(c)},v.prototype.onPaste=function(c){this.props.onPaste&&this.props.onPaste(c)},v.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},v.prototype.handleOptions=function(c,p){for(var k=Object.keys(c.setOptions),d=0;d<k.length;d++)p.setOption(k[d],c.setOptions[k[d]])},v.prototype.handleMarkers=function(c,p){var k=p.getSession().getMarkers(!0);for(var d in k)k.hasOwnProperty(d)&&p.getSession().removeMarker(k[d].id);k=p.getSession().getMarkers(!1);for(var d in k)k.hasOwnProperty(d)&&p.getSession().removeMarker(k[d].id);c.forEach(function(S){var w=S.startRow,s=S.startCol,a=S.endRow,t=S.endCol,e=S.className,n=S.type,i=S.inFront,r=i===void 0?!1:i,o=new Uo.Range(w,s,a,t);p.getSession().addMarker(o,e,n,r)})},v.prototype.updateRef=function(c){this.refEditor=c},v.prototype.render=function(){var c=this.props,p=c.name,k=c.width,d=c.height,S=c.style,w=Jt({width:k,height:d},S);return Nn.createElement("div",{ref:this.updateRef,id:p,style:w})},v.propTypes={className:ne.string,debounceChangePeriod:ne.number,defaultValue:ne.arrayOf(ne.string),focus:ne.bool,fontSize:ne.oneOfType([ne.number,ne.string]),height:ne.string,mode:ne.string,name:ne.string,onBlur:ne.func,onChange:ne.func,onCopy:ne.func,onFocus:ne.func,onInput:ne.func,onLoad:ne.func,onPaste:ne.func,onScroll:ne.func,orientation:ne.string,showGutter:ne.bool,splits:ne.number,theme:ne.string,value:ne.arrayOf(ne.string),width:ne.string,onSelectionChange:ne.func,onCursorChange:ne.func,onBeforeLoad:ne.func,minLines:ne.number,maxLines:ne.number,readOnly:ne.bool,highlightActiveLine:ne.bool,tabSize:ne.number,showPrintMargin:ne.bool,cursorStart:ne.number,editorProps:ne.object,setOptions:ne.object,style:ne.object,scrollMargin:ne.array,annotations:ne.array,markers:ne.array,keyboardHandler:ne.string,wrapEnabled:ne.bool,enableBasicAutocompletion:ne.oneOfType([ne.bool,ne.array]),enableLiveAutocompletion:ne.oneOfType([ne.bool,ne.array]),commands:ne.array},v.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},v}(Nn.Component);Et.default=Go;var gi={exports:{}};(function(L){var v=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},c=-1,p=1,k=0;v.Diff=function(d,S){return[d,S]},v.prototype.diff_main=function(d,S,w,s){typeof s>"u"&&(this.Diff_Timeout<=0?s=Number.MAX_VALUE:s=new Date().getTime()+this.Diff_Timeout*1e3);var a=s;if(d==null||S==null)throw new Error("Null input. (diff_main)");if(d==S)return d?[new v.Diff(k,d)]:[];typeof w>"u"&&(w=!0);var t=w,e=this.diff_commonPrefix(d,S),n=d.substring(0,e);d=d.substring(e),S=S.substring(e),e=this.diff_commonSuffix(d,S);var i=d.substring(d.length-e);d=d.substring(0,d.length-e),S=S.substring(0,S.length-e);var r=this.diff_compute_(d,S,t,a);return n&&r.unshift(new v.Diff(k,n)),i&&r.push(new v.Diff(k,i)),this.diff_cleanupMerge(r),r},v.prototype.diff_compute_=function(d,S,w,s){var a;if(!d)return[new v.Diff(p,S)];if(!S)return[new v.Diff(c,d)];var t=d.length>S.length?d:S,e=d.length>S.length?S:d,n=t.indexOf(e);if(n!=-1)return a=[new v.Diff(p,t.substring(0,n)),new v.Diff(k,e),new v.Diff(p,t.substring(n+e.length))],d.length>S.length&&(a[0][0]=a[2][0]=c),a;if(e.length==1)return[new v.Diff(c,d),new v.Diff(p,S)];var i=this.diff_halfMatch_(d,S);if(i){var r=i[0],o=i[1],l=i[2],m=i[3],u=i[4],_=this.diff_main(r,l,w,s),A=this.diff_main(o,m,w,s);return _.concat([new v.Diff(k,u)],A)}return w&&d.length>100&&S.length>100?this.diff_lineMode_(d,S,s):this.diff_bisect_(d,S,s)},v.prototype.diff_lineMode_=function(d,S,w){var s=this.diff_linesToChars_(d,S);d=s.chars1,S=s.chars2;var a=s.lineArray,t=this.diff_main(d,S,!1,w);this.diff_charsToLines_(t,a),this.diff_cleanupSemantic(t),t.push(new v.Diff(k,""));for(var e=0,n=0,i=0,r="",o="";e<t.length;){switch(t[e][0]){case p:i++,o+=t[e][1];break;case c:n++,r+=t[e][1];break;case k:if(n>=1&&i>=1){t.splice(e-n-i,n+i),e=e-n-i;for(var l=this.diff_main(r,o,!1,w),m=l.length-1;m>=0;m--)t.splice(e,0,l[m]);e=e+l.length}i=0,n=0,r="",o="";break}e++}return t.pop(),t},v.prototype.diff_bisect_=function(d,S,w){for(var s=d.length,a=S.length,t=Math.ceil((s+a)/2),e=t,n=2*t,i=new Array(n),r=new Array(n),o=0;o<n;o++)i[o]=-1,r[o]=-1;i[e+1]=0,r[e+1]=0;for(var l=s-a,m=l%2!=0,u=0,_=0,A=0,f=0,h=0;h<t&&!(new Date().getTime()>w);h++){for(var C=-h+u;C<=h-_;C+=2){var $=e+C,T;C==-h||C!=h&&i[$-1]<i[$+1]?T=i[$+1]:T=i[$-1]+1;for(var b=T-C;T<s&&b<a&&d.charAt(T)==S.charAt(b);)T++,b++;if(i[$]=T,T>s)_+=2;else if(b>a)u+=2;else if(m){var g=e+l-C;if(g>=0&&g<n&&r[g]!=-1){var M=s-r[g];if(T>=M)return this.diff_bisectSplit_(d,S,T,b,w)}}}for(var E=-h+A;E<=h-f;E+=2){var g=e+E,M;E==-h||E!=h&&r[g-1]<r[g+1]?M=r[g+1]:M=r[g-1]+1;for(var y=M-E;M<s&&y<a&&d.charAt(s-M-1)==S.charAt(a-y-1);)M++,y++;if(r[g]=M,M>s)f+=2;else if(y>a)A+=2;else if(!m){var $=e+l-E;if($>=0&&$<n&&i[$]!=-1){var T=i[$],b=e+T-$;if(M=s-M,T>=M)return this.diff_bisectSplit_(d,S,T,b,w)}}}}return[new v.Diff(c,d),new v.Diff(p,S)]},v.prototype.diff_bisectSplit_=function(d,S,w,s,a){var t=d.substring(0,w),e=S.substring(0,s),n=d.substring(w),i=S.substring(s),r=this.diff_main(t,e,!1,a),o=this.diff_main(n,i,!1,a);return r.concat(o)},v.prototype.diff_linesToChars_=function(d,S){var w=[],s={};w[0]="";function a(i){for(var r="",o=0,l=-1,m=w.length;l<i.length-1;){l=i.indexOf(`
`,o),l==-1&&(l=i.length-1);var u=i.substring(o,l+1);(s.hasOwnProperty?s.hasOwnProperty(u):s[u]!==void 0)?r+=String.fromCharCode(s[u]):(m==t&&(u=i.substring(o),l=i.length),r+=String.fromCharCode(m),s[u]=m,w[m++]=u),o=l+1}return r}var t=4e4,e=a(d);t=65535;var n=a(S);return{chars1:e,chars2:n,lineArray:w}},v.prototype.diff_charsToLines_=function(d,S){for(var w=0;w<d.length;w++){for(var s=d[w][1],a=[],t=0;t<s.length;t++)a[t]=S[s.charCodeAt(t)];d[w][1]=a.join("")}},v.prototype.diff_commonPrefix=function(d,S){if(!d||!S||d.charAt(0)!=S.charAt(0))return 0;for(var w=0,s=Math.min(d.length,S.length),a=s,t=0;w<a;)d.substring(t,a)==S.substring(t,a)?(w=a,t=w):s=a,a=Math.floor((s-w)/2+w);return a},v.prototype.diff_commonSuffix=function(d,S){if(!d||!S||d.charAt(d.length-1)!=S.charAt(S.length-1))return 0;for(var w=0,s=Math.min(d.length,S.length),a=s,t=0;w<a;)d.substring(d.length-a,d.length-t)==S.substring(S.length-a,S.length-t)?(w=a,t=w):s=a,a=Math.floor((s-w)/2+w);return a},v.prototype.diff_commonOverlap_=function(d,S){var w=d.length,s=S.length;if(w==0||s==0)return 0;w>s?d=d.substring(w-s):w<s&&(S=S.substring(0,w));var a=Math.min(w,s);if(d==S)return a;for(var t=0,e=1;;){var n=d.substring(a-e),i=S.indexOf(n);if(i==-1)return t;e+=i,(i==0||d.substring(a-e)==S.substring(0,e))&&(t=e,e++)}},v.prototype.diff_halfMatch_=function(d,S){if(this.Diff_Timeout<=0)return null;var w=d.length>S.length?d:S,s=d.length>S.length?S:d;if(w.length<4||s.length*2<w.length)return null;var a=this;function t(_,A,f){for(var h=_.substring(f,f+Math.floor(_.length/4)),C=-1,$="",T,b,g,M;(C=A.indexOf(h,C+1))!=-1;){var E=a.diff_commonPrefix(_.substring(f),A.substring(C)),y=a.diff_commonSuffix(_.substring(0,f),A.substring(0,C));$.length<y+E&&($=A.substring(C-y,C)+A.substring(C,C+E),T=_.substring(0,f-y),b=_.substring(f+E),g=A.substring(0,C-y),M=A.substring(C+E))}return $.length*2>=_.length?[T,b,g,M,$]:null}var e=t(w,s,Math.ceil(w.length/4)),n=t(w,s,Math.ceil(w.length/2)),i;if(!e&&!n)return null;n?e?i=e[4].length>n[4].length?e:n:i=n:i=e;var r,o,l,m;d.length>S.length?(r=i[0],o=i[1],l=i[2],m=i[3]):(l=i[0],m=i[1],r=i[2],o=i[3]);var u=i[4];return[r,o,l,m,u]},v.prototype.diff_cleanupSemantic=function(d){for(var S=!1,w=[],s=0,a=null,t=0,e=0,n=0,i=0,r=0;t<d.length;)d[t][0]==k?(w[s++]=t,e=i,n=r,i=0,r=0,a=d[t][1]):(d[t][0]==p?i+=d[t][1].length:r+=d[t][1].length,a&&a.length<=Math.max(e,n)&&a.length<=Math.max(i,r)&&(d.splice(w[s-1],0,new v.Diff(c,a)),d[w[s-1]+1][0]=p,s--,s--,t=s>0?w[s-1]:-1,e=0,n=0,i=0,r=0,a=null,S=!0)),t++;for(S&&this.diff_cleanupMerge(d),this.diff_cleanupSemanticLossless(d),t=1;t<d.length;){if(d[t-1][0]==c&&d[t][0]==p){var o=d[t-1][1],l=d[t][1],m=this.diff_commonOverlap_(o,l),u=this.diff_commonOverlap_(l,o);m>=u?(m>=o.length/2||m>=l.length/2)&&(d.splice(t,0,new v.Diff(k,l.substring(0,m))),d[t-1][1]=o.substring(0,o.length-m),d[t+1][1]=l.substring(m),t++):(u>=o.length/2||u>=l.length/2)&&(d.splice(t,0,new v.Diff(k,o.substring(0,u))),d[t-1][0]=p,d[t-1][1]=l.substring(0,l.length-u),d[t+1][0]=c,d[t+1][1]=o.substring(u),t++),t++}t++}},v.prototype.diff_cleanupSemanticLossless=function(d){function S(u,_){if(!u||!_)return 6;var A=u.charAt(u.length-1),f=_.charAt(0),h=A.match(v.nonAlphaNumericRegex_),C=f.match(v.nonAlphaNumericRegex_),$=h&&A.match(v.whitespaceRegex_),T=C&&f.match(v.whitespaceRegex_),b=$&&A.match(v.linebreakRegex_),g=T&&f.match(v.linebreakRegex_),M=b&&u.match(v.blanklineEndRegex_),E=g&&_.match(v.blanklineStartRegex_);return M||E?5:b||g?4:h&&!$&&T?3:$||T?2:h||C?1:0}for(var w=1;w<d.length-1;){if(d[w-1][0]==k&&d[w+1][0]==k){var s=d[w-1][1],a=d[w][1],t=d[w+1][1],e=this.diff_commonSuffix(s,a);if(e){var n=a.substring(a.length-e);s=s.substring(0,s.length-e),a=n+a.substring(0,a.length-e),t=n+t}for(var i=s,r=a,o=t,l=S(s,a)+S(a,t);a.charAt(0)===t.charAt(0);){s+=a.charAt(0),a=a.substring(1)+t.charAt(0),t=t.substring(1);var m=S(s,a)+S(a,t);m>=l&&(l=m,i=s,r=a,o=t)}d[w-1][1]!=i&&(i?d[w-1][1]=i:(d.splice(w-1,1),w--),d[w][1]=r,o?d[w+1][1]=o:(d.splice(w+1,1),w--))}w++}},v.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,v.whitespaceRegex_=/\s/,v.linebreakRegex_=/[\r\n]/,v.blanklineEndRegex_=/\n\r?\n$/,v.blanklineStartRegex_=/^\r?\n\r?\n/,v.prototype.diff_cleanupEfficiency=function(d){for(var S=!1,w=[],s=0,a=null,t=0,e=!1,n=!1,i=!1,r=!1;t<d.length;)d[t][0]==k?(d[t][1].length<this.Diff_EditCost&&(i||r)?(w[s++]=t,e=i,n=r,a=d[t][1]):(s=0,a=null),i=r=!1):(d[t][0]==c?r=!0:i=!0,a&&(e&&n&&i&&r||a.length<this.Diff_EditCost/2&&e+n+i+r==3)&&(d.splice(w[s-1],0,new v.Diff(c,a)),d[w[s-1]+1][0]=p,s--,a=null,e&&n?(i=r=!0,s=0):(s--,t=s>0?w[s-1]:-1,i=r=!1),S=!0)),t++;S&&this.diff_cleanupMerge(d)},v.prototype.diff_cleanupMerge=function(d){d.push(new v.Diff(k,""));for(var S=0,w=0,s=0,a="",t="",e;S<d.length;)switch(d[S][0]){case p:s++,t+=d[S][1],S++;break;case c:w++,a+=d[S][1],S++;break;case k:w+s>1?(w!==0&&s!==0&&(e=this.diff_commonPrefix(t,a),e!==0&&(S-w-s>0&&d[S-w-s-1][0]==k?d[S-w-s-1][1]+=t.substring(0,e):(d.splice(0,0,new v.Diff(k,t.substring(0,e))),S++),t=t.substring(e),a=a.substring(e)),e=this.diff_commonSuffix(t,a),e!==0&&(d[S][1]=t.substring(t.length-e)+d[S][1],t=t.substring(0,t.length-e),a=a.substring(0,a.length-e))),S-=w+s,d.splice(S,w+s),a.length&&(d.splice(S,0,new v.Diff(c,a)),S++),t.length&&(d.splice(S,0,new v.Diff(p,t)),S++),S++):S!==0&&d[S-1][0]==k?(d[S-1][1]+=d[S][1],d.splice(S,1)):S++,s=0,w=0,a="",t="";break}d[d.length-1][1]===""&&d.pop();var n=!1;for(S=1;S<d.length-1;)d[S-1][0]==k&&d[S+1][0]==k&&(d[S][1].substring(d[S][1].length-d[S-1][1].length)==d[S-1][1]?(d[S][1]=d[S-1][1]+d[S][1].substring(0,d[S][1].length-d[S-1][1].length),d[S+1][1]=d[S-1][1]+d[S+1][1],d.splice(S-1,1),n=!0):d[S][1].substring(0,d[S+1][1].length)==d[S+1][1]&&(d[S-1][1]+=d[S+1][1],d[S][1]=d[S][1].substring(d[S+1][1].length)+d[S+1][1],d.splice(S+1,1),n=!0)),S++;n&&this.diff_cleanupMerge(d)},v.prototype.diff_xIndex=function(d,S){var w=0,s=0,a=0,t=0,e;for(e=0;e<d.length&&(d[e][0]!==p&&(w+=d[e][1].length),d[e][0]!==c&&(s+=d[e][1].length),!(w>S));e++)a=w,t=s;return d.length!=e&&d[e][0]===c?t:t+(S-a)},v.prototype.diff_prettyHtml=function(d){for(var S=[],w=/&/g,s=/</g,a=/>/g,t=/\n/g,e=0;e<d.length;e++){var n=d[e][0],i=d[e][1],r=i.replace(w,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(t,"&para;<br>");switch(n){case p:S[e]='<ins style="background:#e6ffe6;">'+r+"</ins>";break;case c:S[e]='<del style="background:#ffe6e6;">'+r+"</del>";break;case k:S[e]="<span>"+r+"</span>";break}}return S.join("")},v.prototype.diff_text1=function(d){for(var S=[],w=0;w<d.length;w++)d[w][0]!==p&&(S[w]=d[w][1]);return S.join("")},v.prototype.diff_text2=function(d){for(var S=[],w=0;w<d.length;w++)d[w][0]!==c&&(S[w]=d[w][1]);return S.join("")},v.prototype.diff_levenshtein=function(d){for(var S=0,w=0,s=0,a=0;a<d.length;a++){var t=d[a][0],e=d[a][1];switch(t){case p:w+=e.length;break;case c:s+=e.length;break;case k:S+=Math.max(w,s),w=0,s=0;break}}return S+=Math.max(w,s),S},v.prototype.diff_toDelta=function(d){for(var S=[],w=0;w<d.length;w++)switch(d[w][0]){case p:S[w]="+"+encodeURI(d[w][1]);break;case c:S[w]="-"+d[w][1].length;break;case k:S[w]="="+d[w][1].length;break}return S.join("	").replace(/%20/g," ")},v.prototype.diff_fromDelta=function(d,S){for(var w=[],s=0,a=0,t=S.split(/\t/g),e=0;e<t.length;e++){var n=t[e].substring(1);switch(t[e].charAt(0)){case"+":try{w[s++]=new v.Diff(p,decodeURI(n))}catch{throw new Error("Illegal escape in diff_fromDelta: "+n)}break;case"-":case"=":var i=parseInt(n,10);if(isNaN(i)||i<0)throw new Error("Invalid number in diff_fromDelta: "+n);var r=d.substring(a,a+=i);t[e].charAt(0)=="="?w[s++]=new v.Diff(k,r):w[s++]=new v.Diff(c,r);break;default:if(t[e])throw new Error("Invalid diff operation in diff_fromDelta: "+t[e])}}if(a!=d.length)throw new Error("Delta length ("+a+") does not equal source text length ("+d.length+").");return w},v.prototype.match_main=function(d,S,w){if(d==null||S==null||w==null)throw new Error("Null input. (match_main)");return w=Math.max(0,Math.min(w,d.length)),d==S?0:d.length?d.substring(w,w+S.length)==S?w:this.match_bitap_(d,S,w):-1},v.prototype.match_bitap_=function(d,S,w){if(S.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(S),a=this;function t(T,b){var g=T/S.length,M=Math.abs(w-b);return a.Match_Distance?g+M/a.Match_Distance:M?1:g}var e=this.Match_Threshold,n=d.indexOf(S,w);n!=-1&&(e=Math.min(t(0,n),e),n=d.lastIndexOf(S,w+S.length),n!=-1&&(e=Math.min(t(0,n),e)));var i=1<<S.length-1;n=-1;for(var r,o,l=S.length+d.length,m,u=0;u<S.length;u++){for(r=0,o=l;r<o;)t(u,w+o)<=e?r=o:l=o,o=Math.floor((l-r)/2+r);l=o;var _=Math.max(1,w-o+1),A=Math.min(w+o,d.length)+S.length,f=Array(A+2);f[A+1]=(1<<u)-1;for(var h=A;h>=_;h--){var C=s[d.charAt(h-1)];if(u===0?f[h]=(f[h+1]<<1|1)&C:f[h]=(f[h+1]<<1|1)&C|((m[h+1]|m[h])<<1|1)|m[h+1],f[h]&i){var $=t(u,h-1);if($<=e)if(e=$,n=h-1,n>w)_=Math.max(1,2*w-n);else break}}if(t(u+1,w)>e)break;m=f}return n},v.prototype.match_alphabet_=function(d){for(var S={},w=0;w<d.length;w++)S[d.charAt(w)]=0;for(var w=0;w<d.length;w++)S[d.charAt(w)]|=1<<d.length-w-1;return S},v.prototype.patch_addContext_=function(d,S){if(S.length!=0){if(d.start2===null)throw Error("patch not initialized");for(var w=S.substring(d.start2,d.start2+d.length1),s=0;S.indexOf(w)!=S.lastIndexOf(w)&&w.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)s+=this.Patch_Margin,w=S.substring(d.start2-s,d.start2+d.length1+s);s+=this.Patch_Margin;var a=S.substring(d.start2-s,d.start2);a&&d.diffs.unshift(new v.Diff(k,a));var t=S.substring(d.start2+d.length1,d.start2+d.length1+s);t&&d.diffs.push(new v.Diff(k,t)),d.start1-=a.length,d.start2-=a.length,d.length1+=a.length+t.length,d.length2+=a.length+t.length}},v.prototype.patch_make=function(d,S,w){var s,a;if(typeof d=="string"&&typeof S=="string"&&typeof w>"u")s=d,a=this.diff_main(s,S,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(d&&typeof d=="object"&&typeof S>"u"&&typeof w>"u")a=d,s=this.diff_text1(a);else if(typeof d=="string"&&S&&typeof S=="object"&&typeof w>"u")s=d,a=S;else if(typeof d=="string"&&typeof S=="string"&&w&&typeof w=="object")s=d,a=w;else throw new Error("Unknown call format to patch_make.");if(a.length===0)return[];for(var t=[],e=new v.patch_obj,n=0,i=0,r=0,o=s,l=s,m=0;m<a.length;m++){var u=a[m][0],_=a[m][1];switch(!n&&u!==k&&(e.start1=i,e.start2=r),u){case p:e.diffs[n++]=a[m],e.length2+=_.length,l=l.substring(0,r)+_+l.substring(r);break;case c:e.length1+=_.length,e.diffs[n++]=a[m],l=l.substring(0,r)+l.substring(r+_.length);break;case k:_.length<=2*this.Patch_Margin&&n&&a.length!=m+1?(e.diffs[n++]=a[m],e.length1+=_.length,e.length2+=_.length):_.length>=2*this.Patch_Margin&&n&&(this.patch_addContext_(e,o),t.push(e),e=new v.patch_obj,n=0,o=l,i=r);break}u!==p&&(i+=_.length),u!==c&&(r+=_.length)}return n&&(this.patch_addContext_(e,o),t.push(e)),t},v.prototype.patch_deepCopy=function(d){for(var S=[],w=0;w<d.length;w++){var s=d[w],a=new v.patch_obj;a.diffs=[];for(var t=0;t<s.diffs.length;t++)a.diffs[t]=new v.Diff(s.diffs[t][0],s.diffs[t][1]);a.start1=s.start1,a.start2=s.start2,a.length1=s.length1,a.length2=s.length2,S[w]=a}return S},v.prototype.patch_apply=function(d,S){if(d.length==0)return[S,[]];d=this.patch_deepCopy(d);var w=this.patch_addPadding(d);S=w+S+w,this.patch_splitMax(d);for(var s=0,a=[],t=0;t<d.length;t++){var e=d[t].start2+s,n=this.diff_text1(d[t].diffs),i,r=-1;if(n.length>this.Match_MaxBits?(i=this.match_main(S,n.substring(0,this.Match_MaxBits),e),i!=-1&&(r=this.match_main(S,n.substring(n.length-this.Match_MaxBits),e+n.length-this.Match_MaxBits),(r==-1||i>=r)&&(i=-1))):i=this.match_main(S,n,e),i==-1)a[t]=!1,s-=d[t].length2-d[t].length1;else{a[t]=!0,s=i-e;var o;if(r==-1?o=S.substring(i,i+n.length):o=S.substring(i,r+this.Match_MaxBits),n==o)S=S.substring(0,i)+this.diff_text2(d[t].diffs)+S.substring(i+n.length);else{var l=this.diff_main(n,o,!1);if(n.length>this.Match_MaxBits&&this.diff_levenshtein(l)/n.length>this.Patch_DeleteThreshold)a[t]=!1;else{this.diff_cleanupSemanticLossless(l);for(var m=0,u,_=0;_<d[t].diffs.length;_++){var A=d[t].diffs[_];A[0]!==k&&(u=this.diff_xIndex(l,m)),A[0]===p?S=S.substring(0,i+u)+A[1]+S.substring(i+u):A[0]===c&&(S=S.substring(0,i+u)+S.substring(i+this.diff_xIndex(l,m+A[1].length))),A[0]!==c&&(m+=A[1].length)}}}}}return S=S.substring(w.length,S.length-w.length),[S,a]},v.prototype.patch_addPadding=function(d){for(var S=this.Patch_Margin,w="",s=1;s<=S;s++)w+=String.fromCharCode(s);for(var s=0;s<d.length;s++)d[s].start1+=S,d[s].start2+=S;var a=d[0],t=a.diffs;if(t.length==0||t[0][0]!=k)t.unshift(new v.Diff(k,w)),a.start1-=S,a.start2-=S,a.length1+=S,a.length2+=S;else if(S>t[0][1].length){var e=S-t[0][1].length;t[0][1]=w.substring(t[0][1].length)+t[0][1],a.start1-=e,a.start2-=e,a.length1+=e,a.length2+=e}if(a=d[d.length-1],t=a.diffs,t.length==0||t[t.length-1][0]!=k)t.push(new v.Diff(k,w)),a.length1+=S,a.length2+=S;else if(S>t[t.length-1][1].length){var e=S-t[t.length-1][1].length;t[t.length-1][1]+=w.substring(0,e),a.length1+=e,a.length2+=e}return w},v.prototype.patch_splitMax=function(d){for(var S=this.Match_MaxBits,w=0;w<d.length;w++)if(!(d[w].length1<=S)){var s=d[w];d.splice(w--,1);for(var a=s.start1,t=s.start2,e="";s.diffs.length!==0;){var n=new v.patch_obj,i=!0;for(n.start1=a-e.length,n.start2=t-e.length,e!==""&&(n.length1=n.length2=e.length,n.diffs.push(new v.Diff(k,e)));s.diffs.length!==0&&n.length1<S-this.Patch_Margin;){var r=s.diffs[0][0],o=s.diffs[0][1];r===p?(n.length2+=o.length,t+=o.length,n.diffs.push(s.diffs.shift()),i=!1):r===c&&n.diffs.length==1&&n.diffs[0][0]==k&&o.length>2*S?(n.length1+=o.length,a+=o.length,i=!1,n.diffs.push(new v.Diff(r,o)),s.diffs.shift()):(o=o.substring(0,S-n.length1-this.Patch_Margin),n.length1+=o.length,a+=o.length,r===k?(n.length2+=o.length,t+=o.length):i=!1,n.diffs.push(new v.Diff(r,o)),o==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(o.length))}e=this.diff_text2(n.diffs),e=e.substring(e.length-this.Patch_Margin);var l=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);l!==""&&(n.length1+=l.length,n.length2+=l.length,n.diffs.length!==0&&n.diffs[n.diffs.length-1][0]===k?n.diffs[n.diffs.length-1][1]+=l:n.diffs.push(new v.Diff(k,l))),i||d.splice(++w,0,n)}}},v.prototype.patch_toText=function(d){for(var S=[],w=0;w<d.length;w++)S[w]=d[w];return S.join("")},v.prototype.patch_fromText=function(d){var S=[];if(!d)return S;for(var w=d.split(`
`),s=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<w.length;){var t=w[s].match(a);if(!t)throw new Error("Invalid patch string: "+w[s]);var e=new v.patch_obj;for(S.push(e),e.start1=parseInt(t[1],10),t[2]===""?(e.start1--,e.length1=1):t[2]=="0"?e.length1=0:(e.start1--,e.length1=parseInt(t[2],10)),e.start2=parseInt(t[3],10),t[4]===""?(e.start2--,e.length2=1):t[4]=="0"?e.length2=0:(e.start2--,e.length2=parseInt(t[4],10)),s++;s<w.length;){var n=w[s].charAt(0);try{var i=decodeURI(w[s].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+i)}if(n=="-")e.diffs.push(new v.Diff(c,i));else if(n=="+")e.diffs.push(new v.Diff(p,i));else if(n==" ")e.diffs.push(new v.Diff(k,i));else{if(n=="@")break;if(n!=="")throw new Error('Invalid patch mode "'+n+'" in: '+i)}s++}}return S},v.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},v.patch_obj.prototype.toString=function(){var d,S;this.length1===0?d=this.start1+",0":this.length1==1?d=this.start1+1:d=this.start1+1+","+this.length1,this.length2===0?S=this.start2+",0":this.length2==1?S=this.start2+1:S=this.start2+1+","+this.length2;for(var w=["@@ -"+d+" +"+S+` @@
`],s,a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case p:s="+";break;case c:s="-";break;case k:s=" ";break}w[a+1]=s+encodeURI(this.diffs[a][1])+`
`}return w.join("").replace(/%20/g," ")},L.exports=v,L.exports.diff_match_patch=v,L.exports.DIFF_DELETE=c,L.exports.DIFF_INSERT=p,L.exports.DIFF_EQUAL=k})(gi);var Ko=gi.exports,jo=be&&be.__extends||function(){var L=function(v,c){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,k){p.__proto__=k}||function(p,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(p[d]=k[d])},L(v,c)};return function(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");L(v,c);function p(){this.constructor=v}v.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();Object.defineProperty(an,"__esModule",{value:!0});var he=sn,Hn=ue,Yo=Et,Xo=Ko,Qo=function(L){jo(v,L);function v(c){var p=L.call(this,c)||this;return p.state={value:p.props.value},p.onChange=p.onChange.bind(p),p.diff=p.diff.bind(p),p}return v.prototype.componentDidUpdate=function(){var c=this.props.value;c!==this.state.value&&this.setState({value:c})},v.prototype.onChange=function(c){this.setState({value:c}),this.props.onChange&&this.props.onChange(c)},v.prototype.diff=function(){var c=new Xo,p=this.state.value[0],k=this.state.value[1];if(p.length===0&&k.length===0)return[];var d=c.diff_main(p,k);c.diff_cleanupSemantic(d);var S=this.generateDiffedLines(d),w=this.setCodeMarkers(S);return w},v.prototype.generateDiffedLines=function(c){var p={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},k={left:[],right:[]},d={left:1,right:1};return c.forEach(function(S){var w=S[0],s=S[1],a=s.split(`
`).length-1;if(s.length!==0){var t=s[0],e=s[s.length-1],n=0;switch(w){case p.DIFF_EQUAL:d.left+=a,d.right+=a;break;case p.DIFF_DELETE:t===`
`&&(d.left++,a--),n=a,n===0&&k.right.push({startLine:d.right,endLine:d.right}),e===`
`&&(n-=1),k.left.push({startLine:d.left,endLine:d.left+n}),d.left+=a;break;case p.DIFF_INSERT:t===`
`&&(d.right++,a--),n=a,n===0&&k.left.push({startLine:d.left,endLine:d.left}),e===`
`&&(n-=1),k.right.push({startLine:d.right,endLine:d.right+n}),d.right+=a;break;default:throw new Error("Diff type was not defined.")}}}),k},v.prototype.setCodeMarkers=function(c){c===void 0&&(c={left:[],right:[]});for(var p=[],k={left:[],right:[]},d=0;d<c.left.length;d++){var S={startRow:c.left[d].startLine-1,endRow:c.left[d].endLine,type:"text",className:"codeMarker"};k.left.push(S)}for(var d=0;d<c.right.length;d++){var S={startRow:c.right[d].startLine-1,endRow:c.right[d].endLine,type:"text",className:"codeMarker"};k.right.push(S)}return p[0]=k.left,p[1]=k.right,p},v.prototype.render=function(){var c=this.diff();return Hn.createElement(Yo.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:c})},v.propTypes={cursorStart:he.number,editorProps:he.object,enableBasicAutocompletion:he.bool,enableLiveAutocompletion:he.bool,focus:he.bool,fontSize:he.number,height:he.string,highlightActiveLine:he.bool,maxLines:he.number,minLines:he.number,mode:he.string,name:he.string,className:he.string,onLoad:he.func,onPaste:he.func,onScroll:he.func,onChange:he.func,orientation:he.string,readOnly:he.bool,scrollMargin:he.array,setOptions:he.object,showGutter:he.bool,showPrintMargin:he.bool,splits:he.number,style:he.object,tabSize:he.number,theme:he.string,value:he.array,width:he.string,wrapEnabled:he.bool},v.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},v}(Hn.Component);an.default=Qo;Object.defineProperty(rt,"__esModule",{value:!0});rt.diff=rt.split=void 0;var Zo=on,Jo=an;rt.diff=Jo.default;var qo=Et;rt.split=qo.default;var es=rt.default=Zo.default,ts={exports:{}};(function(L,v){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(c,p,k){var d=c("../lib/oop"),S=c("./text_highlight_rules").TextHighlightRules,w=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};d.inherits(w,S),p.JsonHighlightRules=w}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(c,p,k){var d=c("../range").Range,S=function(){};(function(){this.checkOutdent=function(w,s){return/^\s+$/.test(w)?/^\s*\}/.test(s):!1},this.autoOutdent=function(w,s){var a=w.getLine(s),t=a.match(/^(\s*\})/);if(!t)return 0;var e=t[1].length,n=w.findMatchingBracket({row:s,column:e});if(!n||n.row==s)return 0;var i=this.$getIndent(w.getLine(n.row));w.replace(new d(s,0,s,e-1),i)},this.$getIndent=function(w){return w.match(/^\s*/)[0]}}).call(S.prototype),p.MatchingBraceOutdent=S}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(c,p,k){var d=c("../../lib/oop"),S=c("../../range").Range,w=c("./fold_mode").FoldMode,s=p.FoldMode=function(a){a&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+a.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+a.end)))};d.inherits(s,w),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(a,t,e){var n=a.getLine(e);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var i=this._getFoldWidgetBase(a,t,e);return!i&&this.startRegionRe.test(n)?"start":i},this.getFoldWidgetRange=function(a,t,e,n){var i=a.getLine(e);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(a,i,e);var l=i.match(this.foldingStartMarker);if(l){var r=l.index;if(l[1])return this.openingBracketBlock(a,l[1],e,r);var o=a.getCommentFoldRange(e,r+l[0].length,1);return o&&!o.isMultiLine()&&(n?o=this.getSectionRange(a,e):t!="all"&&(o=null)),o}if(t!=="markbegin"){var l=i.match(this.foldingStopMarker);if(l){var r=l.index+l[0].length;return l[1]?this.closingBracketBlock(a,l[1],e,r):a.getCommentFoldRange(e,r,-1)}}},this.getSectionRange=function(a,t){var e=a.getLine(t),n=e.search(/\S/),i=t,r=e.length;t=t+1;for(var o=t,l=a.getLength();++t<l;){e=a.getLine(t);var m=e.search(/\S/);if(m!==-1){if(n>m)break;var u=this.getFoldWidgetRange(a,"all",t);if(u){if(u.start.row<=i)break;if(u.isMultiLine())t=u.end.row;else if(n==m)break}o=t}}return new S(i,r,o,a.getLine(o).length)},this.getCommentRegionBlock=function(a,t,e){for(var n=t.search(/\s*$/),i=a.getLength(),r=e,o=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++e<i;){t=a.getLine(e);var m=o.exec(t);if(m&&(m[1]?l--:l++,!l))break}var u=e;if(u>r)return new S(r,n,u,t.length)}}.call(s.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(c,p,k){var d=c("../lib/oop"),S=c("./text").Mode,w=c("./json_highlight_rules").JsonHighlightRules,s=c("./matching_brace_outdent").MatchingBraceOutdent,a=c("./folding/cstyle").FoldMode,t=c("../worker/worker_client").WorkerClient,e=function(){this.HighlightRules=w,this.$outdent=new s,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new a};d.inherits(e,S),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(n,i,r){var o=this.$getIndent(i);if(n=="start"){var l=i.match(/^.*[\{\(\[]\s*$/);l&&(o+=r)}return o},this.checkOutdent=function(n,i,r){return this.$outdent.checkOutdent(i,r)},this.autoOutdent=function(n,i,r){this.$outdent.autoOutdent(i,r)},this.createWorker=function(n){var i=new t(["ace"],"ace/mode/json_worker","JsonWorker");return i.attachToDocument(n.getDocument()),i.on("annotate",function(r){n.setAnnotations(r.data)}),i.on("terminate",function(){n.clearAnnotations()}),i},this.$id="ace/mode/json"}.call(e.prototype),p.Mode=e}),function(){ace.require(["ace/mode/json"],function(c){L&&(L.exports=c)})}()})(ts);var ns={exports:{}};(function(L,v){ace.define("ace/theme/github.css",["require","exports","module"],function(c,p,k){k.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github.css","ace/lib/dom"],function(c,p,k){p.isDark=!1,p.cssClass="ace-github",p.cssText=c("./github.css");var d=c("../lib/dom");d.importCssString(p.cssText,p.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(c){L&&(L.exports=c)})}()})(ns);var is={exports:{}};(function(L,v){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(c,p,k){var d=c("./lib/dom"),S=c("./lib/oop"),w=c("./lib/event_emitter").EventEmitter,s=c("./lib/lang"),a=c("./range").Range,t=c("./range_list").RangeList,e=c("./keyboard/hash_handler").HashHandler,n=c("./tokenizer").Tokenizer,i=c("./clipboard"),r={CURRENT_WORD:function(f){return f.session.getTextRange(f.session.getWordRange())},SELECTION:function(f,h,C){var $=f.session.getTextRange();return C?$.replace(/\n\r?([ \t]*\S)/g,`
`+C+"$1"):$},CURRENT_LINE:function(f){return f.session.getLine(f.getCursorPosition().row)},PREV_LINE:function(f){return f.session.getLine(f.getCursorPosition().row-1)},LINE_INDEX:function(f){return f.getCursorPosition().row},LINE_NUMBER:function(f){return f.getCursorPosition().row+1},SOFT_TABS:function(f){return f.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(f){return f.session.getTabSize()},CLIPBOARD:function(f){return i.getText&&i.getText()},FILENAME:function(f){return/[^/\\]*$/.exec(this.FILEPATH(f))[0]},FILENAME_BASE:function(f){return/[^/\\]*$/.exec(this.FILEPATH(f))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(f){return this.FILEPATH(f).replace(/[^/\\]*$/,"")},FILEPATH:function(f){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(f){var h=f.session.$mode||{};return h.blockComment&&h.blockComment.start||""},BLOCK_COMMENT_END:function(f){var h=f.session.$mode||{};return h.blockComment&&h.blockComment.end||""},LINE_COMMENT:function(f){var h=f.session.$mode||{};return h.lineCommentStart||""},CURRENT_YEAR:o.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:o.bind(null,{year:"2-digit"}),CURRENT_MONTH:o.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:o.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:o.bind(null,{month:"short"}),CURRENT_DATE:o.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:o.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:o.bind(null,{weekday:"short"}),CURRENT_HOUR:o.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:o.bind(null,{minute:"2-digit"}),CURRENT_SECOND:o.bind(null,{second:"2-digit"})};r.SELECTED_TEXT=r.SELECTION;function o(f){var h=new Date().toLocaleString("en-us",f);return h.length==1?"0"+h:h}var l=function(){this.snippetMap={},this.snippetNameMap={}};(function(){S.implement(this,w),this.getTokenizer=function(){return l.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function h(T){return T=T.substr(1),/^\d+$/.test(T)?[{tabstopId:parseInt(T,10)}]:[{text:T}]}function C(T){return"(?:[^\\\\"+T+"]|\\\\.)"}var $={regex:"/("+C("/")+"+)/",onMatch:function(T,b,g){var M=g[0];return M.fmtString=!0,M.guard=T.slice(1,-1),M.flag="",""},next:"formatString"};return l.$tokenizer=new n({start:[{regex:/\\./,onMatch:function(T,b,g){var M=T[1];return(M=="}"&&g.length||"`$\\".indexOf(M)!=-1)&&(T=M),[T]}},{regex:/}/,onMatch:function(T,b,g){return[g.length?g.shift():T]}},{regex:/\$(?:\d+|\w+)/,onMatch:h},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(T,b,g){var M=h(T.substr(1));return g.unshift(M[0]),M},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+C("\\|")+"*\\|",onMatch:function(T,b,g){var M=T.slice(1,-1).replace(/\\[,|\\]|,/g,function(E){return E.length==2?E[1]:"\0"}).split("\0").map(function(E){return{value:E}});return g[0].choices=M,[M[0]]},next:"start"},$,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(T,b,g){return g.length&&g[0].expectElse?(g[0].expectElse=!1,g[0].ifEnd={elseEnd:g[0]},[g[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(T,b,g){var M=T[1];return M=="}"&&g.length||"`$\\".indexOf(M)!=-1?T=M:M=="n"?T=`
`:M=="t"?T="	":"ulULE".indexOf(M)!=-1&&(T={changeCase:M,local:M>"a"}),[T]}},{regex:"/\\w*}",onMatch:function(T,b,g){var M=g.shift();return M&&(M.flag=T.slice(1,-1)),this.next=M&&M.tabstopId?"start":"",[M||T]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(T,b,g){return[{text:T.slice(1)}]}},{regex:/\${\w+/,onMatch:function(T,b,g){var M={text:T.slice(2)};return g.unshift(M),[M]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(T,b,g){var M=g.shift();return this.next=M&&M.tabstopId?"start":"",[M||T]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(T,b,g){var M=g[0];return M.formatFunction=T.slice(2,-1),[g.shift()]},next:"formatString"},$,{regex:/:[\?\-+]?/,onMatch:function(T,b,g){T[1]=="+"&&(g[0].ifEnd=g[0]),T[1]=="?"&&(g[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),l.$tokenizer},this.tokenizeTmSnippet=function(h,C){return this.getTokenizer().getLineTokens(h,C).tokens.map(function($){return $.value||$})},this.getVariableValue=function(h,C,$){if(/^\d+$/.test(C))return(this.variables.__||{})[C]||"";if(/^[A-Z]\d+$/.test(C))return(this.variables[C[0]+"__"]||{})[C.substr(1)]||"";if(C=C.replace(/^TM_/,""),!this.variables.hasOwnProperty(C))return"";var T=this.variables[C];return typeof T=="function"&&(T=this.variables[C](h,C,$)),T??""},this.variables=r,this.tmStrFormat=function(h,C,$){if(!C.fmt)return h;var T=C.flag||"",b=C.guard;b=new RegExp(b,T.replace(/[^gim]/g,""));var g=typeof C.fmt=="string"?this.tokenizeTmSnippet(C.fmt,"formatString"):C.fmt,M=this,E=h.replace(b,function(){var y=M.variables.__;M.variables.__=[].slice.call(arguments);for(var x=M.resolveVariables(g,$),R="E",I=0;I<x.length;I++){var O=x[I];if(typeof O=="object")if(x[I]="",O.changeCase&&O.local){var D=x[I+1];D&&typeof D=="string"&&(O.changeCase=="u"?x[I]=D[0].toUpperCase():x[I]=D[0].toLowerCase(),x[I+1]=D.substr(1))}else O.changeCase&&(R=O.changeCase);else R=="U"?x[I]=O.toUpperCase():R=="L"&&(x[I]=O.toLowerCase())}return M.variables.__=y,x.join("")});return E},this.tmFormatFunction=function(h,C,$){return C.formatFunction=="upcase"?h.toUpperCase():C.formatFunction=="downcase"?h.toLowerCase():h},this.resolveVariables=function(h,C){for(var $=[],T="",b=!0,g=0;g<h.length;g++){var M=h[g];if(typeof M=="string"){$.push(M),M==`
`?(b=!0,T=""):b&&(T=/^\t*/.exec(M)[0],b=/\S/.test(M));continue}if(M){if(b=!1,M.fmtString){var E=h.indexOf(M,g+1);E==-1&&(E=h.length),M.fmt=h.slice(g+1,E),g=E}if(M.text){var y=this.getVariableValue(C,M.text,T)+"";M.fmtString&&(y=this.tmStrFormat(y,M,C)),M.formatFunction&&(y=this.tmFormatFunction(y,M,C)),y&&!M.ifEnd?($.push(y),x(M)):!y&&M.ifEnd&&x(M.ifEnd)}else M.elseEnd?x(M.elseEnd):(M.tabstopId!=null||M.changeCase!=null)&&$.push(M)}}function x(R){var I=h.indexOf(R,g+1);I!=-1&&(g=I)}return $};var f=function(h,C,$){$===void 0&&($={});var T=h.getCursorPosition(),b=h.session.getLine(T.row),g=h.session.getTabString(),M=b.match(/^\s*/)[0];T.column<M.length&&(M=M.slice(0,T.column)),C=C.replace(/\r/g,"");var E=this.tokenizeTmSnippet(C);E=this.resolveVariables(E,h),E=E.map(function(U){return U==`
`&&!$.excludeExtraIndent?U+M:typeof U=="string"?U.replace(/\t/g,g):U});var y=[];E.forEach(function(U,j){if(typeof U=="object"){var K=U.tabstopId,X=y[K];if(X||(X=y[K]=[],X.index=K,X.value="",X.parents={}),X.indexOf(U)===-1){U.choices&&!X.choices&&(X.choices=U.choices),X.push(U);var Z=E.indexOf(U,j+1);if(Z!==-1){var te=E.slice(j+1,Z),oe=te.some(function(Se){return typeof Se=="object"});oe&&!X.value?X.value=te:te.length&&(!X.value||typeof X.value!="string")&&(X.value=te.join(""))}}}}),y.forEach(function(U){U.length=0});var x={};function R(U){for(var j=[],K=0;K<U.length;K++){var X=U[K];if(typeof X=="object"){if(x[X.tabstopId])continue;var Z=U.lastIndexOf(X,K-1);X=j[Z]||{tabstopId:X.tabstopId}}j[K]=X}return j}for(var I=0;I<E.length;I++){var O=E[I];if(typeof O=="object"){var D=O.tabstopId,F=y[D],W=E.indexOf(O,I+1);if(x[D]){x[D]===O&&(delete x[D],Object.keys(x).forEach(function(U){F.parents[U]=!0}));continue}x[D]=O;var V=F.value;typeof V!="string"?V=R(V):O.fmt&&(V=this.tmStrFormat(V,O,h)),E.splice.apply(E,[I+1,Math.max(0,W-I)].concat(V,O)),F.indexOf(O)===-1&&F.push(O)}}var N=0,H=0,z="";return E.forEach(function(U){if(typeof U=="string"){var j=U.split(`
`);j.length>1?(H=j[j.length-1].length,N+=j.length-1):H+=U.length,z+=U}else U&&(U.start?U.end={row:N,column:H}:U.start={row:N,column:H})}),{text:z,tabstops:y,tokens:E}};this.getDisplayTextForSnippet=function(h,C){var $=f.call(this,h,C);return $.text},this.insertSnippetForSelection=function(h,C,$){$===void 0&&($={});var T=f.call(this,h,C,$),b=h.getSelectionRange();$.range&&$.range.compareRange(b)===0&&(b=$.range);var g=h.session.replace(b,T.text),M=new m(h),E=h.inVirtualSelectionMode&&h.selection.index;M.addTabstops(T.tabstops,b.start,g,E)},this.insertSnippet=function(h,C,$){$===void 0&&($={});var T=this;if($.range&&!($.range instanceof a)&&($.range=a.fromPoints($.range.start,$.range.end)),h.inVirtualSelectionMode)return T.insertSnippetForSelection(h,C,$);h.forEachSelection(function(){T.insertSnippetForSelection(h,C,$)},null,{keepOrder:!0}),h.tabstopManager&&h.tabstopManager.tabNext()},this.$getScope=function(h){var C=h.session.$mode.$id||"";if(C=C.split("/").pop(),C==="html"||C==="php"){C==="php"&&!h.session.$mode.inlinePhp&&(C="html");var $=h.getCursorPosition(),T=h.session.getState($.row);typeof T=="object"&&(T=T[0]),T.substring&&(T.substring(0,3)=="js-"?C="javascript":T.substring(0,4)=="css-"?C="css":T.substring(0,4)=="php-"&&(C="php"))}return C},this.getActiveScopes=function(h){var C=this.$getScope(h),$=[C],T=this.snippetMap;return T[C]&&T[C].includeScopes&&$.push.apply($,T[C].includeScopes),$.push("_"),$},this.expandWithTab=function(h,C){var $=this,T=h.forEachSelection(function(){return $.expandSnippetForSelection(h,C)},null,{keepOrder:!0});return T&&h.tabstopManager&&h.tabstopManager.tabNext(),T},this.expandSnippetForSelection=function(h,C){var $=h.getCursorPosition(),T=h.session.getLine($.row),b=T.substring(0,$.column),g=T.substr($.column),M=this.snippetMap,E;return this.getActiveScopes(h).some(function(y){var x=M[y];return x&&(E=this.findMatchingSnippet(x,b,g)),!!E},this),E?(C&&C.dryRun||(h.session.doc.removeInLine($.row,$.column-E.replaceBefore.length,$.column+E.replaceAfter.length),this.variables.M__=E.matchBefore,this.variables.T__=E.matchAfter,this.insertSnippetForSelection(h,E.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(h,C,$){for(var T=h.length;T--;){var b=h[T];if(!(b.startRe&&!b.startRe.test(C))&&!(b.endRe&&!b.endRe.test($))&&!(!b.startRe&&!b.endRe))return b.matchBefore=b.startRe?b.startRe.exec(C):[""],b.matchAfter=b.endRe?b.endRe.exec($):[""],b.replaceBefore=b.triggerRe?b.triggerRe.exec(C)[0]:"",b.replaceAfter=b.endTriggerRe?b.endTriggerRe.exec($)[0]:"",b}},this.snippetMap={},this.snippetNameMap={},this.register=function(h,C){var $=this.snippetMap,T=this.snippetNameMap,b=this;h||(h=[]);function g(y){return y&&!/^\^?\(.*\)\$?$|^\\b$/.test(y)&&(y="(?:"+y+")"),y||""}function M(y,x,R){return y=g(y),x=g(x),R?(y=x+y,y&&y[y.length-1]!="$"&&(y=y+"$")):(y=y+x,y&&y[0]!="^"&&(y="^"+y)),new RegExp(y)}function E(y){y.scope||(y.scope=C||"_"),C=y.scope,$[C]||($[C]=[],T[C]={});var x=T[C];if(y.name){var R=x[y.name];R&&b.unregister(R),x[y.name]=y}$[C].push(y),y.prefix&&(y.tabTrigger=y.prefix),!y.content&&y.body&&(y.content=Array.isArray(y.body)?y.body.join(`
`):y.body),y.tabTrigger&&!y.trigger&&(!y.guard&&/^\w/.test(y.tabTrigger)&&(y.guard="\\b"),y.trigger=s.escapeRegExp(y.tabTrigger)),!(!y.trigger&&!y.guard&&!y.endTrigger&&!y.endGuard)&&(y.startRe=M(y.trigger,y.guard,!0),y.triggerRe=new RegExp(y.trigger),y.endRe=M(y.endTrigger,y.endGuard,!0),y.endTriggerRe=new RegExp(y.endTrigger))}Array.isArray(h)?h.forEach(E):Object.keys(h).forEach(function(y){E(h[y])}),this._signal("registerSnippets",{scope:C})},this.unregister=function(h,C){var $=this.snippetMap,T=this.snippetNameMap;function b(g){var M=T[g.scope||C];if(M&&M[g.name]){delete M[g.name];var E=$[g.scope||C],y=E&&E.indexOf(g);y>=0&&E.splice(y,1)}}h.content?b(h):Array.isArray(h)&&h.forEach(b)},this.parseSnippetFile=function(h){h=h.replace(/\r/g,"");for(var C=[],$={},T=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,b;b=T.exec(h);){if(b[1])try{$=JSON.parse(b[1]),C.push($)}catch{}if(b[4])$.content=b[4].replace(/^\t/gm,""),C.push($),$={};else{var g=b[2],M=b[3];if(g=="regex"){var E=/\/((?:[^\/\\]|\\.)*)|$/g;$.guard=E.exec(M)[1],$.trigger=E.exec(M)[1],$.endTrigger=E.exec(M)[1],$.endGuard=E.exec(M)[1]}else g=="snippet"?($.tabTrigger=M.match(/^\S*/)[0],$.name||($.name=M)):g&&($[g]=M)}}return C},this.getSnippetByName=function(h,C){var $=this.snippetNameMap,T;return this.getActiveScopes(C).some(function(b){var g=$[b];return g&&(T=g[h]),!!T},this),T}}).call(l.prototype);var m=function(f){if(f.tabstopManager)return f.tabstopManager;f.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(f)};(function(){this.attach=function(f){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=f,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(f){for(var h=f.action[0]=="r",C=this.selectedTabstop||{},$=C.parents||{},T=(this.tabstops||[]).slice(),b=0;b<T.length;b++){var g=T[b],M=g==C||$[g.index];if(g.rangeList.$bias=M?0:1,f.action=="remove"&&g!==C){var E=g.parents&&g.parents[C.index],y=g.rangeList.pointIndex(f.start,E);y=y<0?-y-1:y+1;var x=g.rangeList.pointIndex(f.end,E);x=x<0?-x-1:x-1;for(var R=g.rangeList.ranges.slice(y,x),I=0;I<R.length;I++)this.removeRange(R[I])}g.rangeList.$onChange(f)}var O=this.editor.session;!this.$inChange&&h&&O.getLength()==1&&!O.getValue()&&this.detach()},this.updateLinkedFields=function(){var f=this.selectedTabstop;if(!(!f||!f.hasLinkedRanges||!f.firstNonLinked)){this.$inChange=!0;for(var h=this.editor.session,C=h.getTextRange(f.firstNonLinked),$=0;$<f.length;$++){var T=f[$];if(T.linked){var b=T.original,g=p.snippetManager.tmStrFormat(C,b,this.editor);h.replace(T,g)}}this.$inChange=!1}},this.onAfterExec=function(f){f.command&&!f.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var f=this.editor.selection.lead,h=this.editor.selection.anchor,C=this.editor.selection.isEmpty(),$=0;$<this.ranges.length;$++)if(!this.ranges[$].linked){var T=this.ranges[$].contains(f.row,f.column),b=C||this.ranges[$].contains(h.row,h.column);if(T&&b)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(f){var h=this.tabstops.length,C=this.index+(f||1);C=Math.min(Math.max(C,1),h),C==h&&(C=0),this.selectTabstop(C),C===0&&this.detach()},this.selectTabstop=function(f){this.$openTabstops=null;var h=this.tabstops[this.index];if(h&&this.addTabstopMarkers(h),this.index=f,h=this.tabstops[this.index],!(!h||!h.length)){this.selectedTabstop=h;var C=h.firstNonLinked||h;if(h.choices&&(C.cursor=C.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(C);else{var $=this.editor.multiSelect;$.toSingleRange(C);for(var T=0;T<h.length;T++)h.hasLinkedRanges&&h[T].linked||$.addRange(h[T].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(f,h,C){var $=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!f[0]){var T=a.fromPoints(C,C);_(T.start,h),_(T.end,h),f[0]=[T],f[0].index=0}var b=this.index,g=[b+1,0],M=this.ranges;f.forEach(function(E,y){for(var x=this.$openTabstops[y]||E,R=0;R<E.length;R++){var I=E[R],O=a.fromPoints(I.start,I.end||I.start);u(O.start,h),u(O.end,h),O.original=I,O.tabstop=x,M.push(O),x!=E?x.unshift(O):x[R]=O,I.fmtString||x.firstNonLinked&&$?(O.linked=!0,x.hasLinkedRanges=!0):x.firstNonLinked||(x.firstNonLinked=O)}x.firstNonLinked||(x.hasLinkedRanges=!1),x===E&&(g.push(x),this.$openTabstops[y]=x),this.addTabstopMarkers(x),x.rangeList=x.rangeList||new t,x.rangeList.$bias=0,x.rangeList.addList(x)},this),g.length>2&&(this.tabstops.length&&g.push(g.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,g))},this.addTabstopMarkers=function(f){var h=this.editor.session;f.forEach(function(C){C.markerId||(C.markerId=h.addMarker(C,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(f){var h=this.editor.session;f.forEach(function(C){h.removeMarker(C.markerId),C.markerId=null})},this.removeRange=function(f){var h=f.tabstop.indexOf(f);h!=-1&&f.tabstop.splice(h,1),h=this.ranges.indexOf(f),h!=-1&&this.ranges.splice(h,1),h=f.tabstop.rangeList.ranges.indexOf(f),h!=-1&&f.tabstop.splice(h,1),this.editor.session.removeMarker(f.markerId),f.tabstop.length||(h=this.tabstops.indexOf(f.tabstop),h!=-1&&this.tabstops.splice(h,1),this.tabstops.length||this.detach())},this.keyboardHandler=new e,this.keyboardHandler.bindKeys({Tab:function(f){p.snippetManager&&p.snippetManager.expandWithTab(f)||(f.tabstopManager.tabNext(1),f.renderer.scrollCursorIntoView())},"Shift-Tab":function(f){f.tabstopManager.tabNext(-1),f.renderer.scrollCursorIntoView()},Esc:function(f){f.tabstopManager.detach()}})}).call(m.prototype);var u=function(f,h){f.row==0&&(f.column+=h.column),f.row+=h.row},_=function(f,h){f.row==h.row&&(f.column-=h.column),f.row-=h.row};d.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),p.snippetManager=new l;var A=c("./editor").Editor;(function(){this.insertSnippet=function(f,h){return p.snippetManager.insertSnippet(this,f,h)},this.expandSnippet=function(f){return p.snippetManager.expandWithTab(this,f)}}).call(A.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],function(c,p,k){var d=c("../virtual_renderer").VirtualRenderer,S=c("../editor").Editor,w=c("../range").Range,s=c("../lib/event"),a=c("../lib/lang"),t=c("../lib/dom"),e=c("../config").nls,n=function(o){return"suggest-aria-id:".concat(o)},i=function(o){var l=new d(o);l.$maxLines=4;var m=new S(l);return m.setHighlightActiveLine(!1),m.setShowPrintMargin(!1),m.renderer.setShowGutter(!1),m.renderer.setHighlightGutterLine(!1),m.$mouseHandler.$focusTimeout=0,m.$highlightTagPending=!0,m},r=function(){function o(l){var m=t.createElement("div"),u=new i(m);l&&l.appendChild(m),m.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.renderer.container.setAttribute("role","listbox"),u.renderer.container.setAttribute("aria-label",e("Autocomplete suggestions")),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150);var _=function(){};u.focus=_,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=_,u.renderer.$cursorLayer.element.style.opacity=0,u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(b){var g=b.getDocumentPosition();u.selection.moveToPosition(g),h.start.row=h.end.row=g.row,b.stop()});var A,f=new w(-1,0,-1,1/0),h=new w(-1,0,-1,1/0);h.id=u.session.addMarker(h,"ace_active-line","fullLine"),u.setSelectOnHover=function(b){b?f.id&&(u.session.removeMarker(f.id),f.id=null):f.id=u.session.addMarker(f,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(b){if(!A){A=b;return}if(!(A.x==b.x&&A.y==b.y)){A=b,A.scrollTop=u.renderer.scrollTop;var g=A.getDocumentPosition().row;f.start.row!=g&&(f.id||u.setRow(g),$(g))}}),u.renderer.on("beforeRender",function(){if(A&&f.start.row!=-1){A.$pos=null;var b=A.getDocumentPosition().row;f.id||u.setRow(b),$(b,!0)}}),u.renderer.on("afterRender",function(){var b=u.getRow(),g=u.renderer.$textLayer,M=g.element.childNodes[b-g.config.firstRow],E=document.activeElement;if(M!==g.selectedNode&&g.selectedNode&&(t.removeCssClass(g.selectedNode,"ace_selected"),E.removeAttribute("aria-activedescendant"),g.selectedNode.removeAttribute("id")),g.selectedNode=M,M){t.addCssClass(M,"ace_selected");var y=n(b);M.id=y,u.renderer.container.setAttribute("aria-activedescendant",y),E.setAttribute("aria-activedescendant",y),M.setAttribute("role","option"),M.setAttribute("aria-label",u.getData(b).value),M.setAttribute("aria-setsize",u.data.length),M.setAttribute("aria-posinset",b)}});var C=function(){$(-1)},$=function(b,g){b!==f.start.row&&(f.start.row=f.end.row=b,g||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))};u.getHoveredRow=function(){return f.start.row},s.addListener(u.container,"mouseout",C),u.on("hide",C),u.on("changeSelection",C),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(b){var g=u.data[b];return typeof g=="string"?g:g&&g.value||""};var T=u.session.bgTokenizer;return T.$tokenizeRow=function(b){var g=u.data[b],M=[];if(!g)return M;typeof g=="string"&&(g={value:g});var E=g.caption||g.value||g.name;function y(V,N){V&&M.push({type:(g.className||"")+(N||""),value:V})}for(var x=E.toLowerCase(),R=(u.filterText||"").toLowerCase(),I=0,O=0,D=0;D<=R.length;D++)if(D!=O&&(g.matchMask&1<<D||D==R.length)){var F=R.slice(O,D);O=D;var W=x.indexOf(F,I);if(W==-1)continue;y(E.slice(I,W),""),I=W+F.length,y(E.slice(W,I),"completion-highlight")}return y(E.slice(I,E.length),""),M.push({type:"completion-spacer",value:" "}),g.meta&&M.push({type:"completion-meta",value:g.meta}),g.message&&M.push({type:"completion-message",value:g.message}),M},T.$updateOnChange=_,T.start=_,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.data=[],u.setData=function(b,g){u.filterText=g||"",u.setValue(a.stringRepeat(`
`,b.length),-1),u.data=b||[],u.setRow(0)},u.getData=function(b){return u.data[b]},u.getRow=function(){return h.start.row},u.setRow=function(b){b=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,b)),h.start.row!=b&&(u.selection.clearSelection(),h.start.row=h.end.row=b||0,u.session._emit("changeBackMarker"),u.moveCursorTo(b||0,0),u.isOpen&&u._signal("select"))},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",u.anchorPos=null,u.anchor=null,u.isOpen&&(u.isOpen=!1,this._signal("hide"))},u.tryShow=function(b,g,M,E){if(!E&&u.isOpen&&u.anchorPos&&u.anchor&&u.anchorPos.top===b.top&&u.anchorPos.left===b.left&&u.anchor===M)return!0;var y=this.container,x=window.innerHeight,R=window.innerWidth,I=this.renderer,O=I.$maxLines*g*1.4,D={top:0,bottom:0,left:0},F=x-b.top-3*this.$borderSize-g,W=b.top-3*this.$borderSize;M||(W<=F||F>=O?M="bottom":M="top"),M==="top"?(D.bottom=b.top-this.$borderSize,D.top=D.bottom-O):M==="bottom"&&(D.top=b.top+g+this.$borderSize,D.bottom=D.top+O);var V=D.top>=0&&D.bottom<=x;if(!E&&!V)return!1;V?I.$maxPixelHeight=null:M==="top"?I.$maxPixelHeight=W:I.$maxPixelHeight=F,M==="top"?(y.style.top="",y.style.bottom=x-D.bottom+"px",u.isTopdown=!1):(y.style.top=D.top+"px",y.style.bottom="",u.isTopdown=!0),y.style.display="";var N=b.left;return N+y.offsetWidth>R&&(N=R-y.offsetWidth),y.style.left=N+"px",y.style.right="",u.isOpen||(u.isOpen=!0,this._signal("show"),A=null),u.anchorPos=b,u.anchor=M,!0},u.show=function(b,g,M){this.tryShow(b,g,M?"bottom":void 0,!0)},u.goTo=function(b){var g=this.getRow(),M=this.session.getLength()-1;switch(b){case"up":g=g<=0?M:g-1;break;case"down":g=g>=M?-1:g+1;break;case"start":g=0;break;case"end":g=M;break}this.setRow(g)},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u}return o}();t.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin: 0 0.9em;
}
.ace_completion-message {
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete_right .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete_right .ace_line {
    display: flex;
}
.ace_autocomplete_right .ace_completion-spacer {
    flex: 1;
}
`,"autocompletion.css",!1),p.AcePopup=r,p.$singleLineEditor=i,p.getAriaId=n}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],function(c,p,k){var d=c("../snippets").snippetManager,S=function(){function w(){this.editor=null}return w.prototype.show=function(s,a,t){if(t=t||"",s&&this.editor&&this.editor!==s&&(this.hide(),this.editor=null),!s||!a)return!1;var e=a.snippet?d.getDisplayTextForSnippet(s,a.snippet):a.value;return!e||!e.startsWith(t)?!1:(this.editor=s,e=e.slice(t.length),e===""?s.removeGhostText():s.setGhostText(e),!0)},w.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},w.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},w.prototype.destroy=function(){this.hide(),this.editor=null},w}();p.AceInline=S}),ace.define("ace/autocomplete/util",["require","exports","module"],function(c,p,k){p.parForEach=function(S,w,s){var a=0,t=S.length;t===0&&s();for(var e=0;e<t;e++)w(S[e],function(n,i){a++,a===t&&s(n,i)})};var d=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;p.retrievePrecedingIdentifier=function(S,w,s){s=s||d;for(var a=[],t=w-1;t>=0&&s.test(S[t]);t--)a.push(S[t]);return a.reverse().join("")},p.retrieveFollowingIdentifier=function(S,w,s){s=s||d;for(var a=[],t=w;t<S.length&&s.test(S[t]);t++)a.push(S[t]);return a},p.getCompletionPrefix=function(S){var w=S.getCursorPosition(),s=S.session.getLine(w.row),a;return S.completers.forEach(function(t){t.identifierRegexps&&t.identifierRegexps.forEach(function(e){!a&&e&&(a=this.retrievePrecedingIdentifier(s,w.column,e))}.bind(this))}.bind(this)),a||this.retrievePrecedingIdentifier(s,w.column)},p.triggerAutocomplete=function(S){var w=S.getCursorPosition(),s=S.session.getLine(w.row),a=w.column===0?0:w.column-1,t=s[a];return S.completers.some(function(e){if(e.triggerCharacters&&Array.isArray(e.triggerCharacters))return e.triggerCharacters.includes(t)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(c,p,k){var d=c("./keyboard/hash_handler").HashHandler,S=c("./autocomplete/popup").AcePopup,w=c("./autocomplete/inline").AceInline,s=c("./autocomplete/popup").getAriaId,a=c("./autocomplete/util"),t=c("./lib/lang"),e=c("./lib/dom"),n=c("./snippets").snippetManager,i=c("./config"),r=function(u,_){_.completer&&_.completer.destroy()},o=function(){function u(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new d,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=t.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=t.delayedCall(this.updateDocTooltip.bind(this),50)}return u.prototype.$init=function(){return this.popup=new S(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(_){this.insertMatch(),_.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},u.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new w,this.inlineRenderer},u.prototype.getPopup=function(){return this.popup||this.$init()},u.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},u.prototype.$onPopupChange=function(_){if(this.inlineRenderer&&this.inlineEnabled){var A=_?null:this.popup.getData(this.popup.getRow()),f=a.getCompletionPrefix(this.editor);this.inlineRenderer.show(this.editor,A,f)||this.inlineRenderer.hide(),this.$updatePopupPosition()}this.tooltipTimer.call(null,null)},u.prototype.$updatePopupPosition=function(){var _=this.editor,A=_.renderer,f=A.layerConfig.lineHeight,h=A.$cursorLayer.getPixelPosition(this.base,!0);h.left-=this.popup.getTextLeftOffset();var C=_.container.getBoundingClientRect();h.top+=C.top-A.layerConfig.offset,h.left+=C.left-_.renderer.scrollLeft,h.left+=A.gutterWidth;var $={top:h.top,left:h.left};A.$ghostText&&A.$ghostTextWidget&&this.base.row===A.$ghostText.position.row&&($.top+=A.$ghostTextWidget.el.offsetHeight),!this.popup.tryShow($,f,"bottom")&&(this.popup.tryShow(h,f,"top")||this.popup.show(h,f))},u.prototype.openPopup=function(_,A,f){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),_.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),f?f&&!A&&this.detach():(this.popup.setTheme(_.getTheme()),this.popup.setFontSize(_.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel()},u.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null},u.prototype.changeListener=function(_){var A=this.editor.selection.lead;(A.row!=this.base.row||A.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},u.prototype.blurListener=function(_){var A=document.activeElement,f=this.editor.textInput.getElement(),h=_.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(_.relatedTarget),C=this.popup&&this.popup.container;A!=f&&A.parentNode!=C&&!h&&A!=this.tooltipNode&&_.relatedTarget!=f&&this.detach()},u.prototype.mousedownListener=function(_){this.detach()},u.prototype.mousewheelListener=function(_){this.detach()},u.prototype.goTo=function(_){this.popup.goTo(_)},u.prototype.insertMatch=function(_,A){if(_||(_=this.popup.getData(this.popup.getRow())),!_)return!1;if(_.value==="")return this.detach();var f=this.completions,h=this.getCompletionProvider().insertMatch(this.editor,_,f.filterText,A);return this.completions==f&&this.detach(),h},u.prototype.showPopup=function(_,A){this.editor&&this.detach(),this.activated=!0,this.editor=_,_.completer!=this&&(_.completer&&_.completer.detach(),_.completer=this),_.on("changeSelection",this.changeListener),_.on("blur",this.blurListener),_.on("mousedown",this.mousedownListener),_.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,A)},u.prototype.getCompletionProvider=function(){return this.completionProvider||(this.completionProvider=new l),this.completionProvider},u.prototype.gatherCompletions=function(_,A){return this.getCompletionProvider().gatherCompletions(_,A)},u.prototype.updateCompletions=function(_,A){if(_&&this.base&&this.completions){var h=this.editor.getCursorPosition(),C=this.editor.session.getTextRange({start:this.base,end:h});if(C==this.completions.filterText)return;if(this.completions.setFilter(C),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==C&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,C,_);return}if(A&&A.matches){var h=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(h.row,h.column),this.base.$insertRight=!0,this.completions=new m(A.matches),this.openPopup(this.editor,"",_)}var f=this.editor.getSession(),h=this.editor.getCursorPosition(),C=a.getCompletionPrefix(this.editor);this.base=f.doc.createAnchor(h.row,h.column-C.length),this.base.$insertRight=!0;var $={exactMatch:this.exactMatch};this.getCompletionProvider().provideCompletions(this.editor,$,function(T,b,g){var M=b.filtered,E=a.getCompletionPrefix(this.editor);if(g){if(!M.length){var y=!this.autoShown&&this.emptyMessage;if(typeof y=="function"&&(y=this.emptyMessage(E)),y){var x=[{caption:this.emptyMessage(E),value:""}];this.completions=new m(x),this.openPopup(this.editor,E,_);return}return this.detach()}if(M.length==1&&M[0].value==E&&!M[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&M.length==1)return this.insertMatch(M[0])}this.completions=b,this.openPopup(this.editor,E,_)}.bind(this))},u.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},u.prototype.updateDocTooltip=function(){var _=this.popup,A=_.data,f=A&&(A[_.getHoveredRow()]||A[_.getRow()]),h=null;if(!f||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var C=this.editor.completers.length,$=0;$<C;$++){var T=this.editor.completers[$];if(T.getDocTooltip&&f.completerId===T.id){h=T.getDocTooltip(f);break}}if(!h&&typeof f!="string"&&(h=f),typeof h=="string"&&(h={docText:h}),!h||!(h.docHTML||h.docText))return this.hideDocTooltip();this.showDocTooltip(h)},u.prototype.showDocTooltip=function(_){this.tooltipNode||(this.tooltipNode=e.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var A=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(A.isDark?"ace_dark ":"")+(A.cssClass||"");var f=this.tooltipNode;_.docHTML?f.innerHTML=_.docHTML:_.docText&&(f.textContent=_.docText),f.parentNode||this.popup.container.appendChild(this.tooltipNode);var h=this.popup,C=h.container.getBoundingClientRect();f.style.top=h.container.style.top,f.style.bottom=h.container.style.bottom,f.style.display="block",window.innerWidth-C.right<320?C.left<320?h.isTopdown?(f.style.top=C.bottom+"px",f.style.left=C.left+"px",f.style.right="",f.style.bottom=""):(f.style.top=h.container.offsetTop-f.offsetHeight+"px",f.style.left=C.left+"px",f.style.right="",f.style.bottom=""):(f.style.right=window.innerWidth-C.left+"px",f.style.left=""):(f.style.left=C.right+1+"px",f.style.right="")},u.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var _=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==_&&this.editor.focus(),this.tooltipNode=null,_.parentNode&&_.parentNode.removeChild(_)}},u.prototype.onTooltipClick=function(_){for(var A=_.target;A&&A!=this.tooltipNode;){if(A.nodeName=="A"&&A.href){A.rel="noreferrer",A.target="_blank";break}A=A.parentNode}},u.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var _=this.popup.container;_&&_.parentNode&&_.parentNode.removeChild(_)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",r),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},u}();o.prototype.commands={Up:function(u){u.completer.goTo("up")},Down:function(u){u.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(u){u.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(u){u.completer.goTo("end")},Esc:function(u){u.completer.detach()},Return:function(u){return u.completer.insertMatch()},"Shift-Return":function(u){u.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(u){var _=u.completer.insertMatch();if(!_&&!u.tabstopManager)u.completer.goTo("down");else return _},PageUp:function(u){u.completer.popup.gotoPageUp()},PageDown:function(u){u.completer.popup.gotoPageDown()}},o.for=function(u){return u.completer instanceof o||(u.completer&&(u.completer.destroy(),u.completer=null),i.get("sharedPopups")?(o.$sharedInstance||(o.$sharedInstance=new o),u.completer=o.$sharedInstance):(u.completer=new o,u.once("destroy",r))),u.completer},o.startCommand={name:"startAutocomplete",exec:function(u,_){var A=o.for(u);A.autoInsert=!1,A.autoSelect=!0,A.autoShown=!1,A.showPopup(u,_),A.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var l=function(){function u(){this.active=!0}return u.prototype.insertByIndex=function(_,A,f){return!this.completions||!this.completions.filtered?!1:this.insertMatch(_,this.completions.filtered[A],f)},u.prototype.insertMatch=function(_,A,f){if(!A)return!1;if(_.startOperation({command:{name:"insertMatch"}}),A.completer&&A.completer.insertMatch)A.completer.insertMatch(_,A);else{if(!this.completions)return!1;if(this.completions.filterText){var h;_.selection.getAllRanges?h=_.selection.getAllRanges():h=[_.getSelectionRange()];for(var C=0,$;$=h[C];C++)$.start.column-=this.completions.filterText.length,_.session.remove($)}A.snippet?n.insertSnippet(_,A.snippet,{range:A.range}):this.$insertString(_,A),A.command&&A.command==="startAutocomplete"&&_.execCommand(A.command)}return _.endOperation(),!0},u.prototype.$insertString=function(_,A){var f=A.value||A;if(A.range){if(_.inVirtualSelectionMode)return _.session.replace(A.range,f);_.forEachSelection(function(){var h=_.getSelectionRange();A.range.compareRange(h)===0?_.session.replace(A.range,f):_.insert(f)},null,{keepOrder:!0})}else _.execCommand("insertstring",f)},u.prototype.gatherCompletions=function(_,A){var f=_.getSession(),h=_.getCursorPosition(),C=a.getCompletionPrefix(_),$=[],T=_.completers.length;return _.completers.forEach(function(b,g){b.getCompletions(_,f,h,C,function(M,E){!M&&E&&($=$.concat(E)),A(null,{prefix:a.getCompletionPrefix(_),matches:$,finished:--T===0})})}),!0},u.prototype.provideCompletions=function(_,A,f){var h=function(b){var g=b.prefix,M=b.matches;this.completions=new m(M),A.exactMatch&&(this.completions.exactMatch=!0),A.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(g),(b.finished||this.completions.filtered.length)&&f(null,this.completions,b.finished)}.bind(this),C=!0,$=null;if(this.gatherCompletions(_,function(b,g){if(this.active){b&&(f(b,[],!0),this.detach());var M=g.prefix;if(M.indexOf(g.prefix)===0){if(C){$=g;return}h(g)}}}.bind(this)),C=!1,$){var T=$;$=null,h(T)}},u.prototype.detach=function(){this.active=!1},u}(),m=function(){function u(_,A){this.all=_,this.filtered=_,this.filterText=A||"",this.exactMatch=!1,this.ignoreCaption=!1}return u.prototype.setFilter=function(_){if(_.length>this.filterText&&_.lastIndexOf(this.filterText,0)===0)var A=this.filtered;else var A=this.all;this.filterText=_,A=this.filterCompletions(A,this.filterText),A=A.sort(function(h,C){return C.exactMatch-h.exactMatch||C.$score-h.$score||(h.caption||h.value).localeCompare(C.caption||C.value)});var f=null;A=A.filter(function(h){var C=h.snippet||h.caption||h.value;return C===f?!1:(f=C,!0)}),this.filtered=A},u.prototype.filterCompletions=function(_,A){var f=[],h=A.toUpperCase(),C=A.toLowerCase();e:for(var $=0,T;T=_[$];$++){var b=!this.ignoreCaption&&T.caption||T.value||T.snippet;if(b){var g=-1,M=0,E=0,y,x;if(this.exactMatch){if(A!==b.substr(0,A.length))continue e}else{var R=b.toLowerCase().indexOf(C);if(R>-1)E=R;else for(var I=0;I<A.length;I++){var O=b.indexOf(C[I],g+1),D=b.indexOf(h[I],g+1);if(y=O>=0&&(D<0||O<D)?O:D,y<0)continue e;x=y-g-1,x>0&&(g===-1&&(E+=10),E+=x,M=M|1<<I),g=y}}T.matchMask=M,T.exactMatch=E?0:1,T.$score=(T.score||0)-E,f.push(T)}}return f},u}();p.Autocomplete=o,p.CompletionProvider=l,p.FilteredList=m}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(c,p,k){var d=c("../range").Range,S=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function w(a,t){var e=a.getTextRange(d.fromPoints({row:0,column:0},t));return e.split(S).length-1}function s(a,t){var e=w(a,t),n=a.getValue().split(S),i=Object.create(null),r=n[e];return n.forEach(function(o,l){if(!(!o||o===r)){var m=Math.abs(e-l),u=n.length-m;i[o]?i[o]=Math.max(u,i[o]):i[o]=u}}),i}p.getCompletions=function(a,t,e,n,i){var r=s(t,e),o=Object.keys(r);i(null,o.map(function(l){return{caption:l,value:l,score:r[l],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(c,p,k){var d=c("../snippets").snippetManager,S=c("../autocomplete").Autocomplete,w=c("../config"),s=c("../lib/lang"),a=c("../autocomplete/util"),t=c("../autocomplete/text_completer"),e={getCompletions:function(f,h,C,$,T){if(h.$mode.completer)return h.$mode.completer.getCompletions(f,h,C,$,T);var b=f.session.getState(C.row),g=h.$mode.getCompletions(b,h,C,$);g=g.map(function(M){return M.completerId=e.id,M}),T(null,g)},id:"keywordCompleter"},n=function(f){var h={};return f.replace(/\${(\d+)(:(.*?))?}/g,function(C,$,T,b){return h[$]=b||""}).replace(/\$(\d+?)/g,function(C,$){return h[$]})},i={getCompletions:function(f,h,C,$,T){var b=[],g=h.getTokenAt(C.row,C.column);g&&g.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?b.push("html-tag"):b=d.getActiveScopes(f);var M=d.snippetMap,E=[];b.forEach(function(y){for(var x=M[y]||[],R=x.length;R--;){var I=x[R],O=I.name||I.tabTrigger;O&&E.push({caption:O,snippet:I.content,meta:I.tabTrigger&&!I.name?I.tabTrigger+" ":"snippet",completerId:i.id})}},this),T(null,E)},getDocTooltip:function(f){f.snippet&&!f.docHTML&&(f.docHTML=["<b>",s.escapeHTML(f.caption),"</b>","<hr></hr>",s.escapeHTML(n(f.snippet))].join(""))},id:"snippetCompleter"},r=[i,t,e];p.setCompleters=function(f){r.length=0,f&&r.push.apply(r,f)},p.addCompleter=function(f){r.push(f)},p.textCompleter=t,p.keyWordCompleter=e,p.snippetCompleter=i;var o={name:"expandSnippet",exec:function(f){return d.expandWithTab(f)},bindKey:"Tab"},l=function(f,h){m(h.session.$mode)},m=function(f){typeof f=="string"&&(f=w.$modes[f]),f&&(d.files||(d.files={}),u(f.$id,f.snippetFileId),f.modes&&f.modes.forEach(m))},u=function(f,h){!h||!f||d.files[f]||(d.files[f]={},w.loadModule(h,function(C){C&&(d.files[f]=C,!C.snippets&&C.snippetText&&(C.snippets=d.parseSnippetFile(C.snippetText)),d.register(C.snippets||[],C.scope),C.includeScopes&&(d.snippetMap[C.scope].includeScopes=C.includeScopes,C.includeScopes.forEach(function($){m("ace/mode/"+$)})))}))},_=function(f){var h=f.editor,C=h.completer&&h.completer.activated;if(f.command.name==="backspace")C&&!a.getCompletionPrefix(h)&&h.completer.detach();else if(f.command.name==="insertstring"){var $=a.getCompletionPrefix(h),T=a.triggerAutocomplete(h);if(($||T)&&!C){var b=S.for(h);b.autoShown=!0,b.showPopup(h)}}},A=c("../editor").Editor;c("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(f){f?(this.completers||(this.completers=Array.isArray(f)?f:r),this.commands.addCommand(S.startCommand)):this.commands.removeCommand(S.startCommand)},value:!1},enableLiveAutocompletion:{set:function(f){f?(this.completers||(this.completers=Array.isArray(f)?f:r),this.commands.on("afterExec",_)):this.commands.removeListener("afterExec",_)},value:!1},enableSnippets:{set:function(f){f?(this.commands.addCommand(o),this.on("changeMode",l),l(null,this)):(this.commands.removeCommand(o),this.off("changeMode",l))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(c){L&&(L.exports=c)})}()})(is);const pi=ue.createContext({dragDropManager:void 0});function ke(L){return"Minified Redux error #"+L+"; visit https://redux.js.org/Errors?code="+L+" for the full message or use the non-minified dev environment for full errors. "}var Wn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Vt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bn={INIT:"@@redux/INIT"+Vt(),REPLACE:"@@redux/REPLACE"+Vt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Vt()}};function rs(L){if(typeof L!="object"||L===null)return!1;for(var v=L;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(L)===v}function vi(L,v,c){var p;if(typeof v=="function"&&typeof c=="function"||typeof c=="function"&&typeof arguments[3]=="function")throw new Error(ke(0));if(typeof v=="function"&&typeof c>"u"&&(c=v,v=void 0),typeof c<"u"){if(typeof c!="function")throw new Error(ke(1));return c(vi)(L,v)}if(typeof L!="function")throw new Error(ke(2));var k=L,d=v,S=[],w=S,s=!1;function a(){w===S&&(w=S.slice())}function t(){if(s)throw new Error(ke(3));return d}function e(o){if(typeof o!="function")throw new Error(ke(4));if(s)throw new Error(ke(5));var l=!0;return a(),w.push(o),function(){if(l){if(s)throw new Error(ke(6));l=!1,a();var u=w.indexOf(o);w.splice(u,1),S=null}}}function n(o){if(!rs(o))throw new Error(ke(7));if(typeof o.type>"u")throw new Error(ke(8));if(s)throw new Error(ke(9));try{s=!0,d=k(d,o)}finally{s=!1}for(var l=S=w,m=0;m<l.length;m++){var u=l[m];u()}return o}function i(o){if(typeof o!="function")throw new Error(ke(10));k=o,n({type:Bn.REPLACE})}function r(){var o,l=e;return o={subscribe:function(u){if(typeof u!="object"||u===null)throw new Error(ke(11));function _(){u.next&&u.next(t())}_();var A=l(_);return{unsubscribe:A}}},o[Wn]=function(){return this},o}return n({type:Bn.INIT}),p={dispatch:n,subscribe:e,getState:t,replaceReducer:i},p[Wn]=r,p}function ie(L,v,...c){if(os()&&v===void 0)throw new Error("invariant requires an error message argument");if(!L){let p;if(v===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let k=0;p=new Error(v.replace(/%s/g,function(){return c[k++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}function os(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function ss(L,v,c){return v.split(".").reduce((p,k)=>p&&p[k]?p[k]:c||null,L)}function as(L,v){return L.filter(c=>c!==v)}function mi(L){return typeof L=="object"}function ls(L,v){const c=new Map,p=d=>{c.set(d,c.has(d)?c.get(d)+1:1)};L.forEach(p),v.forEach(p);const k=[];return c.forEach((d,S)=>{d===1&&k.push(S)}),k}function cs(L,v){return L.filter(c=>v.indexOf(c)>-1)}const dn="dnd-core/INIT_COORDS",Lt="dnd-core/BEGIN_DRAG",fn="dnd-core/PUBLISH_DRAG_SOURCE",xt="dnd-core/HOVER",kt="dnd-core/DROP",Rt="dnd-core/END_DRAG";function zn(L,v){return{type:dn,payload:{sourceClientOffset:v||null,clientOffset:L||null}}}const hs={type:dn,payload:{clientOffset:null,sourceClientOffset:null}};function us(L){return function(c=[],p={publishSource:!0}){const{publishSource:k=!0,clientOffset:d,getSourceClientOffset:S}=p,w=L.getMonitor(),s=L.getRegistry();L.dispatch(zn(d)),ds(c,w,s);const a=ps(c,w);if(a==null){L.dispatch(hs);return}let t=null;if(d){if(!S)throw new Error("getSourceClientOffset must be defined");fs(S),t=S(a)}L.dispatch(zn(d,t));const n=s.getSource(a).beginDrag(w,a);if(n==null)return;gs(n),s.pinSource(a);const i=s.getSourceType(a);return{type:Lt,payload:{itemType:i,item:n,sourceId:a,clientOffset:d||null,sourceClientOffset:t||null,isSourcePublic:!!k}}}}function ds(L,v,c){ie(!v.isDragging(),"Cannot call beginDrag while dragging."),L.forEach(function(p){ie(c.getSource(p),"Expected sourceIds to be registered.")})}function fs(L){ie(typeof L=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function gs(L){ie(mi(L),"Item must be an object.")}function ps(L,v){let c=null;for(let p=L.length-1;p>=0;p--)if(v.canDragSource(L[p])){c=L[p];break}return c}function vs(L,v,c){return v in L?Object.defineProperty(L,v,{value:c,enumerable:!0,configurable:!0,writable:!0}):L[v]=c,L}function ms(L){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{},p=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(c).filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable}))),p.forEach(function(k){vs(L,k,c[k])})}return L}function ys(L){return function(c={}){const p=L.getMonitor(),k=L.getRegistry();ws(p),Cs(p).forEach((S,w)=>{const s=bs(S,w,k,p),a={type:kt,payload:{dropResult:ms({},c,s)}};L.dispatch(a)})}}function ws(L){ie(L.isDragging(),"Cannot call drop while not dragging."),ie(!L.didDrop(),"Cannot call drop twice during one drag operation.")}function bs(L,v,c,p){const k=c.getTarget(L);let d=k?k.drop(p,L):void 0;return Ss(d),typeof d>"u"&&(d=v===0?{}:p.getDropResult()),d}function Ss(L){ie(typeof L>"u"||mi(L),"Drop result must either be an object or undefined.")}function Cs(L){const v=L.getTargetIds().filter(L.canDropOnTarget,L);return v.reverse(),v}function $s(L){return function(){const c=L.getMonitor(),p=L.getRegistry();As(c);const k=c.getSourceId();return k!=null&&(p.getSource(k,!0).endDrag(c,k),p.unpinSource()),{type:Rt}}}function As(L){ie(L.isDragging(),"Cannot call endDrag while not dragging.")}function qt(L,v){return v===null?L===null:Array.isArray(L)?L.some(c=>c===v):L===v}function Ts(L){return function(c,{clientOffset:p}={}){Es(c);const k=c.slice(0),d=L.getMonitor(),S=L.getRegistry(),w=d.getItemType();return _s(k,S,w),Ms(k,d,S),Ls(k,d,S),{type:xt,payload:{targetIds:k,clientOffset:p||null}}}}function Es(L){ie(Array.isArray(L),"Expected targetIds to be an array.")}function Ms(L,v,c){ie(v.isDragging(),"Cannot call hover while not dragging."),ie(!v.didDrop(),"Cannot call hover after drop.");for(let p=0;p<L.length;p++){const k=L[p];ie(L.lastIndexOf(k)===p,"Expected targetIds to be unique in the passed array.");const d=c.getTarget(k);ie(d,"Expected targetIds to be registered.")}}function _s(L,v,c){for(let p=L.length-1;p>=0;p--){const k=L[p],d=v.getTargetType(k);qt(d,c)||L.splice(p,1)}}function Ls(L,v,c){L.forEach(function(p){c.getTarget(p).hover(v,p)})}function xs(L){return function(){if(L.getMonitor().isDragging())return{type:fn}}}function ks(L){return{beginDrag:us(L),publishDragSource:xs(L),hover:Ts(L),drop:ys(L),endDrag:$s(L)}}class Rs{receiveBackend(v){this.backend=v}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const v=this,{dispatch:c}=this.store;function p(d){return(...S)=>{const w=d.apply(v,S);typeof w<"u"&&c(w)}}const k=ks(this);return Object.keys(k).reduce((d,S)=>{const w=k[S];return d[S]=p(w),d},{})}dispatch(v){this.store.dispatch(v)}constructor(v,c){this.isSetUp=!1,this.handleRefCountChange=()=>{const p=this.store.getState().refCount>0;this.backend&&(p&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!p&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=v,this.monitor=c,v.subscribe(this.handleRefCountChange)}}function Is(L,v){return{x:L.x+v.x,y:L.y+v.y}}function yi(L,v){return{x:L.x-v.x,y:L.y-v.y}}function Os(L){const{clientOffset:v,initialClientOffset:c,initialSourceClientOffset:p}=L;return!v||!c||!p?null:yi(Is(v,p),c)}function Ds(L){const{clientOffset:v,initialClientOffset:c}=L;return!v||!c?null:yi(v,c)}const ft=[],gn=[];ft.__IS_NONE__=!0;gn.__IS_ALL__=!0;function Ps(L,v){return L===ft?!1:L===gn||typeof v>"u"?!0:cs(v,L).length>0}class Fs{subscribeToStateChange(v,c={}){const{handlerIds:p}=c;ie(typeof v=="function","listener must be a function."),ie(typeof p>"u"||Array.isArray(p),"handlerIds, when specified, must be an array of strings.");let k=this.store.getState().stateId;const d=()=>{const S=this.store.getState(),w=S.stateId;try{w===k||w===k+1&&!Ps(S.dirtyHandlerIds,p)||v()}finally{k=w}};return this.store.subscribe(d)}subscribeToOffsetChange(v){ie(typeof v=="function","listener must be a function.");let c=this.store.getState().dragOffset;const p=()=>{const k=this.store.getState().dragOffset;k!==c&&(c=k,v())};return this.store.subscribe(p)}canDragSource(v){if(!v)return!1;const c=this.registry.getSource(v);return ie(c,`Expected to find a valid source. sourceId=${v}`),this.isDragging()?!1:c.canDrag(this,v)}canDropOnTarget(v){if(!v)return!1;const c=this.registry.getTarget(v);if(ie(c,`Expected to find a valid target. targetId=${v}`),!this.isDragging()||this.didDrop())return!1;const p=this.registry.getTargetType(v),k=this.getItemType();return qt(p,k)&&c.canDrop(this,v)}isDragging(){return!!this.getItemType()}isDraggingSource(v){if(!v)return!1;const c=this.registry.getSource(v,!0);if(ie(c,`Expected to find a valid source. sourceId=${v}`),!this.isDragging()||!this.isSourcePublic())return!1;const p=this.registry.getSourceType(v),k=this.getItemType();return p!==k?!1:c.isDragging(this,v)}isOverTarget(v,c={shallow:!1}){if(!v)return!1;const{shallow:p}=c;if(!this.isDragging())return!1;const k=this.registry.getTargetType(v),d=this.getItemType();if(d&&!qt(k,d))return!1;const S=this.getTargetIds();if(!S.length)return!1;const w=S.indexOf(v);return p?w===S.length-1:w>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Os(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Ds(this.store.getState().dragOffset)}constructor(v,c){this.store=v,this.registry=c}}const Un=typeof global<"u"?global:self,wi=Un.MutationObserver||Un.WebKitMutationObserver;function bi(L){return function(){const c=setTimeout(k,0),p=setInterval(k,50);function k(){clearTimeout(c),clearInterval(p),L()}}}function Ns(L){let v=1;const c=new wi(L),p=document.createTextNode("");return c.observe(p,{characterData:!0}),function(){v=-v,p.data=v}}const Hs=typeof wi=="function"?Ns:bi;class Ws{enqueueTask(v){const{queue:c,requestFlush:p}=this;c.length||(p(),this.flushing=!0),c[c.length]=v}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:v}=this;for(;this.index<v.length;){const c=this.index;if(this.index++,v[c].call(),this.index>this.capacity){for(let p=0,k=v.length-this.index;p<k;p++)v[p]=v[p+this.index];v.length-=this.index,this.index=0}}v.length=0,this.index=0,this.flushing=!1},this.registerPendingError=v=>{this.pendingErrors.push(v),this.requestErrorThrow()},this.requestFlush=Hs(this.flush),this.requestErrorThrow=bi(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Bs{call(){try{this.task&&this.task()}catch(v){this.onError(v)}finally{this.task=null,this.release(this)}}constructor(v,c){this.onError=v,this.release=c,this.task=null}}class zs{create(v){const c=this.freeTasks,p=c.length?c.pop():new Bs(this.onError,k=>c[c.length]=k);return p.task=v,p}constructor(v){this.onError=v,this.freeTasks=[]}}const Si=new Ws,Us=new zs(Si.registerPendingError);function Vs(L){Si.enqueueTask(Us.create(L))}const pn="dnd-core/ADD_SOURCE",vn="dnd-core/ADD_TARGET",mn="dnd-core/REMOVE_SOURCE",It="dnd-core/REMOVE_TARGET";function Gs(L){return{type:pn,payload:{sourceId:L}}}function Ks(L){return{type:vn,payload:{targetId:L}}}function js(L){return{type:mn,payload:{sourceId:L}}}function Ys(L){return{type:It,payload:{targetId:L}}}function Xs(L){ie(typeof L.canDrag=="function","Expected canDrag to be a function."),ie(typeof L.beginDrag=="function","Expected beginDrag to be a function."),ie(typeof L.endDrag=="function","Expected endDrag to be a function.")}function Qs(L){ie(typeof L.canDrop=="function","Expected canDrop to be a function."),ie(typeof L.hover=="function","Expected hover to be a function."),ie(typeof L.drop=="function","Expected beginDrag to be a function.")}function en(L,v){if(v&&Array.isArray(L)){L.forEach(c=>en(c,!1));return}ie(typeof L=="string"||typeof L=="symbol",v?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Re;(function(L){L.SOURCE="SOURCE",L.TARGET="TARGET"})(Re||(Re={}));let Zs=0;function Js(){return Zs++}function qs(L){const v=Js().toString();switch(L){case Re.SOURCE:return`S${v}`;case Re.TARGET:return`T${v}`;default:throw new Error(`Unknown Handler Role: ${L}`)}}function Vn(L){switch(L[0]){case"S":return Re.SOURCE;case"T":return Re.TARGET;default:throw new Error(`Cannot parse handler ID: ${L}`)}}function Gn(L,v){const c=L.entries();let p=!1;do{const{done:k,value:[,d]}=c.next();if(d===v)return!0;p=!!k}while(!p);return!1}class ea{addSource(v,c){en(v),Xs(c);const p=this.addHandler(Re.SOURCE,v,c);return this.store.dispatch(Gs(p)),p}addTarget(v,c){en(v,!0),Qs(c);const p=this.addHandler(Re.TARGET,v,c);return this.store.dispatch(Ks(p)),p}containsHandler(v){return Gn(this.dragSources,v)||Gn(this.dropTargets,v)}getSource(v,c=!1){return ie(this.isSourceId(v),"Expected a valid source ID."),c&&v===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(v)}getTarget(v){return ie(this.isTargetId(v),"Expected a valid target ID."),this.dropTargets.get(v)}getSourceType(v){return ie(this.isSourceId(v),"Expected a valid source ID."),this.types.get(v)}getTargetType(v){return ie(this.isTargetId(v),"Expected a valid target ID."),this.types.get(v)}isSourceId(v){return Vn(v)===Re.SOURCE}isTargetId(v){return Vn(v)===Re.TARGET}removeSource(v){ie(this.getSource(v),"Expected an existing source."),this.store.dispatch(js(v)),Vs(()=>{this.dragSources.delete(v),this.types.delete(v)})}removeTarget(v){ie(this.getTarget(v),"Expected an existing target."),this.store.dispatch(Ys(v)),this.dropTargets.delete(v),this.types.delete(v)}pinSource(v){const c=this.getSource(v);ie(c,"Expected an existing source."),this.pinnedSourceId=v,this.pinnedSource=c}unpinSource(){ie(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(v,c,p){const k=qs(v);return this.types.set(k,c),v===Re.SOURCE?this.dragSources.set(k,p):v===Re.TARGET&&this.dropTargets.set(k,p),k}constructor(v){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=v}}const ta=(L,v)=>L===v;function na(L,v){return!L&&!v?!0:!L||!v?!1:L.x===v.x&&L.y===v.y}function ia(L,v,c=ta){if(L.length!==v.length)return!1;for(let p=0;p<L.length;++p)if(!c(L[p],v[p]))return!1;return!0}function ra(L=ft,v){switch(v.type){case xt:break;case pn:case vn:case It:case mn:return ft;case Lt:case fn:case Rt:case kt:default:return gn}const{targetIds:c=[],prevTargetIds:p=[]}=v.payload,k=ls(c,p);if(!(k.length>0||!ia(c,p)))return ft;const S=p[p.length-1],w=c[c.length-1];return S!==w&&(S&&k.push(S),w&&k.push(w)),k}function oa(L,v,c){return v in L?Object.defineProperty(L,v,{value:c,enumerable:!0,configurable:!0,writable:!0}):L[v]=c,L}function sa(L){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{},p=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(c).filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable}))),p.forEach(function(k){oa(L,k,c[k])})}return L}const Kn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function aa(L=Kn,v){const{payload:c}=v;switch(v.type){case dn:case Lt:return{initialSourceClientOffset:c.sourceClientOffset,initialClientOffset:c.clientOffset,clientOffset:c.clientOffset};case xt:return na(L.clientOffset,c.clientOffset)?L:sa({},L,{clientOffset:c.clientOffset});case Rt:case kt:return Kn;default:return L}}function la(L,v,c){return v in L?Object.defineProperty(L,v,{value:c,enumerable:!0,configurable:!0,writable:!0}):L[v]=c,L}function nt(L){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{},p=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(c).filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable}))),p.forEach(function(k){la(L,k,c[k])})}return L}const ca={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ha(L=ca,v){const{payload:c}=v;switch(v.type){case Lt:return nt({},L,{itemType:c.itemType,item:c.item,sourceId:c.sourceId,isSourcePublic:c.isSourcePublic,dropResult:null,didDrop:!1});case fn:return nt({},L,{isSourcePublic:!0});case xt:return nt({},L,{targetIds:c.targetIds});case It:return L.targetIds.indexOf(c.targetId)===-1?L:nt({},L,{targetIds:as(L.targetIds,c.targetId)});case kt:return nt({},L,{dropResult:c.dropResult,didDrop:!0,targetIds:[]});case Rt:return nt({},L,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return L}}function ua(L=0,v){switch(v.type){case pn:case vn:return L+1;case mn:case It:return L-1;default:return L}}function da(L=0){return L+1}function fa(L,v,c){return v in L?Object.defineProperty(L,v,{value:c,enumerable:!0,configurable:!0,writable:!0}):L[v]=c,L}function ga(L){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{},p=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(c).filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable}))),p.forEach(function(k){fa(L,k,c[k])})}return L}function pa(L={},v){return{dirtyHandlerIds:ra(L.dirtyHandlerIds,{type:v.type,payload:ga({},v.payload,{prevTargetIds:ss(L,"dragOperation.targetIds",[])})}),dragOffset:aa(L.dragOffset,v),refCount:ua(L.refCount,v),dragOperation:ha(L.dragOperation,v),stateId:da(L.stateId)}}function va(L,v=void 0,c={},p=!1){const k=ma(p),d=new Fs(k,new ea(k)),S=new Rs(k,d),w=L(S,v,c);return S.receiveBackend(w),S}function ma(L){const v=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return vi(pa,L&&v&&v({name:"dnd-core",instanceId:"dnd-core"}))}function ya(L,v){if(L==null)return{};var c=wa(L,v),p,k;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(L);for(k=0;k<d.length;k++)p=d[k],!(v.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(L,p)&&(c[p]=L[p])}return c}function wa(L,v){if(L==null)return{};var c={},p=Object.keys(L),k,d;for(d=0;d<p.length;d++)k=p[d],!(v.indexOf(k)>=0)&&(c[k]=L[k]);return c}let jn=0;const $t=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ba=ue.memo(function(v){var{children:c}=v,p=ya(v,["children"]);const[k,d]=Sa(p);return ue.useEffect(()=>{if(d){const S=Ci();return++jn,()=>{--jn===0&&(S[$t]=null)}}},[]),Me.jsx(pi.Provider,{value:k,children:c})});function Sa(L){if("manager"in L)return[{dragDropManager:L.manager},!1];const v=Ca(L.backend,L.context,L.options,L.debugMode),c=!L.context;return[v,c]}function Ca(L,v=Ci(),c,p){const k=v;return k[$t]||(k[$t]={dragDropManager:va(L,v,c,p)}),k[$t]}function Ci(){return typeof global<"u"?global:window}var $a=function L(v,c){if(v===c)return!0;if(v&&c&&typeof v=="object"&&typeof c=="object"){if(v.constructor!==c.constructor)return!1;var p,k,d;if(Array.isArray(v)){if(p=v.length,p!=c.length)return!1;for(k=p;k--!==0;)if(!L(v[k],c[k]))return!1;return!0}if(v.constructor===RegExp)return v.source===c.source&&v.flags===c.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===c.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===c.toString();if(d=Object.keys(v),p=d.length,p!==Object.keys(c).length)return!1;for(k=p;k--!==0;)if(!Object.prototype.hasOwnProperty.call(c,d[k]))return!1;for(k=p;k--!==0;){var S=d[k];if(!L(v[S],c[S]))return!1}return!0}return v!==v&&c!==c};const Aa=qn($a),Je=typeof window<"u"?ue.useLayoutEffect:ue.useEffect;function Ta(L,v,c){const[p,k]=ue.useState(()=>v(L)),d=ue.useCallback(()=>{const S=v(L);Aa(p,S)||(k(S),c&&c())},[p,L,c]);return Je(d),[p,d]}function Ea(L,v,c){const[p,k]=Ta(L,v,c);return Je(function(){const S=L.getHandlerId();if(S!=null)return L.subscribeToStateChange(k,{handlerIds:[S]})},[L,k]),p}function $i(L,v,c){return Ea(v,L||(()=>({})),()=>c.reconnect())}function Ai(L,v){const c=[...v||[]];return v==null&&typeof L!="function"&&c.push(L),ue.useMemo(()=>typeof L=="function"?L():L,c)}function Ma(L){return ue.useMemo(()=>L.hooks.dragSource(),[L])}function _a(L){return ue.useMemo(()=>L.hooks.dragPreview(),[L])}let Gt=!1,Kt=!1;class La{receiveHandlerId(v){this.sourceId=v}getHandlerId(){return this.sourceId}canDrag(){ie(!Gt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Gt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Gt=!1}}isDragging(){if(!this.sourceId)return!1;ie(!Kt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Kt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Kt=!1}}subscribeToStateChange(v,c){return this.internalMonitor.subscribeToStateChange(v,c)}isDraggingSource(v){return this.internalMonitor.isDraggingSource(v)}isOverTarget(v,c){return this.internalMonitor.isOverTarget(v,c)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(v){return this.internalMonitor.subscribeToOffsetChange(v)}canDragSource(v){return this.internalMonitor.canDragSource(v)}canDropOnTarget(v){return this.internalMonitor.canDropOnTarget(v)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(v){this.sourceId=null,this.internalMonitor=v.getMonitor()}}let jt=!1;class xa{receiveHandlerId(v){this.targetId=v}getHandlerId(){return this.targetId}subscribeToStateChange(v,c){return this.internalMonitor.subscribeToStateChange(v,c)}canDrop(){if(!this.targetId)return!1;ie(!jt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return jt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{jt=!1}}isOver(v){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,v):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(v){this.targetId=null,this.internalMonitor=v.getMonitor()}}function ka(L,v,c){const p=c.getRegistry(),k=p.addTarget(L,v);return[k,()=>p.removeTarget(k)]}function Ra(L,v,c){const p=c.getRegistry(),k=p.addSource(L,v);return[k,()=>p.removeSource(k)]}function tn(L,v,c,p){let k=c?c.call(p,L,v):void 0;if(k!==void 0)return!!k;if(L===v)return!0;if(typeof L!="object"||!L||typeof v!="object"||!v)return!1;const d=Object.keys(L),S=Object.keys(v);if(d.length!==S.length)return!1;const w=Object.prototype.hasOwnProperty.bind(v);for(let s=0;s<d.length;s++){const a=d[s];if(!w(a))return!1;const t=L[a],e=v[a];if(k=c?c.call(p,t,e,a):void 0,k===!1||k===void 0&&t!==e)return!1}return!0}function nn(L){return L!==null&&typeof L=="object"&&Object.prototype.hasOwnProperty.call(L,"current")}function Ia(L){if(typeof L.type=="string")return;const v=L.type.displayName||L.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${v} into a <div>, or turn it into a drag source or a drop target itself.`)}function Oa(L){return(v=null,c=null)=>{if(!ue.isValidElement(v)){const d=v;return L(d,c),d}const p=v;return Ia(p),Da(p,c?d=>L(d,c):L)}}function Ti(L){const v={};return Object.keys(L).forEach(c=>{const p=L[c];if(c.endsWith("Ref"))v[c]=L[c];else{const k=Oa(p);v[c]=()=>k}}),v}function Yn(L,v){typeof L=="function"?L(v):L.current=v}function Da(L,v){const c=L.ref;return ie(typeof c!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),c?ue.cloneElement(L,{ref:p=>{Yn(c,p),Yn(v,p)}}):ue.cloneElement(L,{ref:v})}class Pa{receiveHandlerId(v){this.handlerId!==v&&(this.handlerId=v,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(v){this.dragSourceOptionsInternal=v}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(v){this.dragPreviewOptionsInternal=v}reconnect(){const v=this.reconnectDragSource();this.reconnectDragPreview(v)}reconnectDragSource(){const v=this.dragSource,c=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return c&&this.disconnectDragSource(),this.handlerId?v?(c&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=v,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,v,this.dragSourceOptions)),c):(this.lastConnectedDragSource=v,c):c}reconnectDragPreview(v=!1){const c=this.dragPreview,p=v||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(p&&this.disconnectDragPreview(),!!this.handlerId){if(!c){this.lastConnectedDragPreview=c;return}p&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=c,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,c,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!tn(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!tn(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(v){this.hooks=Ti({dragSource:(c,p)=>{this.clearDragSource(),this.dragSourceOptions=p||null,nn(c)?this.dragSourceRef=c:this.dragSourceNode=c,this.reconnectDragSource()},dragPreview:(c,p)=>{this.clearDragPreview(),this.dragPreviewOptions=p||null,nn(c)?this.dragPreviewRef=c:this.dragPreviewNode=c,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=v}}class Fa{get connectTarget(){return this.dropTarget}reconnect(){const v=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();v&&this.disconnectDropTarget();const c=this.dropTarget;if(this.handlerId){if(!c){this.lastConnectedDropTarget=c;return}v&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=c,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,c,this.dropTargetOptions))}}receiveHandlerId(v){v!==this.handlerId&&(this.handlerId=v,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(v){this.dropTargetOptionsInternal=v}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!tn(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(v){this.hooks=Ti({dropTarget:(c,p)=>{this.clearDropTarget(),this.dropTargetOptions=p,nn(c)?this.dropTargetRef=c:this.dropTargetNode=c,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=v}}function st(){const{dragDropManager:L}=ue.useContext(pi);return ie(L!=null,"Expected drag drop context"),L}function Na(L,v){const c=st(),p=ue.useMemo(()=>new Pa(c.getBackend()),[c]);return Je(()=>(p.dragSourceOptions=L||null,p.reconnect(),()=>p.disconnectDragSource()),[p,L]),Je(()=>(p.dragPreviewOptions=v||null,p.reconnect(),()=>p.disconnectDragPreview()),[p,v]),p}function Ha(){const L=st();return ue.useMemo(()=>new La(L),[L])}class Wa{beginDrag(){const v=this.spec,c=this.monitor;let p=null;return typeof v.item=="object"?p=v.item:typeof v.item=="function"?p=v.item(c):p={},p??null}canDrag(){const v=this.spec,c=this.monitor;return typeof v.canDrag=="boolean"?v.canDrag:typeof v.canDrag=="function"?v.canDrag(c):!0}isDragging(v,c){const p=this.spec,k=this.monitor,{isDragging:d}=p;return d?d(k):c===v.getSourceId()}endDrag(){const v=this.spec,c=this.monitor,p=this.connector,{end:k}=v;k&&k(c.getItem(),c),p.reconnect()}constructor(v,c,p){this.spec=v,this.monitor=c,this.connector=p}}function Ba(L,v,c){const p=ue.useMemo(()=>new Wa(L,v,c),[v,c]);return ue.useEffect(()=>{p.spec=L},[L]),p}function za(L){return ue.useMemo(()=>{const v=L.type;return ie(v!=null,"spec.type must be defined"),v},[L])}function Ua(L,v,c){const p=st(),k=Ba(L,v,c),d=za(L);Je(function(){if(d!=null){const[w,s]=Ra(d,k,p);return v.receiveHandlerId(w),c.receiveHandlerId(w),s}},[p,v,c,k,d])}function Va(L,v){const c=Ai(L,v);ie(!c.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const p=Ha(),k=Na(c.options,c.previewOptions);return Ua(c,p,k),[$i(c.collect,p,k),Ma(k),_a(k)]}function Ga(L){return ue.useMemo(()=>L.hooks.dropTarget(),[L])}function Ka(L){const v=st(),c=ue.useMemo(()=>new Fa(v.getBackend()),[v]);return Je(()=>(c.dropTargetOptions=L||null,c.reconnect(),()=>c.disconnectDropTarget()),[L]),c}function ja(){const L=st();return ue.useMemo(()=>new xa(L),[L])}function Ya(L){const{accept:v}=L;return ue.useMemo(()=>(ie(L.accept!=null,"accept must be defined"),Array.isArray(v)?v:[v]),[v])}class Xa{canDrop(){const v=this.spec,c=this.monitor;return v.canDrop?v.canDrop(c.getItem(),c):!0}hover(){const v=this.spec,c=this.monitor;v.hover&&v.hover(c.getItem(),c)}drop(){const v=this.spec,c=this.monitor;if(v.drop)return v.drop(c.getItem(),c)}constructor(v,c){this.spec=v,this.monitor=c}}function Qa(L,v){const c=ue.useMemo(()=>new Xa(L,v),[v]);return ue.useEffect(()=>{c.spec=L},[L]),c}function Za(L,v,c){const p=st(),k=Qa(L,v),d=Ya(L);Je(function(){const[w,s]=ka(d,k,p);return v.receiveHandlerId(w),c.receiveHandlerId(w),s},[p,v,k,c,d.map(S=>S.toString()).join("|")])}function Ja(L,v){const c=Ai(L,v),p=ja(),k=Ka(c.options);return Za(c,p,k),[$i(c.collect,p,k),Ga(k)]}function Ei(L){let v=null;return()=>(v==null&&(v=L()),v)}function qa(L,v){return L.filter(c=>c!==v)}function el(L,v){const c=new Set,p=d=>c.add(d);L.forEach(p),v.forEach(p);const k=[];return c.forEach(d=>k.push(d)),k}class tl{enter(v){const c=this.entered.length,p=k=>this.isNodeInDocument(k)&&(!k.contains||k.contains(v));return this.entered=el(this.entered.filter(p),[v]),c===0&&this.entered.length>0}leave(v){const c=this.entered.length;return this.entered=qa(this.entered.filter(this.isNodeInDocument),v),c>0&&this.entered.length===0}reset(){this.entered=[]}constructor(v){this.entered=[],this.isNodeInDocument=v}}class nl{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(v=>{Object.defineProperty(this.item,v,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${v}" until the drop event.`),null}})})}loadDataTransfer(v){if(v){const c={};Object.keys(this.config.exposeProperties).forEach(p=>{const k=this.config.exposeProperties[p];k!=null&&(c[p]={value:k(v,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,c)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(v,c){return c===v.getSourceId()}endDrag(){}constructor(v){this.config=v,this.item={},this.initializeExposedProperties()}}const Mi="__NATIVE_FILE__",_i="__NATIVE_URL__",Li="__NATIVE_TEXT__",xi="__NATIVE_HTML__",Xn=Object.freeze(Object.defineProperty({__proto__:null,FILE:Mi,HTML:xi,TEXT:Li,URL:_i},Symbol.toStringTag,{value:"Module"}));function Yt(L,v,c){const p=v.reduce((k,d)=>k||L.getData(d),"");return p??c}const rn={[Mi]:{exposeProperties:{files:L=>Array.prototype.slice.call(L.files),items:L=>L.items,dataTransfer:L=>L},matchesTypes:["Files"]},[xi]:{exposeProperties:{html:(L,v)=>Yt(L,v,""),dataTransfer:L=>L},matchesTypes:["Html","text/html"]},[_i]:{exposeProperties:{urls:(L,v)=>Yt(L,v,"").split(`
`),dataTransfer:L=>L},matchesTypes:["Url","text/uri-list"]},[Li]:{exposeProperties:{text:(L,v)=>Yt(L,v,""),dataTransfer:L=>L},matchesTypes:["Text","text/plain"]}};function il(L,v){const c=rn[L];if(!c)throw new Error(`native type ${L} has no configuration`);const p=new nl(c);return p.loadDataTransfer(v),p}function Xt(L){if(!L)return null;const v=Array.prototype.slice.call(L.types||[]);return Object.keys(rn).filter(c=>{const p=rn[c];return p!=null&&p.matchesTypes?p.matchesTypes.some(k=>v.indexOf(k)>-1):!1})[0]||null}const rl=Ei(()=>/firefox/i.test(navigator.userAgent)),ki=Ei(()=>!!window.safari);class Qn{interpolate(v){const{xs:c,ys:p,c1s:k,c2s:d,c3s:S}=this;let w=c.length-1;if(v===c[w])return p[w];let s=0,a=S.length-1,t;for(;s<=a;){t=Math.floor(.5*(s+a));const i=c[t];if(i<v)s=t+1;else if(i>v)a=t-1;else return p[t]}w=Math.max(0,a);const e=v-c[w],n=e*e;return p[w]+k[w]*e+d[w]*n+S[w]*e*n}constructor(v,c){const{length:p}=v,k=[];for(let i=0;i<p;i++)k.push(i);k.sort((i,r)=>v[i]<v[r]?-1:1);const d=[],S=[];let w,s;for(let i=0;i<p-1;i++)w=v[i+1]-v[i],s=c[i+1]-c[i],d.push(w),S.push(s/w);const a=[S[0]];for(let i=0;i<d.length-1;i++){const r=S[i],o=S[i+1];if(r*o<=0)a.push(0);else{w=d[i];const l=d[i+1],m=w+l;a.push(3*m/((m+l)/r+(m+w)/o))}}a.push(S[S.length-1]);const t=[],e=[];let n;for(let i=0;i<a.length-1;i++){n=S[i];const r=a[i],o=1/d[i],l=r+a[i+1]-n-n;t.push((n-r-l)*o),e.push(l*o*o)}this.xs=v,this.ys=c,this.c1s=a,this.c2s=t,this.c3s=e}}const ol=1;function Ri(L){const v=L.nodeType===ol?L:L.parentElement;if(!v)return null;const{top:c,left:p}=v.getBoundingClientRect();return{x:p,y:c}}function Ct(L){return{x:L.clientX,y:L.clientY}}function sl(L){var v;return L.nodeName==="IMG"&&(rl()||!(!((v=document.documentElement)===null||v===void 0)&&v.contains(L)))}function al(L,v,c,p){let k=L?v.width:c,d=L?v.height:p;return ki()&&L&&(d/=window.devicePixelRatio,k/=window.devicePixelRatio),{dragPreviewWidth:k,dragPreviewHeight:d}}function ll(L,v,c,p,k){const d=sl(v),w=Ri(d?L:v),s={x:c.x-w.x,y:c.y-w.y},{offsetWidth:a,offsetHeight:t}=L,{anchorX:e,anchorY:n}=p,{dragPreviewWidth:i,dragPreviewHeight:r}=al(d,v,a,t),o=()=>{let h=new Qn([0,.5,1],[s.y,s.y/t*r,s.y+r-t]).interpolate(n);return ki()&&d&&(h+=(window.devicePixelRatio-1)*r),h},l=()=>new Qn([0,.5,1],[s.x,s.x/a*i,s.x+i-a]).interpolate(e),{offsetX:m,offsetY:u}=k,_=m===0||m,A=u===0||u;return{x:_?m:l(),y:A?u:o()}}class cl{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var v;return!((v=this.globalContext)===null||v===void 0)&&v.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var v;return((v=this.optionsArgs)===null||v===void 0?void 0:v.rootElement)||this.window}constructor(v,c){this.ownerDocument=null,this.globalContext=v,this.optionsArgs=c}}function hl(L,v,c){return v in L?Object.defineProperty(L,v,{value:c,enumerable:!0,configurable:!0,writable:!0}):L[v]=c,L}function Zn(L){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{},p=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(c).filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable}))),p.forEach(function(k){hl(L,k,c[k])})}return L}class ul{profile(){var v,c;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((v=this.dragStartSourceIds)===null||v===void 0?void 0:v.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((c=this.dragOverTargetIds)===null||c===void 0?void 0:c.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const v=this.rootElement;if(v!==void 0){if(v.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");v.__isReactDndBackendSetUp=!0,this.addEventListeners(v)}}teardown(){const v=this.rootElement;if(v!==void 0&&(v.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var c;(c=this.window)===null||c===void 0||c.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(v,c,p){return this.sourcePreviewNodeOptions.set(v,p),this.sourcePreviewNodes.set(v,c),()=>{this.sourcePreviewNodes.delete(v),this.sourcePreviewNodeOptions.delete(v)}}connectDragSource(v,c,p){this.sourceNodes.set(v,c),this.sourceNodeOptions.set(v,p);const k=S=>this.handleDragStart(S,v),d=S=>this.handleSelectStart(S);return c.setAttribute("draggable","true"),c.addEventListener("dragstart",k),c.addEventListener("selectstart",d),()=>{this.sourceNodes.delete(v),this.sourceNodeOptions.delete(v),c.removeEventListener("dragstart",k),c.removeEventListener("selectstart",d),c.setAttribute("draggable","false")}}connectDropTarget(v,c){const p=S=>this.handleDragEnter(S,v),k=S=>this.handleDragOver(S,v),d=S=>this.handleDrop(S,v);return c.addEventListener("dragenter",p),c.addEventListener("dragover",k),c.addEventListener("drop",d),()=>{c.removeEventListener("dragenter",p),c.removeEventListener("dragover",k),c.removeEventListener("drop",d)}}addEventListeners(v){v.addEventListener&&(v.addEventListener("dragstart",this.handleTopDragStart),v.addEventListener("dragstart",this.handleTopDragStartCapture,!0),v.addEventListener("dragend",this.handleTopDragEndCapture,!0),v.addEventListener("dragenter",this.handleTopDragEnter),v.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),v.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),v.addEventListener("dragover",this.handleTopDragOver),v.addEventListener("dragover",this.handleTopDragOverCapture,!0),v.addEventListener("drop",this.handleTopDrop),v.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(v){v.removeEventListener&&(v.removeEventListener("dragstart",this.handleTopDragStart),v.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),v.removeEventListener("dragend",this.handleTopDragEndCapture,!0),v.removeEventListener("dragenter",this.handleTopDragEnter),v.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),v.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),v.removeEventListener("dragover",this.handleTopDragOver),v.removeEventListener("dragover",this.handleTopDragOverCapture,!0),v.removeEventListener("drop",this.handleTopDrop),v.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const v=this.monitor.getSourceId(),c=this.sourceNodeOptions.get(v);return Zn({dropEffect:this.altKeyPressed?"copy":"move"},c||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const v=this.monitor.getSourceId(),c=this.sourcePreviewNodeOptions.get(v);return Zn({anchorX:.5,anchorY:.5,captureDraggingState:!1},c||{})}isDraggingNativeItem(){const v=this.monitor.getItemType();return Object.keys(Xn).some(c=>Xn[c]===v)}beginDragNativeItem(v,c){this.clearCurrentDragSourceNode(),this.currentNativeSource=il(v,c),this.currentNativeHandle=this.registry.addSource(v,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(v){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=v;const c=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var p;return(p=this.rootElement)===null||p===void 0?void 0:p.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},c)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var v;(v=this.window)===null||v===void 0||v.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(v,c){v.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(c))}handleDragEnter(v,c){this.dragEnterTargetIds.unshift(c)}handleDragOver(v,c){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(c)}handleDrop(v,c){this.dropTargetIds.unshift(c)}constructor(v,c,p){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=k=>{const d=this.sourceNodes.get(k);return d&&Ri(d)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=k=>!!(k&&this.document&&this.document.body&&this.document.body.contains(k)),this.endDragIfSourceWasRemovedFromDOM=()=>{const k=this.currentDragSourceNode;k==null||this.isNodeInDocument(k)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=k=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(k||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=k=>{if(k.defaultPrevented)return;const{dragStartSourceIds:d}=this;this.dragStartSourceIds=null;const S=Ct(k);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(d||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:S});const{dataTransfer:w}=k,s=Xt(w);if(this.monitor.isDragging()){if(w&&typeof w.setDragImage=="function"){const t=this.monitor.getSourceId(),e=this.sourceNodes.get(t),n=this.sourcePreviewNodes.get(t)||e;if(n){const{anchorX:i,anchorY:r,offsetX:o,offsetY:l}=this.getCurrentSourcePreviewNodeOptions(),_=ll(e,n,S,{anchorX:i,anchorY:r},{offsetX:o,offsetY:l});w.setDragImage(n,_.x,_.y)}}try{w==null||w.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(k.target);const{captureDraggingState:a}=this.getCurrentSourcePreviewNodeOptions();a?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(s)this.beginDragNativeItem(s);else{if(w&&!w.types&&(k.target&&!k.target.hasAttribute||!k.target.hasAttribute("draggable")))return;k.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=k=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(k.dataTransfer)}if(!this.enterLeaveCounter.enter(k.target)||this.monitor.isDragging())return;const{dataTransfer:w}=k,s=Xt(w);s&&this.beginDragNativeItem(s,w)},this.handleTopDragEnter=k=>{const{dragEnterTargetIds:d}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=k.altKey,d.length>0&&this.actions.hover(d,{clientOffset:Ct(k)}),d.some(w=>this.monitor.canDropOnTarget(w))&&(k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=k=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(k.dataTransfer)}},this.handleTopDragOver=k=>{const{dragOverTargetIds:d}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect="none");return}this.altKeyPressed=k.altKey,this.lastClientOffset=Ct(k),this.scheduleHover(d),(d||[]).some(w=>this.monitor.canDropOnTarget(w))?(k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?k.preventDefault():(k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=k=>{this.isDraggingNativeItem()&&k.preventDefault(),this.enterLeaveCounter.leave(k.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=k=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var d;k.preventDefault(),(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(k.dataTransfer)}else Xt(k.dataTransfer)&&k.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=k=>{const{dropTargetIds:d}=this;this.dropTargetIds=[],this.actions.hover(d,{clientOffset:Ct(k)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=k=>{const d=k.target;typeof d.dragDrop=="function"&&(d.tagName==="INPUT"||d.tagName==="SELECT"||d.tagName==="TEXTAREA"||d.isContentEditable||(k.preventDefault(),d.dragDrop()))},this.options=new cl(c,p),this.actions=v.getActions(),this.monitor=v.getMonitor(),this.registry=v.getRegistry(),this.enterLeaveCounter=new tl(this.isNodeInDocument)}}const dl=function(v,c,p){return new ul(v,c,p)},Jn={CARD:"card"},fl={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},gl=({id:L,text:v,index:c,moveCard:p})=>{const k=ue.useRef(null),[{handlerId:d},S]=Ja({accept:Jn.CARD,collect(t){return{handlerId:t.getHandlerId()}},hover(t,e){var u;if(!k.current)return;const n=t.index,i=c;if(n===i)return;const r=(u=k.current)==null?void 0:u.getBoundingClientRect(),o=(r.bottom-r.top)/2,m=e.getClientOffset().y-r.top;n<i&&m<o||n>i&&m>o||(p(n,i),t.index=i)}}),[{isDragging:w},s]=Va({type:Jn.CARD,item:()=>({id:L,index:c}),collect:t=>({isDragging:t.isDragging()})}),a=w?0:1;return s(S(k)),Me.jsx("div",{ref:k,style:{...fl,opacity:a},"data-handler-id":d,children:v})},pl={width:400},vl=({cards:L,setCards:v})=>{const c=(p,k)=>v({dragIndex:p,hoverIndex:k});return Me.jsx(Me.Fragment,{children:Me.jsx("div",{style:pl,children:L.map((p,k)=>Me.jsx(gl,{index:k,id:p.id,text:p.text,moveCard:c},p.id))})})},ml=L=>Me.jsx(Me.Fragment,{children:Me.jsx(ba,{backend:dl,children:Me.jsx(vl,{...L})})}),yl=[{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"}],wl=(L,v)=>{switch(v.type){case"move":{const{dragIndex:c,hoverIndex:p}=v.payload;return kr(L,{$splice:[[c,1],[p,0,L[c]]]})}default:return{...L}}},Sl=()=>{const[L,v]=ue.useReducer(wl,yl);return Me.jsxs("div",{children:[Me.jsx(ml,{cards:L,setCards:c=>v({type:"move",payload:c})}),Me.jsx(es,{style:{border:"1px solid black"},readOnly:!0,mode:"json",theme:"github",value:JSON.stringify(L,null,2),name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}})]})};export{Sl as Component};
